function e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){var n=!1;try{n=this instanceof e}catch{}return n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var r,s,i,a,o={exports:{}},l={},c={exports:{}},u={};function d(){if(r)return u;r=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function j(t,n,r){var s,i={},a=null,o=null;if(null!=n)for(s in void 0!==n.ref&&(o=n.ref),void 0!==n.key&&(a=""+n.key),n)k.call(n,s)&&!_.hasOwnProperty(s)&&(i[s]=n[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:e,type:t,key:a,ref:o,props:i,_owner:S.current}}function E(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var C=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(n,r,s,i,a){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l=!1;if(null===n)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case e:case t:l=!0}}if(l)return a=a(l=n),n=""===i?"."+N(l,0):i,x(a)?(s="",null!=n&&(s=n.replace(C,"$&/")+"/"),T(a,r,s,"",function(e){return e})):null!=a&&(E(a)&&(a=function(t,n){return{$$typeof:e,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+n)),r.push(a)),1;if(l=0,i=""===i?".":i+":",x(n))for(var c=0;c<n.length;c++){var u=i+N(o=n[c],c);l+=T(o,r,s,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(n),"function"==typeof u)for(n=u.call(n),c=0;!(o=n.next()).done;)l+=T(o=o.value,r,s,u=i+N(o,c++),a);else if("object"===o)throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],s=0;return T(e,r,"","",function(e){return t.call(n,e,s++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},I={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}return u.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},u.Component=y,u.Fragment=n,u.Profiler=i,u.PureComponent=b,u.StrictMode=s,u.Suspense=c,u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,u.act=D,u.cloneElement=function(t,n,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=m({},t.props),i=t.key,a=t.ref,o=t._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,o=S.current),void 0!==n.key&&(i=""+n.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in n)k.call(n,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===n[c]&&void 0!==l?l[c]:n[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:e,type:t.type,key:i,ref:a,props:s,_owner:o}},u.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},u.createElement=j,u.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},u.createRef=function(){return{current:null}},u.forwardRef=function(e){return{$$typeof:l,render:e}},u.isValidElement=E,u.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},u.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},u.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},u.unstable_act=D,u.useCallback=function(e,t){return O.current.useCallback(e,t)},u.useContext=function(e){return O.current.useContext(e)},u.useDebugValue=function(){},u.useDeferredValue=function(e){return O.current.useDeferredValue(e)},u.useEffect=function(e,t){return O.current.useEffect(e,t)},u.useId=function(){return O.current.useId()},u.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},u.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},u.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},u.useMemo=function(e,t){return O.current.useMemo(e,t)},u.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},u.useRef=function(e){return O.current.useRef(e)},u.useState=function(e){return O.current.useState(e)},u.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},u.useTransition=function(){return O.current.useTransition()},u.version="18.3.1",u}function h(){return s||(s=1,c.exports=d()),c.exports}var f=(a||(a=1,o.exports=function(){if(i)return l;i=1;var e=h(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(e,n,i){var o,l={},c=null,u=null;for(o in void 0!==i&&(c=""+i),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)r.call(n,o)&&!a.hasOwnProperty(o)&&(l[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps)void 0===l[o]&&(l[o]=n[o]);return{$$typeof:t,type:e,key:c,ref:u,props:l,_owner:s.current}}return l.Fragment=n,l.jsx=o,l.jsxs=o,l}()),o.exports),p=h();const m=t(p),g=e({__proto__:null,default:m},[p]);var y,v,b,w,x,k={},S={exports:{}},_={},j={exports:{}},E={};function C(){return v||(v=1,j.exports=(y||(y=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var s=n(c);null!==s;){if(null===s.callback)r(c);else{if(!(s.startTime<=e))break;r(c),s.sortIndex=s.expirationTime,t(l,s)}s=n(c)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,O(x);else{var t=n(c);null!==t&&A(w,t.startTime-e)}}function x(t,s){p=!1,m&&(m=!1,y(j),j=-1),f=!0;var i=h;try{for(b(s),d=n(l);null!==d&&(!(d.expirationTime>s)||t&&!N());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var o=a(d.expirationTime<=s);s=e.unstable_now(),"function"==typeof o?d.callback=o:d===n(l)&&r(l),b(s)}else r(l);d=n(l)}if(null!==d)var u=!0;else{var g=n(c);null!==g&&A(w,g.startTime-s),u=!1}return u}finally{d=null,h=i,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,_=null,j=-1,E=5,C=-1;function N(){return!(e.unstable_now()-C<E)}function T(){if(null!==_){var t=e.unstable_now();C=t;var n=!0;try{n=_(!0,t)}finally{n?k():(S=!1,_=null)}}else S=!1}if("function"==typeof v)k=function(){v(T)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=T,k=function(){R.postMessage(null)}}else k=function(){g(T,0)};function O(e){_=e,S||(S=!0,k())}function A(t,n){j=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,O(x))},e.unstable_forceFrameRate=function(e){0>e||125<e||(E=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,s,i){var a=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:s,priorityLevel:r,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(r.sortIndex=i,t(c,r),null===n(l)&&r===n(c)&&(m?(y(j),j=-1):m=!0,A(w,i-a))):(r.sortIndex=o,t(l,r),p||f||(p=!0,O(x))),r},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(E)),E)),j.exports}function N(){if(b)return _;b=1;var e=h(),t=C();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(e,t){a(e,t),a(e+"Capture",t)}function a(e,t){for(s[e]=t,e=0;e<t.length;e++)r.add(t[e])}var o=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},d={};function f(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function y(e,t,n,r){var s=p.hasOwnProperty(t)?p[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!l.call(d,e)||!l.call(u,e)&&(c.test(e)?d[e]=!0:(u[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,g);p[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,g);p[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,g);p[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),D=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,$=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case j:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(n(92));if(ne(r)){if(1<r.length)throw Error(n(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,de,he=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(n(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,je=null;function Ee(e){if(e=ws(e)){if("function"!=typeof Se)throw Error(n(280));var t=e.stateNode;t&&(t=ks(t),Se(e.stateNode,e.type,t))}}function Ce(e){_e?je?je.push(e):je=[e]:_e=e}function Ne(){if(_e){var e=_e,t=je;if(je=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Pe(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==_e||null!==je)&&(Pe(),Ne())}}function Ae(e,t){var r=e.stateNode;if(null===r)return null;var s=ks(r);if(null===s)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(n(231,t,typeof r));return r}var Ie=!1;if(o)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Ie=!1}function Le(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,$e=null,Fe=!1,Ue=null,Be={onError:function(e){Me=!0,$e=e}};function ze(e,t,n,r,s,i,a,o,l){Me=!1,$e=null,Le.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(n(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(n(188));return t!==e?null:e}for(var r=e,s=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(s=i.return)){r=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return We(i),e;if(a===s)return We(i),t;a=a.sibling}throw Error(n(188))}if(r.return!==s.return)r=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o)throw Error(n(189))}}if(r.alternate!==s)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,Je=t.unstable_shouldYield,Ye=t.unstable_requestPaint,Xe=t.unstable_now,Ze=t.unstable_getCurrentPriorityLevel,et=t.unstable_ImmediatePriority,tt=t.unstable_UserBlockingPriority,nt=t.unstable_NormalPriority,rt=t.unstable_LowPriority,st=t.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ct|0)|0},lt=Math.log,ct=Math.LN2;var ut=64,dt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=ht(o):0!==(i&=a)&&(r=ht(i))}else 0!==(a=n&~s)?r=ht(a):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-ot(t)),r|=e[n],t&=~s;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var wt=0;function xt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var kt,St,_t,jt,Et,Ct=!1,Nt=[],Tt=null,Pt=null,Rt=null,Ot=new Map,At=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=ws(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function $t(e){var t=bs(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ws(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Rt&&Ft(Rt)&&(Rt=null),Ot.forEach(Ut),At.forEach(Ut)}function zt(e,n){e.blockedOn===n&&(e.blockedOn=null,Ct||(Ct=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Nt.length){zt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Pt&&zt(Pt,e),null!==Rt&&zt(Rt,e),Ot.forEach(t),At.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)$t(n),null===n.blockedOn&&It.shift()}var qt=v.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var s=wt,i=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=s,qt.transition=i}}function Kt(e,t,n,r){var s=wt,i=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=s,qt.transition=i}}function Gt(e,t,n,r){if(Wt){var s=Jt(e,t,n,r);if(null===s)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,s),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,s),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ot.set(i,Mt(Ot.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,At.set(i,Mt(At.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==s;){var i=ws(s);if(null!==i&&kt(i),null===(i=Jt(e,t,n,r))&&Wr(e,t,r,Qt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=bs(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,s="value"in Xt?Xt.value:Xt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return en=s.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function sn(){return!1}function an(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?rn:sn,this.isPropagationStopped=sn,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var on,ln,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(un),hn=$({},un,{view:0,detail:0}),fn=an(hn),pn=$({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=an(pn),gn=an($({},pn,{dataTransfer:0})),yn=an($({},hn,{relatedTarget:0})),vn=an($({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=$({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(bn),xn=an($({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return jn}var Cn=$({},hn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Cn),Tn=an($({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an($({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an($({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=$({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(On),In=[9,13,27,32],Dn=o&&"CompositionEvent"in window,Ln=null;o&&"documentMode"in document&&(Ln=document.documentMode);var Mn=o&&"TextEvent"in window&&!Ln,$n=o&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Jn(e){if(G(xs(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(o){var Zn;if(o){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"==typeof tr.oninput}Zn=er}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){Kn&&(Kn.detachEvent("onpropertychange",rr),Gn=Kn=null)}function rr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];Hn(t,Gn,e,ke(e)),Oe(Qn,t)}}function sr(e,t,n){"focusin"===e?(nr(),Gn=n,(Kn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ar(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!l.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=dr(n,i);var a=dr(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=o&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,br=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Kr(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},_r={},jr={};function Er(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return _r[e]=n[t];return e}o&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Er("animationend"),Nr=Er("animationiteration"),Tr=Er("animationstart"),Pr=Er("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Rr.set(e,t),i(t,[e])}for(var Ir=0;Ir<Or.length;Ir++){var Dr=Or[Ir];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Nr,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Pr,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function $r(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,s,i,a,o,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(n(198));var u=$e;Me=!1,$e=null,Fe||(Fe=!0,Ue=u)}}(s,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;$r(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;$r(s,o,c),i=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[gs];void 0===n&&(n=t[gs]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,r.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var s=Ht;break;case 4:s=Kt;break;default:s=Gt}n=s.bind(null,t,n,e),s=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,s){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=bs(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Oe(function(){var r=i,s=ke(n),a=[];e:{var o=Rr.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Cr:case Nr:case Tr:l=vn;break;case Pr:l=Rn;break;case"scroll":l=fn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bs(c)&&!c[ms])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bs(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:xs(l),f=null==c?o:xs(c),(o=new u(m,p+"leave",l,n,s)).target=d,o.relatedTarget=f,m=null,bs(s)===r&&((u=new u(h,p+"enter",c,n,s)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?xs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Wn(o))if(Xn)g=or;else{g=ir;var y=sr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(a,g,n,s):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&te(o,"number",o.value)),y=r?xs(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(yr=y,vr=r,br=null);break;case"focusout":br=vr=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(a,n,s);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(a,n,s)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&($n&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=tn()):(Zt="value"in(Xt=s)?Xt.value:Xt.textContent,Vn=!0)),0<(y=Kr(r,b)).length&&(b=new xn(b,e,null,n,s),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=tn(),en=Zt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=v))}Fr(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Ae(e,n))&&r.unshift(Hr(e,i,s)),null!=(i=Ae(e,t))&&r.push(Hr(e,i,s))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Ae(n,i))&&a.unshift(Hr(n,l,o)):s||null!=(l=Ae(n,i))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Zr(e,t,r){if(t=Xr(t),Xr(e)!==t&&r)throw Error(n(425))}function es(){}var ts=null,ns=null;function rs(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ss="function"==typeof setTimeout?setTimeout:void 0,is="function"==typeof clearTimeout?clearTimeout:void 0,as="function"==typeof Promise?Promise:void 0,os="function"==typeof queueMicrotask?queueMicrotask:void 0!==as?function(e){return as.resolve(null).then(e).catch(ls)}:ss;function ls(e){setTimeout(function(){throw e})}function cs(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Vt(t)}function us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),fs="__reactFiber$"+hs,ps="__reactProps$"+hs,ms="__reactContainer$"+hs,gs="__reactEvents$"+hs,ys="__reactListeners$"+hs,vs="__reactHandles$"+hs;function bs(e){var t=e[fs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ms]||n[fs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[fs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function ws(e){return!(e=e[fs]||e[ms])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function ks(e){return e[ps]||null}var Ss=[],_s=-1;function js(e){return{current:e}}function Es(e){0>_s||(e.current=Ss[_s],Ss[_s]=null,_s--)}function Cs(e,t){_s++,Ss[_s]=e.current,e.current=t}var Ns={},Ts=js(Ns),Ps=js(!1),Rs=Ns;function Os(e,t){var n=e.type.contextTypes;if(!n)return Ns;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function As(e){return null!=(e=e.childContextTypes)}function Is(){Es(Ps),Es(Ts)}function Ds(e,t,r){if(Ts.current!==Ns)throw Error(n(168));Cs(Ts,t),Cs(Ps,r)}function Ls(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,"function"!=typeof s.getChildContext)return r;for(var i in s=s.getChildContext())if(!(i in t))throw Error(n(108,q(e)||"Unknown",i));return $({},r,s)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ns,Rs=Ts.current,Cs(Ts,e),Cs(Ps,Ps.current),!0}function $s(e,t,r){var s=e.stateNode;if(!s)throw Error(n(169));r?(e=Ls(e,t,Rs),s.__reactInternalMemoizedMergedChildContext=e,Es(Ps),Es(Ts),Cs(Ts,e)):Es(Ps),Cs(Ps,r)}var Fs=null,Us=!1,Bs=!1;function zs(e){null===Fs?Fs=[e]:Fs.push(e)}function Vs(){if(!Bs&&null!==Fs){Bs=!0;var e=0,t=wt;try{var n=Fs;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,Us=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Ge(et,Vs),s}finally{wt=t,Bs=!1}}return null}var qs=[],Ws=0,Hs=null,Ks=0,Gs=[],Qs=0,Js=null,Ys=1,Xs="";function Zs(e,t){qs[Ws++]=Ks,qs[Ws++]=Hs,Hs=e,Ks=t}function ei(e,t,n){Gs[Qs++]=Ys,Gs[Qs++]=Xs,Gs[Qs++]=Js,Js=e;var r=Ys;e=Xs;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ys=1<<32-ot(t)+s|n<<s|r,Xs=i+e}else Ys=1<<i|n<<s|r,Xs=e}function ti(e){null!==e.return&&(Zs(e,1),ei(e,1,0))}function ni(e){for(;e===Hs;)Hs=qs[--Ws],qs[Ws]=null,Ks=qs[--Ws],qs[Ws]=null;for(;e===Js;)Js=Gs[--Qs],Gs[Qs]=null,Xs=Gs[--Qs],Gs[Qs]=null,Ys=Gs[--Qs],Gs[Qs]=null}var ri=null,si=null,ii=!1,ai=null;function oi(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,si=us(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,si=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Js?{id:Ys,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,si=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=si;if(t){var r=t;if(!li(e,t)){if(ci(e))throw Error(n(418));t=us(r.nextSibling);var s=ri;t&&li(e,t)?oi(s,r):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(n(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rs(e.type,e.memoizedProps)),t&&(t=si)){if(ci(e))throw fi(),Error(n(418));for(;t;)oi(e,t),t=us(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){si=us(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}si=null}}else si=ri?us(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=si;e;)e=us(e.nextSibling)}function pi(){si=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=v.ReactCurrentBatchConfig;function yi(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var s=r.stateNode}if(!s)throw Error(n(147,e));var i=s,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(n(284));if(!r._owner)throw Error(n(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function r(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===A&&bi(s)===t.type)?((r=i(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case x:return(t=$c(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(ne(t)||L(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==s?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case x:return n.key===s?u(e,t,n,r):null;case A:return f(e,t,(s=n._init)(n._payload),r)}if(ne(n)||L(n))return null!==s?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,s){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case A:return p(e,t,n,(0,r._init)(r._payload),s)}if(ne(r)||L(r))return d(t,e=e.get(n)||null,r,s,null);vi(t,r)}return null}return function l(c,u,d,m){if("object"==typeof d&&null!==d&&d.type===k&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case w:e:{for(var g=d.key,y=u;null!==y;){if(y.key===g){if((g=d.type)===k){if(7===y.tag){r(c,y.sibling),(u=i(y,d.props.children)).return=c,c=u;break e}}else if(y.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===A&&bi(g)===y.type){r(c,y.sibling),(u=i(y,d.props)).ref=yi(c,y,d),u.return=c,c=u;break e}r(c,y);break}t(c,y),y=y.sibling}d.type===k?((u=Dc(d.props.children,c.mode,m,d.key)).return=c,c=u):((m=Ic(d.type,d.key,d.props,null,c.mode,m)).ref=yi(c,u,d),m.return=c,c=m)}return o(c);case x:e:{for(y=d.key;null!==u;){if(u.key===y){if(4===u.tag&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){r(c,u.sibling),(u=i(u,d.children||[])).return=c,c=u;break e}r(c,u);break}t(c,u),u=u.sibling}(u=$c(d,c.mode,m)).return=c,c=u}return o(c);case A:return l(c,u,(y=d._init)(d._payload),m)}if(ne(d))return function(n,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(n,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(n,d),i=a(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return r(n,d),ii&&Zs(n,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(n,o[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Zs(n,m),c}for(d=s(n,d);m<o.length;m++)null!==(g=p(d,n,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(n,e)}),ii&&Zs(n,m),c}(c,u,d,m);if(L(d))return function(i,o,l,c){var u=L(l);if("function"!=typeof u)throw Error(n(150));if(null==(l=u.call(l)))throw Error(n(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return r(i,m),ii&&Zs(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return ii&&Zs(i,g),u}for(m=s(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),ii&&Zs(i,g),u}(c,u,d,m);vi(c,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==u&&6===u.tag?(r(c,u.sibling),(u=i(u,d)).return=c,c=u):(r(c,u),(u=Mc(d,c.mode,m)).return=c,c=u),o(c)):r(c,u)}}var xi=wi(!0),ki=wi(!1),Si=js(null),_i=null,ji=null,Ei=null;function Ci(){Ei=ji=_i=null}function Ni(e){var t=Si.current;Es(Si),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){_i=e,Ei=ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ri(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===ji){if(null===_i)throw Error(n(308));ji=e,_i.dependencies={lanes:0,firstContext:e}}else ji=ji.next=e;return t}var Oi=null;function Ai(e){null===Oi?Oi=[e]:Oi.push(e)}function Ii(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ai(t)):(n.next=s.next,s.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $i(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Nl){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Di(e,n)}return null===(s=r.interleaved)?(t.next=t,Ai(r)):(t.next=s.next,s.next=t),r.interleaved=t,Di(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var s=e.updateQueue;Li=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=$({},d,h);break e;case 2:Li=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function qi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(null!==i){if(s.callback=null,s=r,"function"!=typeof i)throw Error(n(191,i));i.call(s)}}}var Wi={},Hi=js(Wi),Ki=js(Wi),Gi=js(Wi);function Qi(e){if(e===Wi)throw Error(n(174));return e}function Ji(e,t){switch(Cs(Gi,t),Cs(Ki,e),Cs(Hi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Es(Hi),Cs(Hi,t)}function Yi(){Es(Hi),Es(Ki),Es(Gi)}function Xi(e){Qi(Gi.current);var t=Qi(Hi.current),n=ce(t,e.type);t!==n&&(Cs(Ki,e),Cs(Hi,n))}function Zi(e){Ki.current===e&&(Es(Hi),Es(Ki))}var ea=js(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var sa=v.ReactCurrentDispatcher,ia=v.ReactCurrentBatchConfig,aa=0,oa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(n(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ga(e,t,r,s,i,a){if(aa=a,oa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sa.current=null===e||null===e.memoizedState?Za:eo,e=r(s,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(n(301));a+=1,ca=la=null,t.updateQueue=null,sa.current=to,e=r(s,i)}while(da)}if(sa.current=Xa,t=null!==la&&null!==la.next,aa=0,ca=la=oa=null,ua=!1,t)throw Error(n(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?oa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=oa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?oa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(n(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?oa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"==typeof t?t(e):t}function xa(e){var t=ba(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var s=la,i=s.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,r.pending=null}if(null!==i){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=s):c=c.next=h,oa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=s:c.next=l,lr(s,t.memoizedState)||(bo=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(null!==(e=r.interleaved)){i=e;do{a=i.lane,oa.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ka(e){var t=ba(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var s=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);lr(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function Sa(){}function _a(e,t){var r=oa,s=ba(),i=t(),a=!lr(s.memoizedState,i);if(a&&(s.memoizedState=i,bo=!0),s=s.queue,La(Ca.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(r.flags|=2048,Ra(9,Ea.bind(null,r,s,i,t),void 0,null),null===Tl)throw Error(n(349));30&aa||ja(r,t,i)}return i}function ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&Ta(e)}function Ca(e,t,n){return n(function(){Na(t)&&Ta(e)})}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Ta(e){var t=Di(e,1);null!==t&&nc(t,e,1,-1)}function Pa(e){var t=va();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,oa,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return ba().memoizedState}function Aa(e,t,n,r){var s=va();oa.flags|=e,s.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function Ia(e,t,n,r){var s=ba();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(s.memoizedState=Ra(t,n,i,r))}oa.flags|=e,s.memoizedState=Ra(1|t,n,i,r)}function Da(e,t){return Aa(8390656,8,e,t)}function La(e,t){return Ia(2048,8,e,t)}function Ma(e,t){return Ia(4,2,e,t)}function $a(e,t){return Ia(4,4,e,t)}function Fa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!=n?n.concat([e]):null,Ia(4,4,Fa.bind(null,t,e),n)}function Ba(){}function za(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 21&aa?(lr(n,t)||(n=gt(),oa.lanes|=n,Ll|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n)}function Wa(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{wt=n,ia.transition=r}}function Ha(){return ba().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ja(t,n);else if(null!==(n=Ii(e,t,n,r))){nc(n,e,r,ec()),Ya(n,t,r)}}function Ga(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ja(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,lr(o,a)){var l=t.interleaved;return null===l?(s.next=s,Ai(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Ii(e,t,s,r))&&(nc(n,e,r,s=ec()),Ya(n,t,r))}}function Qa(e){var t=e.alternate;return e===oa||null!==t&&t===oa}function Ja(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Xa={readContext:Ri,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Ri,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Aa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,oa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Pa,useDebugValue:Ba,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=oa,i=va();if(ii){if(void 0===r)throw Error(n(407));r=r()}else{if(r=t(),null===Tl)throw Error(n(349));30&aa||ja(s,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Da(Ca.bind(null,s,a,e),[e]),s.flags|=2048,Ra(9,Ea.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=va(),t=Tl.identifierPrefix;if(ii){var n=Xs;t=":"+t+"R"+(n=(Ys&~(1<<32-ot(Ys)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:Ri,useCallback:za,useContext:Ri,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:Ma,useLayoutEffect:$a,useMemo:Va,useReducer:xa,useRef:Oa,useState:function(){return xa(wa)},useDebugValue:Ba,useDeferredValue:function(e){return qa(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:_a,useId:Ha,unstable_isNewReconciler:!1},to={readContext:Ri,useCallback:za,useContext:Ri,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:Ma,useLayoutEffect:$a,useMemo:Va,useReducer:ka,useRef:Oa,useState:function(){return ka(wa)},useDebugValue:Ba,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:qa(t,la.memoizedState,e)},useTransition:function(){return[ka(wa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:_a,useId:Ha,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=$({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ro(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:$({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Fi(r,s);i.payload=t,null!=n&&(i.callback=n),null!==(t=Ui(e,i,s))&&(nc(t,e,s,r),Bi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Fi(r,s);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Ui(e,i,s))&&(nc(t,e,s,r),Bi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Fi(n,r);s.tag=2,null!=t&&(s.callback=t),null!==(t=Ui(e,s,r))&&(nc(t,e,r,n),Bi(t,e,r))}};function io(e,t,n,r,s,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(s,i))}function ao(e,t,n){var r=!1,s=Ns,i=t.contextType;return"object"==typeof i&&null!==i?i=Ri(i):(s=As(t)?Rs:Ts.current,i=(r=null!=(r=t.contextTypes))?Os(e,s):Ns),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function oo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Mi(e);var i=t.contextType;"object"==typeof i&&null!==i?s.context=Ri(i):(i=As(t)?Rs:Ts.current,s.context=Os(e,i)),s.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(ro(e,t,i,n),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&so.enqueueReplaceState(s,s.state,null),Vi(e,n,s,r),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}var ho="function"==typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r)},n}function po(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,s){return 1&e.mode?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e)}var vo=v.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?ki(t,null,n,r):xi(t,e.child,n,r)}function xo(e,t,n,r,s){n=n.render;var i=t.ref;return Pi(t,s),r=ga(e,t,n,r,i,s),n=ya(),null===e||bo?(ii&&n&&ti(t),t.flags|=1,wo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function ko(e,t,n,r,s){if(null===e){var i=n.type;return"function"!=typeof i||Oc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,So(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return qo(e,t,s)}return t.flags|=1,(e=Ac(i,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,qo(e,t,s);131072&e.flags&&(bo=!0)}}return Eo(e,t,n,r,s)}function _o(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Al,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Cs(Al,Ol),Ol|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Al,Ol),Ol|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Cs(Al,Ol),Ol|=r;return wo(e,t,s,n),t.child}function jo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,s){var i=As(n)?Rs:Ts.current;return i=Os(t,i),Pi(t,s),n=ga(e,t,n,r,i,s),r=ya(),null===e||bo?(ii&&r&&ti(t),t.flags|=1,wo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function Co(e,t,n,r,s){if(As(n)){var i=!0;Ms(t)}else i=!1;if(Pi(t,s),null===t.stateNode)Vo(e,t),ao(t,n,r),lo(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ri(c):c=Os(t,c=As(n)?Rs:Ts.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==c)&&oo(t,a,r,c),Li=!1;var h=t.memoizedState;a.state=h,Vi(t,r,a,s),l=t.memoizedState,o!==r||h!==l||Ps.current||Li?("function"==typeof u&&(ro(t,n,u,r),l=t.memoizedState),(o=Li||io(t,n,o,r,h,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,$i(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ri(l):l=Os(t,l=As(n)?Rs:Ts.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==d||h!==l)&&oo(t,a,r,l),Li=!1,h=t.memoizedState,a.state=h,Vi(t,r,a,s);var p=t.memoizedState;o!==d||h!==p||Ps.current||Li?("function"==typeof f&&(ro(t,n,f,r),p=t.memoizedState),(c=Li||io(t,n,c,r,h,p,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,i,s)}function No(e,t,n,r,s,i){jo(e,t);var a=!!(128&t.flags);if(!r&&!a)return s&&$s(t,n,!1),qo(e,t,i);r=t.stateNode,vo.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,o,i)):wo(e,t,o,i),t.memoizedState=r.state,s&&$s(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Ds(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ds(0,t.context,!1),Ji(e,t.containerInfo)}function Po(e,t,n,r,s){return pi(),mi(s),t.flags|=256,wo(e,t,n,r),t.child}var Ro,Oo,Ao,Io,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,r){var s,i=t.pendingProps,a=ea.current,o=!1,l=!!(128&t.flags);if((s=l)||(s=(null===e||null!==e.memoizedState)&&!!(2&a)),s?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Cs(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},1&i||null===o?o=Lc(l,i,0,null):(o.childLanes=0,o.pendingProps=l),e=Dc(e,i,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(r),t.memoizedState=Do,e):$o(t,l));if(null!==(a=e.memoizedState)&&null!==(s=a.dehydrated))return function(e,t,r,s,i,a,o){if(r)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,s=uo(Error(n(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=Lc({mode:"visible",children:s.children},i,0,null),(a=Dc(a,i,o,null)).flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,1&t.mode&&xi(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,a);if(!(1&t.mode))return Fo(e,t,o,null);if("$!"===i.data){if(s=i.nextSibling&&i.nextSibling.dataset)var l=s.dgst;return s=l,Fo(e,t,o,s=uo(a=Error(n(419)),s,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(s=Tl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(s.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Di(e,i),nc(s,e,i,-1))}return mc(),Fo(e,t,o,s=uo(Error(n(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,si=us(i.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Gs[Qs++]=Ys,Gs[Qs++]=Xs,Gs[Qs++]=Js,Ys=e.id,Xs=e.overflow,Js=t),t=$o(t,s.children),t.flags|=4096,t)}(e,t,l,i,s,a,r);if(o){o=i.fallback,l=t.mode,s=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 1&l||t.child===a?(i=Ac(a,c)).subtreeFlags=14680064&a.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null),null!==s?o=Ac(s,o):(o=Dc(o,l,r,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Ac(o,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function $o(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&mi(r),xi(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function Bo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(wo(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cs(ea,r),1&t.mode)switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ta(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bo(t,!0,n,null,i);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Vo(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(r=Ac(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ac(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Wo(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,r){var i=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return As(t.type)&&Is(),Ho(t),null;case 3:return i=t.stateNode,Yi(),Es(Ps),Es(Ts),ra(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Oo(e,t),Ho(t),null;case 5:Zi(t);var a=Qi(Gi.current);if(r=t.type,null!==e&&null!=t.stateNode)Ao(e,t,r,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(n(166));return Ho(t),null}if(e=Qi(Hi.current),hi(t)){i=t.stateNode,r=t.type;var o=t.memoizedProps;switch(i[fs]=t,i[ps]=o,e=!!(1&t.mode),r){case"dialog":Ur("cancel",i),Ur("close",i);break;case"iframe":case"object":case"embed":Ur("load",i);break;case"video":case"audio":for(a=0;a<Lr.length;a++)Ur(Lr[a],i);break;case"source":Ur("error",i);break;case"img":case"image":case"link":Ur("error",i),Ur("load",i);break;case"details":Ur("toggle",i);break;case"input":Y(i,o),Ur("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",i);break;case"textarea":ie(i,o),Ur("invalid",i)}for(var l in be(r,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"==typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(i.textContent,c,e),a=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(i.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",i)}switch(r){case"input":K(i),ee(i,o,!0);break;case"textarea":K(i),oe(i);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(i.onclick=es)}i=a,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(r,{is:i.is}):(e=l.createElement(r),"select"===r&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,r),e[fs]=t,e[ps]=i,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(r,i),r){case"dialog":Ur("cancel",e),Ur("close",e),a=i;break;case"iframe":case"object":case"embed":Ur("load",e),a=i;break;case"video":case"audio":for(a=0;a<Lr.length;a++)Ur(Lr[a],e);a=i;break;case"source":Ur("error",e),a=i;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),a=i;break;case"details":Ur("toggle",e),a=i;break;case"input":Y(e,i),a=J(e,i),Ur("invalid",e);break;case"option":default:a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=$({},i,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,i),a=se(e,i),Ur("invalid",e)}for(o in be(r,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ye(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"==typeof u?("textarea"!==r||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&y(e,o,u,l))}switch(r){case"input":K(e),ee(e,i,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?re(e,!!i.multiple,o,!1):null!=i.defaultValue&&re(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=es)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(n(166));if(r=Qi(Gi.current),Qi(Hi.current),hi(t)){if(i=t.stateNode,r=t.memoizedProps,i[fs]=t,(o=i.nodeValue!==r)&&null!==(e=ri))switch(e.tag){case 3:Zr(i.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(i.nodeValue,r,!!(1&e.mode))}o&&(t.flags|=4)}else(i=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[fs]=t,t.stateNode=i}return Ho(t),null;case 13:if(Es(ea),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==si&&1&t.mode&&!(128&t.flags))fi(),pi(),t.flags|=98560,o=!1;else if(o=hi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(n(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(n(317));o[fs]=t}else pi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),o=!1}else null!==ai&&(ac(ai),ai=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=r,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return Yi(),Oo(e,t),null===e&&Vr(t.stateNode.containerInfo),Ho(t),null;case 10:return Ni(t.type._context),Ho(t),null;case 19:if(Es(ea),null===(o=t.memoizedState))return Ho(t),null;if(i=!!(128&t.flags),null===(l=o.rendering))if(i)Wo(o,!1);else{if(0!==Il||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Wo(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;null!==r;)e=i,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Cs(ea,1&ea.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zl&&(t.flags|=128,i=!0,Wo(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ta(l))){if(t.flags|=128,i=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Wo(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ii)return Ho(t),null}else 2*Xe()-o.renderingStartTime>zl&&1073741824!==r&&(t.flags|=128,i=!0,Wo(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,r=ea.current,Cs(ea,i?1&r|2:1&r),t):(Ho(t),null);case 22:case 23:return dc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?!!(1073741824&Ol)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(n(156,t.tag))}function Go(e,t){switch(ni(t),t.tag){case 1:return As(t.type)&&Is(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),Es(Ps),Es(Ts),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Es(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(n(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Es(ea),null;case 4:return Yi(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Ao=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qi(Hi.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=$({},i,{value:void 0}),r=$({},r,{value:void 0}),o=[];break;case"textarea":i=se(e,i),r=se(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=es)}for(u in be(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Io=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Jo=!1,Yo="function"==typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&el(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fs],delete t[ps],delete t[gs],delete t[ys],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=es));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Jo||Zo(n,t);case 6:var r=ul,s=dl;ul=null,hl(e,t,n),dl=s,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?cs(e.parentNode,n):1===e.nodeType&&cs(e,n),Vt(e)):cs(ul,n.stateNode));break;case 4:r=ul,s=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&el(n,t,a),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Jo&&(Zo(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_c(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,hl(e,t,n),Jo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var r=t.deletions;if(null!==r)for(var s=0;s<r.length;s++){var i=r[s];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(n(160));fl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){_c(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&s){try{nl(3,e,e.return),rl(3,e)}catch(g){_c(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&s&&null!==r&&Zo(r,r.return);break;case 5:if(ml(t,e),yl(e),512&s&&null!==r&&Zo(r,r.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){_c(e,e.return,g)}}if(4&s&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==r?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ye(i,h):"dangerouslySetInnerHTML"===d?he(i,h):"children"===d?fe(i,h):y(i,d,h,u)}switch(l){case"input":Z(i,a);break;case"textarea":ae(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?re(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?re(i,!!a.multiple,a.defaultValue,!0):re(i,!!a.multiple,a.multiple?[]:"",!1))}i[ps]=a}catch(g){_c(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&s){if(null===e.stateNode)throw Error(n(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){_c(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&s&&null!==r&&r.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&s&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Jo=(u=Jo)||d,ml(t,e),Jo=u):ml(t,e),yl(e),8192&s){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){s=f,r=f.return;try{t=s,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(s,r,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Xo=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&s&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(al(r)){var s=r;break e}r=r.return}throw Error(n(160))}switch(s.tag){case 5:var i=s.stateNode;32&s.flags&&(fe(i,""),s.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=s.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(n(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xo=e,bl(e)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Xo;){var s=Xo,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||Qo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Qo;var c=Jo;if(Qo=a,(Jo=l)&&!c)for(Xo=s;null!==Xo;)l=(a=Xo).child,22===a.tag&&null!==a.memoizedState?kl(s):null!==l?(l.return=a,Xo=l):kl(s);for(;null!==i;)Xo=i,bl(i),i=i.sibling;Xo=s,Qo=o,Jo=c}wl(e)}else 8772&s.subtreeFlags&&null!==i?(i.return=s,Xo=i):wl(e)}}function wl(e){for(;null!==Xo;){var t=Xo;if(8772&t.flags){var r=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Jo||rl(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!Jo)if(null===r)s.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:no(t.type,r.memoizedProps);s.componentDidUpdate(i,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qi(t,a,s);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}qi(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(n(163))}Jo||512&t.flags&&sl(t)}catch(f){_c(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xo=r;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function kl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){_c(t,s,l)}}var i=t.return;try{sl(t)}catch(l){_c(t,i,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){_c(t,a,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Sl,_l=Math.ceil,jl=v.ReactCurrentDispatcher,El=v.ReactCurrentOwner,Cl=v.ReactCurrentBatchConfig,Nl=0,Tl=null,Pl=null,Rl=0,Ol=0,Al=js(0),Il=0,Dl=null,Ll=0,Ml=0,$l=0,Fl=null,Ul=null,Bl=0,zl=1/0,Vl=null,ql=!1,Wl=null,Hl=null,Kl=!1,Gl=null,Ql=0,Jl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 6&Nl?Xe():-1!==Xl?Xl:Xl=Xe()}function tc(e){return 1&e.mode?2&Nl&&0!==Rl?Rl&-Rl:null!==gi.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type):1}function nc(e,t,r,s){if(50<Jl)throw Jl=0,Yl=null,Error(n(185));vt(e,r,s),2&Nl&&e===Tl||(e===Tl&&(!(2&Nl)&&(Ml|=r),4===Il&&oc(e,Rl)),rc(e,s),1===r&&0===Nl&&!(1&t.mode)&&(zl=Xe()+500,Us&&Vs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ot(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ft(e,e===Tl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Us=!0,zs(e)}(lc.bind(null,e)):zs(lc.bind(null,e)),os(function(){!(6&Nl)&&Vs()}),n=null;else{switch(xt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=st}n=Tc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xl=-1,Zl=0,6&Nl)throw Error(n(327));var r=e.callbackNode;if(kc()&&e.callbackNode!==r)return null;var s=ft(e,e===Tl?Rl:0);if(0===s)return null;if(30&s||0!==(s&e.expiredLanes)||t)t=gc(e,s);else{t=s;var i=Nl;Nl|=2;var a=pc();for(Tl===e&&Rl===t||(Vl=null,zl=Xe()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ci(),jl.current=a,Nl=i,null!==Pl?t=0:(Tl=null,Rl=0,t=Il)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(s=i,t=ic(e,i))),1===t)throw r=Dl,hc(e,0),oc(e,s),rc(e,Xe()),r;if(6===t)oc(e,s);else{if(i=e.current.alternate,!(30&s||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lr(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=gc(e,s),2===t&&(a=mt(e),0!==a&&(s=a,t=ic(e,a))),1!==t)))throw r=Dl,hc(e,0),oc(e,s),rc(e,Xe()),r;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(n(345));case 2:case 5:xc(e,Ul,Vl);break;case 3:if(oc(e,s),(130023424&s)===s&&10<(t=Bl+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&s)!==s){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ss(xc.bind(null,e,Ul,Vl),t);break}xc(e,Ul,Vl);break;case 4:if(oc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-ot(s);a=1<<o,(o=t[o])>i&&(i=o),s&=~a}if(s=i,10<(s=(120>(s=Xe()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*_l(s/1960))-s)){e.timeoutHandle=ss(xc.bind(null,e,Ul,Vl),s);break}xc(e,Ul,Vl);break;default:throw Error(n(329))}}}return rc(e,Xe()),e.callbackNode===r?sc.bind(null,e):null}function ic(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~$l,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Nl)throw Error(n(327));kc();var t=ft(e,0);if(!(1&t))return rc(e,Xe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var s=mt(e);0!==s&&(t=s,r=ic(e,s))}if(1===r)throw r=Dl,hc(e,0),oc(e,t),rc(e,Xe()),r;if(6===r)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,Vl),rc(e,Xe()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(zl=Xe()+500,Us&&Vs())}}function uc(e){null!==Gl&&0===Gl.tag&&!(6&Nl)&&kc();var t=Nl;Nl|=1;var n=Cl.transition,r=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=r,Cl.transition=n,!(6&(Nl=t))&&Vs()}}function dc(){Ol=Al.current,Es(Al)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,is(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Is();break;case 3:Yi(),Es(Ps),Es(Ts),ra();break;case 5:Zi(r);break;case 4:Yi();break;case 13:case 19:Es(ea);break;case 10:Ni(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Pl=e=Ac(e.current,null),Rl=Ol=t,Il=0,Dl=null,$l=Ml=Ll=0,Ul=Fl=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Oi=null}return e}function fc(e,t){for(;;){var r=Pl;try{if(Ci(),sa.current=Xa,ua){for(var s=oa.memoizedState;null!==s;){var i=s.queue;null!==i&&(i.pending=null),s=s.next}ua=!1}if(aa=0,ca=la=oa=null,da=!1,ha=0,El.current=null,null===r||null===r.return){Il=1,Dl=t,Pl=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){mo(a,u,t),mc();break e}c=Error(n(426))}else if(ii&&1&l.mode){var y=go(o);if(null!==y){!(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),mi(co(c,l));break e}}a=c=co(c,l),4!==Il&&(Il=2),null===Fl?Fl=[a]:Fl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zi(a,fo(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Hl&&Hl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zi(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(r)}catch(w){t=w,Pl===r&&null!==r&&(Pl=r=r.return);continue}break}}function pc(){var e=jl.current;return jl.current=Xa,null===e?Xa:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Tl||!(268435455&Ll)&&!(268435455&Ml)||oc(Tl,Rl)}function gc(e,t){var r=Nl;Nl|=2;var s=pc();for(Tl===e&&Rl===t||(Vl=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Ci(),Nl=r,jl.current=s,null!==Pl)throw Error(n(261));return Tl=null,Rl=0,Il}function yc(){for(;null!==Pl;)bc(Pl)}function vc(){for(;null!==Pl&&!Je();)bc(Pl)}function bc(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,El.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Go(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Il=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ko(n,t,Ol)))return void(Pl=n);if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Il&&(Il=5)}function xc(e,t,r){var s=wt,i=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,r,s){do{kc()}while(null!==Gl);if(6&Nl)throw Error(n(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Tl&&(Pl=Tl=null,Rl=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||Kl||(Kl=!0,Tc(nt,function(){return kc(),null})),a=!!(15990&r.flags),!!(15990&r.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=wt;wt=1;var l=Nl;Nl|=4,El.current=null,function(e,t){if(ts=Wt,pr(e=fr())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(s&&0!==s.rangeCount){r=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch(x){r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==s&&3!==h.nodeType||(c=o+s),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===i&&(l=o),f===a&&++d===s&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ns={focusedElem:e,selectionRange:r},Wt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,1028&t.subtreeFlags&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:no(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(n(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=tl,tl=!1}(e,r),gl(r,e),mr(ns),Wt=!!ts,ns=ts=null,e.current=r,vl(r),Ye(),Nl=l,wt=o,Cl.transition=a}else e.current=r;if(Kl&&(Kl=!1,Gl=e,Ql=i),a=e.pendingLanes,0===a&&(Hl=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(t){}}(r.stateNode),rc(e,Xe()),null!==t)for(s=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],s(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;!!(1&Ql)&&0!==e.tag&&kc(),a=e.pendingLanes,1&a?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Vs()}(e,t,r,s)}finally{Cl.transition=i,wt=s}return null}function kc(){if(null!==Gl){var e=xt(Ql),t=Cl.transition,r=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===Gl)var s=!1;else{if(e=Gl,Gl=null,Ql=0,6&Nl)throw Error(n(331));var i=Nl;for(Nl|=4,Xo=e.current;null!==Xo;){var a=Xo,o=a.child;if(16&Xo.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,p=d.return;if(il(d),d===u){Xo=null;break}if(null!==f){f.return=p,Xo=f;break}Xo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xo=a}}if(2064&a.subtreeFlags&&null!==o)o.return=a,Xo=o;else e:for(;null!==Xo;){if(2048&(a=Xo).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Xo=v;break e}Xo=a.return}}var b=e.current;for(Xo=b;null!==Xo;){var w=(o=Xo).child;if(2064&o.subtreeFlags&&null!==w)w.return=o,Xo=w;else e:for(o=b;null!==Xo;){if(2048&(l=Xo).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){_c(l,l.return,k)}if(l===o){Xo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Xo=x;break e}Xo=l.return}}if(Nl=i,Vs(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(k){}s=!0}return s}finally{wt=r,Cl.transition=t}}return!1}function Sc(e,t,n){e=Ui(e,t=fo(0,t=co(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Ui(t,e=po(t,e=co(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===Il||3===Il&&(130023424&Rl)===Rl&&500>Xe()-Bl?hc(e,0):$l|=n),rc(e,t)}function Ec(e,t){0===t&&(1&e.mode?(t=dt,!(130023424&(dt<<=1))&&(dt=4194304)):t=1);var n=ec();null!==(e=Di(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Nc(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(n(314))}null!==s&&s.delete(t),Ec(e,r)}function Tc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,r,s,i,a){var o=2;if(s=e,"function"==typeof e)Oc(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case k:return Dc(r.children,i,a,t);case S:o=8,i|=8;break;case j:return(e=Rc(12,r,t,2|i)).elementType=j,e.lanes=a,e;case P:return(e=Rc(13,r,t,i)).elementType=P,e.lanes=a,e;case R:return(e=Rc(19,r,t,i)).elementType=R,e.lanes=a,e;case I:return Lc(r,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case N:o=9;break e;case T:o=11;break e;case O:o=14;break e;case A:o=16,s=null;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=Rc(o,r,t,i)).elementType=e,t.type=s,t.lanes=a,t}function Dc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,s,i,a,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(i),e}function Bc(e){if(!e)return Ns;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(n(171))}if(1===e.tag){var r=e.type;if(As(r))return Ls(e,r,t)}return t}function zc(e,t,n,r,s,i,a,o,l){return(e=Uc(n,r,!0,e,0,i,0,o,l)).context=Bc(null),n=e.current,(i=Fi(r=ec(),s=tc(n))).callback=null!=t?t:null,Ui(n,i,s),e.current.lanes=s,vt(e,s,r),rc(e,r),e}function Vc(e,t,n,r){var s=t.current,i=ec(),a=tc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(s,t,a))&&(nc(e,s,a,i),Bi(e,s,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Sl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)bo=!0;else{if(0===(e.lanes&r)&&!(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:To(t),pi();break;case 5:Xi(t);break;case 1:As(t.type)&&Ms(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Cs(Si,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cs(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Cs(ea,1&ea.current),null!==(e=qo(e,t,n))?e.sibling:null);Cs(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return zo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,n)}return qo(e,t,n)}(e,t,r);bo=!!(131072&e.flags)}else bo=!1,ii&&1048576&t.flags&&ei(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Vo(e,t),e=t.pendingProps;var i=Os(t,Ts.current);Pi(t,r),i=ga(null,t,s,e,i,r);var a=ya();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(s)?(a=!0,Ms(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Mi(t),i.updater=so,t.stateNode=i,i._reactInternals=t,lo(t,s,e,r),t=No(null,t,s,!0,a,r)):(t.tag=0,ii&&a&&ti(t),wo(null,t,i,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,s=(i=s._init)(s._payload),t.type=s,i=t.tag=function(e){if("function"==typeof e)return Oc(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(s),e=no(s,e),i){case 0:t=Eo(null,t,s,e,r);break e;case 1:t=Co(null,t,s,e,r);break e;case 11:t=xo(null,t,s,e,r);break e;case 14:t=ko(null,t,s,no(s.type,e),r);break e}throw Error(n(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,Eo(e,t,s,i=t.elementType===s?i:no(s,i),r);case 1:return s=t.type,i=t.pendingProps,Co(e,t,s,i=t.elementType===s?i:no(s,i),r);case 3:e:{if(To(t),null===e)throw Error(n(387));s=t.pendingProps,i=(a=t.memoizedState).element,$i(e,t),Vi(t,s,null,r);var o=t.memoizedState;if(s=o.element,a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Po(e,t,s,r,i=co(Error(n(423)),t));break e}if(s!==i){t=Po(e,t,s,r,i=co(Error(n(424)),t));break e}for(si=us(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,r=ki(t,null,s,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(pi(),s===i){t=qo(e,t,r);break e}wo(e,t,s,r)}t=t.child}return t;case 5:return Xi(t),null===e&&ui(t),s=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,rs(s,i)?o=null:null!==a&&rs(s,a)&&(t.flags|=32),jo(e,t),wo(e,t,o,r),t.child;case 6:return null===e&&ui(t),null;case 13:return Mo(e,t,r);case 4:return Ji(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=xi(t,null,s,r):wo(e,t,s,r),t.child;case 11:return s=t.type,i=t.pendingProps,xo(e,t,s,i=t.elementType===s?i:no(s,i),r);case 7:return wo(e,t,t.pendingProps,r),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Cs(Si,s._currentValue),s._currentValue=o,null!==a)if(lr(a.value,o)){if(a.children===i.children&&!Ps.current){t=qo(e,t,r);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===s){if(1===a.tag){(c=Fi(-1,r&-r)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,null!==(c=a.alternate)&&(c.lanes|=r),Ti(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(n(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ti(o,r,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Pi(t,r),s=s(i=Ri(i)),t.flags|=1,wo(e,t,s,r),t.child;case 14:return i=no(s=t.type,t.pendingProps),ko(e,t,s,i=no(s.type,i),r);case 15:return So(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:no(s,i),Vo(e,t),t.tag=1,As(s)?(e=!0,Ms(t)):e=!1,Pi(t,r),ao(t,s,i),lo(t,s,i,r),No(null,t,s,!0,e,r);case 19:return zo(e,t,r);case 22:return _o(e,t,r)}throw Error(n(156,t.tag))};var Kc="function"==typeof reportError?reportError:function(e){};function Gc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof s){var o=s;s=function(){var e=qc(a);o.call(e)}}Vc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"==typeof r){var i=r;r=function(){var e=qc(a);i.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[ms]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ms]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc(function(){Vc(t,l,n,r)}),l}(n,t,e,s,r);return qc(a)}Qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(n(409));Vc(e,t,null,null)},Qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Vc(null,e,null,null)}),t[ms]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&$t(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Xe()),!(6&Nl)&&(zl=Xe()+500,Vs()))}break;case 13:uc(function(){var t=Di(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Hc(e,1)}},St=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Di(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},jt=function(){return wt},Et=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var i=ks(s);if(!i)throw Error(n(90));G(s),Z(s,i)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Te=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[ws,xs,ks,Ce,Ne,cc]},tu={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(de){}}return _.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,_.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(n(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,r)},_.createRoot=function(e,t){if(!Jc(e))throw Error(n(299));var r=!1,s="",i=Kc;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,r,0,s,i),e[ms]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Gc(t)},_.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(n(188));throw e=Object.keys(e).join(","),Error(n(268,e))}return e=null===(e=He(t))?null:e.stateNode},_.flushSync=function(e){return uc(e)},_.hydrate=function(e,t,r){if(!Yc(t))throw Error(n(200));return Zc(null,e,t,!0,r)},_.hydrateRoot=function(e,t,r){if(!Jc(e))throw Error(n(405));var s=null!=r&&r.hydratedSources||null,i=!1,a="",o=Kc;if(null!=r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=zc(t,null,e,1,null!=r?r:null,i,0,a,o),e[ms]=t.current,Vr(e),s)for(e=0;e<s.length;e++)i=(i=(r=s[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Qc(t)},_.render=function(e,t,r){if(!Yc(t))throw Error(n(200));return Zc(null,e,t,!1,r)},_.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(n(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0)},_.unstable_batchedUpdates=cc,_.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Yc(r))throw Error(n(200));if(null==e||void 0===e._reactInternals)throw Error(n(38));return Zc(e,t,r,!1,s)},_.version="18.3.1-next-f1338f8080-20240426",_}function T(){if(w)return S.exports;return w=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),S.exports=N(),S.exports}var P=function(){if(x)return k;x=1;var e=T();return k.createRoot=e.createRoot,k.hydrateRoot=e.hydrateRoot,k}();var R,O,A={exports:{}},I={};var D=(O||(O=1,A.exports=function(){if(R)return I;R=1;var e=h(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,s=e.useLayoutEffect,i=e.useDebugValue;function a(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(s){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=n({inst:{value:o,getSnapshot:t}}),c=l[0].inst,u=l[1];return s(function(){c.value=o,c.getSnapshot=t,a(c)&&u({inst:c})},[e,o,t]),r(function(){return a(c)&&u({inst:c}),e(function(){a(c)&&u({inst:c})})},[e]),i(o),o};return I.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,I}()),A.exports);const L=g.useInsertionEffect,M=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?p.useLayoutEffect:p.useEffect,$=L||M,F=e=>{const t=p.useRef([e,(...e)=>t[0](...e)]).current;return $(()=>{t[0]=e}),t[1]},U="pushState",B="replaceState",z=["popstate",U,B,"hashchange"],V=e=>{for(const t of z)addEventListener(t,e);return()=>{for(const t of z)removeEventListener(t,e)}},q=(e,t)=>D.useSyncExternalStore(V,e,t),W=()=>location.search,H=()=>location.pathname,K=({ssrPath:e}={})=>q(H,e?()=>e:H),G=(e,{replace:t=!1,state:n=null}={})=>history[t?B:U](n,"",e),Q=Symbol.for("wouter_v3");if("undefined"!=typeof history&&void 0===window[Q]){for(const e of[U,B]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Q,{value:!0})}const J=(e="")=>"/"===e?"":e,Y=(e="",t)=>((e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/")(X(J(e)),X(t)),X=e=>{try{return decodeURI(e)}catch(t){return e}},Z={hook:(e={})=>[K(e),G],searchHook:({ssrSearch:e=""}={})=>q(W,()=>e),parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,i,a=[],o="",l=e.split("/");for(l[0]||l.shift();s=l.shift();)"*"===(n=s[0])?(a.push(n),o+="?"===s[1]?"(?:/(.*))?":"/(.*)"):":"===n?(r=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~r?r:~i?i:s.length)),o+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~r?"?":"")+"\\"+s.substring(i))):o+="/"+s;return{keys:a,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},ee=p.createContext(Z),te=()=>p.useContext(ee),ne={},re=p.createContext(ne),se=e=>{const[t,n]=e.hook(e);return[Y(e.base,t),F((t,r)=>n(((e,t)=>"~"===e[0]?e.slice(1):J(t)+e)(t,e.base),r))]},ie=()=>se(te()),ae=(e,t,n,r)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=s.exec(n)||[],[o,...l]=a;return void 0!==o?[!0,(()=>{const e=!1!==i?Object.fromEntries(i.map((e,t)=>[e,l[t]])):a.groups;let t={...l};return e&&Object.assign(t,e),t})(),...r?[o]:[]]:[!1,null]},oe=({children:e,...t})=>{const n=te(),r=t.hook?Z:n;let s=r;const[i,a]=t.ssrPath?.split("?")??[];a&&(t.ssrSearch=a,t.ssrPath=i),t.hrefs=t.hrefs??t.hook?.hrefs;let o=p.useRef({}),l=o.current,c=l;for(let u in r){const e="base"===u?r[u]+(t[u]||""):t[u]||r[u];l===c&&e!==c[u]&&(o.current=c={...c}),c[u]=e,e===r[u]&&e===s[u]||(s=c)}return p.createElement(ee.Provider,{value:s,children:e})},le=({children:e,component:t},n)=>t?p.createElement(t,{params:n}):"function"==typeof e?e(n):e,ce=({path:e,nest:t,match:n,...r})=>{const s=te(),[i]=se(s),[a,o,l]=n??ae(s.parser,e,i,t),c=(e=>{let t=p.useRef(ne);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([e,t])=>t!==n[e])?e:n})({...p.useContext(re),...o});if(!a)return null;const u=l?p.createElement(oe,{base:l},le(r,c)):le(r,c);return p.createElement(re.Provider,{value:c,children:u})},ue=p.forwardRef((e,t)=>{const n=te(),[r,s]=se(n),{to:i="",href:a=i,onClick:o,asChild:l,children:c,className:u,replace:d,state:h,...f}=e,m=F(t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(o?.(t),t.defaultPrevented||(t.preventDefault(),s(a,e)))}),g=n.hrefs("~"===a[0]?a.slice(1):n.base+a,n);return l&&p.isValidElement(c)?p.cloneElement(c,{onClick:m,href:g}):p.createElement("a",{...f,onClick:m,href:g,className:u?.call?u(r===a):u,children:c,ref:t})}),de=e=>Array.isArray(e)?e.flatMap(e=>de(e&&e.type===p.Fragment?e.props.children:e)):[e],he=({children:e,location:t})=>{const n=te(),[r]=se(n);for(const s of de(e)){let e=0;if(p.isValidElement(s)&&(e=ae(n.parser,s.props.path,t||r,s.props.nest))[0])return p.cloneElement(s,{match:e})}return null};var fe=function(e,t){return(fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}fe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var me=function(){return me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},me.apply(this,arguments)};function ge(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function ye(e,t,n,r){var s,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function ve(e,t){return function(n,r){t(n,r,e)}}function be(e,t,n,r,s,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,f=n.length-1;f>=0;f--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var g=(0,n[f])("accessor"===l?{get:d.get,set:d.set}:d[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=a(g.get))&&(d.get=o),(o=a(g.set))&&(d.set=o),(o=a(g.init))&&s.unshift(o)}else(o=a(g))&&("field"===l?s.unshift(o):d[c]=o)}u&&Object.defineProperty(u,r.name,d),h=!0}function we(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function xe(e){return"symbol"==typeof e?e:"".concat(e)}function ke(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Se(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function _e(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})}function je(e,t){var n,r,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(s=i.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var Ee=Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function Ce(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||Ee(t,e,n)}function Ne(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(o){s={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return a}function Pe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Te(arguments[t]));return e}function Re(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)r[s]=i[a];return r}function Oe(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function Ae(e){return this instanceof Ae?(this.v=e,this):new Ae(e)}function Ie(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){s[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||o(e,t)})},t&&(r[e]=t(r[e])))}function o(e,t){try{(n=s[e](t)).value instanceof Ae?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(r){u(i[0][3],r)}var n}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}function De(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,s){t[r]=e[r]?function(t){return(n=!n)?{value:Ae(e[r](t)),done:!1}:s?s(t):t}:s}}function Le(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Ne(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,s){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,s,(t=e[n](t)).done,t.value)})}}}function Me(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var $e=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Fe=function(e){return(Fe=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t})(e)};function Ue(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=Fe(e),r=0;r<n.length;r++)"default"!==n[r]&&Ee(t,e,n[r]);return $e(t,e),t}function Be(e){return e&&e.__esModule?e:{default:e}}function ze(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function Ve(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n}function qe(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function We(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var He="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Ke(e){function t(t){e.error=e.hasError?new He(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function s(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(e){return t(e),s()})}else r|=1}catch(a){t(a)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function Ge(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,r,s,i){return n?t?".jsx":".js":!r||s&&i?r+s+"."+i.toLowerCase()+"js":e}):e}const Qe={__extends:pe,__assign:me,__rest:ge,__decorate:ye,__param:ve,__esDecorate:be,__runInitializers:we,__propKey:xe,__setFunctionName:ke,__metadata:Se,__awaiter:_e,__generator:je,__createBinding:Ee,__exportStar:Ce,__values:Ne,__read:Te,__spread:Pe,__spreadArrays:Re,__spreadArray:Oe,__await:Ae,__asyncGenerator:Ie,__asyncDelegator:De,__asyncValues:Le,__makeTemplateObject:Me,__importStar:Ue,__importDefault:Be,__classPrivateFieldGet:ze,__classPrivateFieldSet:Ve,__classPrivateFieldIn:qe,__addDisposableResource:We,__disposeResources:Ke,__rewriteRelativeImportExtension:Ge},Je=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:We,get __assign(){return me},__asyncDelegator:De,__asyncGenerator:Ie,__asyncValues:Le,__await:Ae,__awaiter:_e,__classPrivateFieldGet:ze,__classPrivateFieldIn:qe,__classPrivateFieldSet:Ve,__createBinding:Ee,__decorate:ye,__disposeResources:Ke,__esDecorate:be,__exportStar:Ce,__extends:pe,__generator:je,__importDefault:Be,__importStar:Ue,__makeTemplateObject:Me,__metadata:Se,__param:ve,__propKey:xe,__read:Te,__rest:ge,__rewriteRelativeImportExtension:Ge,__runInitializers:we,__setFunctionName:ke,__spread:Pe,__spreadArray:Oe,__spreadArrays:Re,__values:Ne,default:Qe},Symbol.toStringTag,{value:"Module"}));class Ye extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Xe extends Ye{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ze extends Ye{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class et extends Ye{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tt,nt;(nt=tt||(tt={})).Any="any",nt.ApNortheast1="ap-northeast-1",nt.ApNortheast2="ap-northeast-2",nt.ApSouth1="ap-south-1",nt.ApSoutheast1="ap-southeast-1",nt.ApSoutheast2="ap-southeast-2",nt.CaCentral1="ca-central-1",nt.EuCentral1="eu-central-1",nt.EuWest1="eu-west-1",nt.EuWest2="eu-west-2",nt.EuWest3="eu-west-3",nt.SaEast1="sa-east-1",nt.UsEast1="us-east-1",nt.UsWest1="us-west-1",nt.UsWest2="us-west-2";class rt{constructor(e,{headers:t={},customFetch:n,region:r=tt.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _e(this,arguments,void 0,function*(e,t={}){var n;let r,s;try{const{headers:i,method:a,body:o,signal:l,timeout:c}=t;let u={},{region:d}=t;d||(d=this.region);const h=new URL(`${this.url}/${e}`);let f;d&&"any"!==d&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d)),o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=o):"string"==typeof o?(u["Content-Type"]="text/plain",f=o):"undefined"!=typeof FormData&&o instanceof FormData?f=o:(u["Content-Type"]="application/json",f=JSON.stringify(o)):f=o;let p=l;c&&(s=new AbortController,r=setTimeout(()=>s.abort(),c),l?(p=s.signal,l.addEventListener("abort",()=>s.abort())):p=s.signal);const m=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:p}).catch(e=>{throw new Xe(e)}),g=m.headers.get("x-relay-error");if(g&&"true"===g)throw new Ze(m);if(!m.ok)throw new et(m);let y,v=(null!==(n=m.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return y="application/json"===v?yield m.json():"application/octet-stream"===v||"application/pdf"===v?yield m.blob():"text/event-stream"===v?m:"multipart/form-data"===v?yield m.formData():yield m.text(),{data:y,error:null,response:m}}catch(i){return{data:null,error:i,response:i instanceof et||i instanceof Ze?i.context:void 0}}finally{r&&clearTimeout(r)}})}}var st={};const it=n(Je);var at,ot,lt,ct,ut,dt,ht,ft={},pt={},mt={},gt={},yt={},vt={};function bt(){if(at)return vt;at=1,Object.defineProperty(vt,"__esModule",{value:!0});class e extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return vt.default=e,vt}function wt(){if(ot)return yt;ot=1,Object.defineProperty(yt,"__esModule",{value:!0});const e=it.__importDefault(bt());return yt.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(t,n){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async t=>{var n,r,s,i;let a=null,o=null,l=null,c=t.status,u=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(n=this.headers.get("Accept"))||void 0===n?void 0:n.includes("application/vnd.pgrst.plan+text"))?e:JSON.parse(e))}const e=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),i=null===(s=t.headers.get("content-range"))||void 0===s?void 0:s.split("/");e&&i&&i.length>1&&(l=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o=1===o.length?o[0]:null)}else{const n=await t.text();try{a=JSON.parse(n),Array.isArray(a)&&404===t.status&&(o=[],a=null,c=200,u="OK")}catch(d){404===t.status&&""===n?(c=204,u="No Content"):a={message:n}}if(a&&this.isMaybeSingle&&(null===(i=null==a?void 0:a.details)||void 0===i?void 0:i.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&this.shouldThrowOnError)throw new e.default(a)}return{error:a,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,n,r,s,i,a;let o="";const l=null==e?void 0:e.cause;if(l){const i=null!==(t=null==l?void 0:l.message)&&void 0!==t?t:"",a=null!==(n=null==l?void 0:l.code)&&void 0!==n?n:"";o=`${null!==(r=null==e?void 0:e.name)&&void 0!==r?r:"FetchError"}: ${null==e?void 0:e.message}`,o+=`\n\nCaused by: ${null!==(s=null==l?void 0:l.name)&&void 0!==s?s:"Error"}: ${i}`,a&&(o+=` (${a})`),(null==l?void 0:l.stack)&&(o+=`\n${l.stack}`)}else o=null!==(i=null==e?void 0:e.stack)&&void 0!==i?i:"";return{error:{message:`${null!==(a=null==e?void 0:e.name)&&void 0!==a?a:"FetchError"}: ${null==e?void 0:e.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(t,n)}returns(){return this}overrideTypes(){return this}},yt}function xt(){if(lt)return gt;lt=1,Object.defineProperty(gt,"__esModule",{value:!0});const e=it.__importDefault(wt());class t extends e.default{select(e){let t=!1;const n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(a=this.headers.get("Accept"))&&void 0!==a?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}return gt.default=t,gt}function kt(){if(ct)return mt;ct=1,Object.defineProperty(mt,"__esModule",{value:!0});const e=it.__importDefault(xt()),t=new RegExp("[,()]");class n extends e.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,n){const r=Array.from(new Set(n)).map(e=>"string"==typeof e&&t.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}return mt.default=n,mt}function St(){if(ut)return pt;ut=1,Object.defineProperty(pt,"__esModule",{value:!0});const e=it.__importDefault(kt());return pt.default=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(t,n){const{head:r=!1,count:s}=null!=n?n:{},i=r?"HEAD":"GET";let a=!1;const o=(null!=t?t:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var a;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==n&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(t,{count:n}={}){var r;return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:t}={}){var n;return t&&this.headers.append("Prefer",`count=${t}`),new e.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}},pt}var _t=function(){if(ht)return st;ht=1,Object.defineProperty(st,"__esModule",{value:!0}),st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const e=it,t=e.__importDefault(function(){if(dt)return ft;dt=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=it,t=e.__importDefault(St()),n=e.__importDefault(kt());class r{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new t.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new r(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(o="POST",c=t);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new n.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}}return ft.default=r,ft}());st.PostgrestClient=t.default;const n=e.__importDefault(St());st.PostgrestQueryBuilder=n.default;const r=e.__importDefault(kt());st.PostgrestFilterBuilder=r.default;const s=e.__importDefault(xt());st.PostgrestTransformBuilder=s.default;const i=e.__importDefault(wt());st.PostgrestBuilder=i.default;const a=e.__importDefault(bt());return st.PostgrestError=a.default,st.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:a.default},st}();const jt=t(_t),Et=e({__proto__:null,default:jt},[_t]),{PostgrestClient:Ct,PostgrestQueryBuilder:Nt,PostgrestFilterBuilder:Tt,PostgrestTransformBuilder:Pt,PostgrestBuilder:Rt,PostgrestError:Ot}=jt||Et;class At{constructor(){}static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){const e=process.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const It="1.0.0",Dt=It,Lt=1e4;var Mt,$t,Ft,Ut,Bt,zt,Vt,qt,Wt,Ht,Kt;($t=Mt||(Mt={}))[$t.connecting=0]="connecting",$t[$t.open=1]="open",$t[$t.closing=2]="closing",$t[$t.closed=3]="closed",(Ut=Ft||(Ft={})).closed="closed",Ut.errored="errored",Ut.joined="joined",Ut.joining="joining",Ut.leaving="leaving",(zt=Bt||(Bt={})).close="phx_close",zt.error="phx_error",zt.join="phx_join",zt.reply="phx_reply",zt.leave="phx_leave",zt.access_token="access_token",(Vt||(Vt={})).websocket="websocket",(Wt=qt||(qt={})).Connecting="connecting",Wt.Open="open",Wt.Closing="closing",Wt.Closed="closed";class Gt{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,t){if(this._isArrayBuffer(e.payload))return t(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&"string"==typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodePush(e){var t,n;const{event:r,topic:s,payload:i}=e,a=null!==(t=e.ref)&&void 0!==t?t:"",o=null!==(n=e.join_ref)&&void 0!==n?n:"",l=this.META_LENGTH+o.length+a.length+s.length+r.length,c=new ArrayBuffer(this.HEADER_LENGTH+l);let u=new DataView(c),d=0;u.setUint8(d++,this.KINDS.push),u.setUint8(d++,o.length),u.setUint8(d++,a.length),u.setUint8(d++,s.length),u.setUint8(d++,r.length),Array.from(o,e=>u.setUint8(d++,e.charCodeAt(0))),Array.from(a,e=>u.setUint8(d++,e.charCodeAt(0))),Array.from(s,e=>u.setUint8(d++,e.charCodeAt(0))),Array.from(r,e=>u.setUint8(d++,e.charCodeAt(0)));var h=new Uint8Array(c.byteLength+i.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(i),c.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n,r,s;const i=e.topic,a=null!==(t=e.ref)&&void 0!==t?t:"",o=null!==(n=e.join_ref)&&void 0!==n?n:"",l=e.payload.event,c=null!==(s=null===(r=e.payload)||void 0===r?void 0:r.payload)&&void 0!==s?s:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+a.length+i.length+l.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(d),f=0;h.setUint8(f++,this.KINDS.userBroadcastPush),h.setUint8(f++,o.length),h.setUint8(f++,a.length),h.setUint8(f++,i.length),h.setUint8(f++,l.length),h.setUint8(f++,this.BINARY_ENCODING),Array.from(o,e=>h.setUint8(f++,e.charCodeAt(0))),Array.from(a,e=>h.setUint8(f++,e.charCodeAt(0))),Array.from(i,e=>h.setUint8(f++,e.charCodeAt(0))),Array.from(l,e=>h.setUint8(f++,e.charCodeAt(0)));var p=new Uint8Array(d.byteLength+c.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(c),d.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var t,n,r,s;const i=e.topic,a=null!==(t=e.ref)&&void 0!==t?t:"",o=null!==(n=e.join_ref)&&void 0!==n?n:"",l=e.payload.event,c=null!==(s=null===(r=e.payload)||void 0===r?void 0:r.payload)&&void 0!==s?s:{},u=(new TextEncoder).encode(JSON.stringify(c)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+a.length+i.length+l.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,o.length),f.setUint8(p++,a.length),f.setUint8(p++,i.length),f.setUint8(p++,l.length),f.setUint8(p++,this.JSON_ENCODING),Array.from(o,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(a,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(i,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>f.setUint8(p++,e.charCodeAt(0)));var m=new Uint8Array(h.byteLength+u.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(u),h.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"==typeof e){const n=JSON.parse(e),[r,s,i,a,o]=n;return t({join_ref:r,ref:s,topic:i,event:a,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,t,r);case this.KINDS.reply:return this._decodeReply(e,t,r);case this.KINDS.broadcast:return this._decodeBroadcast(e,t,r);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodePush(e,t,n){const r=t.getUint8(1),s=t.getUint8(2),i=t.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const o=n.decode(e.slice(a,a+r));a+=r;const l=n.decode(e.slice(a,a+s));a+=s;const c=n.decode(e.slice(a,a+i));a+=i;return{join_ref:o,ref:null,topic:l,event:c,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}_decodeReply(e,t,n){const r=t.getUint8(1),s=t.getUint8(2),i=t.getUint8(3),a=t.getUint8(4);let o=this.HEADER_LENGTH+this.META_LENGTH;const l=n.decode(e.slice(o,o+r));o+=r;const c=n.decode(e.slice(o,o+s));o+=s;const u=n.decode(e.slice(o,o+i));o+=i;const d=n.decode(e.slice(o,o+a));o+=a;const h={status:d,response:JSON.parse(n.decode(e.slice(o,e.byteLength)))};return{join_ref:l,ref:c,topic:u,event:Bt.reply,payload:h}}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(e.slice(i,i+r));i+=r;const o=n.decode(e.slice(i,i+s));i+=s;return{join_ref:null,ref:null,topic:a,event:o,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}_decodeUserBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2),i=t.getUint8(3),a=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=n.decode(e.slice(o,o+r));o+=r;const c=n.decode(e.slice(o,o+s));o+=s;const u=n.decode(e.slice(o,o+i));o+=i;const d=e.slice(o,e.byteLength),h=a===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,f={type:this.BROADCAST,event:c,payload:h};return i>0&&(f.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)}}class Qt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(Kt=Ht||(Ht={})).abstime="abstime",Kt.bool="bool",Kt.date="date",Kt.daterange="daterange",Kt.float4="float4",Kt.float8="float8",Kt.int2="int2",Kt.int4="int4",Kt.int4range="int4range",Kt.int8="int8",Kt.int8range="int8range",Kt.json="json",Kt.jsonb="jsonb",Kt.money="money",Kt.numeric="numeric",Kt.oid="oid",Kt.reltime="reltime",Kt.text="text",Kt.time="time",Kt.timestamp="timestamp",Kt.timestamptz="timestamptz",Kt.timetz="timetz",Kt.tsrange="tsrange",Kt.tstzrange="tstzrange";const Jt=(e,t,n={})=>{var r;const s=null!==(r=n.skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((n,r)=>(n[r]=Yt(r,e,t,s),n),{}):{}},Yt=(e,t,n,r)=>{const s=t.find(t=>t.name===e),i=null==s?void 0:s.type,a=n[e];return i&&!r.includes(i)?Xt(i,a):Zt(a)},Xt=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return rn(t,n)}switch(e){case Ht.bool:return en(t);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return tn(t);case Ht.json:case Ht.jsonb:return nn(t);case Ht.timestamp:return sn(t);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:default:return Zt(t)}},Zt=e=>e,en=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tn=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nn=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},rn=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(s){r=i?i.split(","):[]}return r.map(e=>Xt(t,e))}return e},sn=e=>"string"==typeof e?e.replace(" ","T"):e,an=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class on{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ln,cn,un,dn,hn,fn,pn,mn;(cn=ln||(ln={})).SYNC="sync",cn.JOIN="join",cn.LEAVE="leave";class gn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gn.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=gn.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=gn.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const s=this.cloneDeep(e),i=this.transformState(t),a={},o={};return this.map(s,(e,t)=>{i[e]||(o[e]=t)}),this.map(i,(e,t)=>{const n=s[e];if(n){const r=t.map(e=>e.presence_ref),s=n.map(e=>e.presence_ref),i=t.filter(e=>s.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(a[e]=i),l.length>0&&(o[e]=l)}else a[e]=t}),this.syncDiff(s,{joins:a,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,(t,r)=>{var s;const i=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let s=e[t];if(!s)return;const i=n.map(e=>e.presence_ref);s=s.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=s,r(t,s,n),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(dn=un||(un={})).ALL="*",dn.INSERT="INSERT",dn.UPDATE="UPDATE",dn.DELETE="DELETE",(fn=hn||(hn={})).BROADCAST="broadcast",fn.PRESENCE="presence",fn.POSTGRES_CHANGES="postgres_changes",fn.SYSTEM="system",(mn=pn||(pn={})).SUBSCRIBED="SUBSCRIBED",mn.TIMED_OUT="TIMED_OUT",mn.CLOSED="CLOSED",mn.CHANNEL_ERROR="CHANNEL_ERROR";class yn{constructor(e,t={config:{}},n){var r,s;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new on(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new Qt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bt.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new gn(this),this.broadcastEndpointURL=an(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(s=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===s?void 0:s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[hn.PRESENCE]&&this.bindings[hn.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),u={},d={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(pn.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var n;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,s=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,i=[];for(let n=0;n<s;n++){const s=r[n],{filter:{event:a,schema:o,table:l,filter:c}}=s,u=t&&t[n];if(!u||u.event!==a||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Ft.errored,void(null==e||e(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(pn.SUBSCRIBED))}null==e||e(pn.SUBSCRIBED)}).receive("error",t=>{this.state=Ft.errored,null==e||e(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Ft.joined&&e===hn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var r;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(null==t)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===a.status)return{success:!0};let o=a.statusText;try{const e=await a.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,s,i;const a=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===i?void 0:i.ack)||n("ok"),a.receive("ok",()=>n("ok")),a.receive("error",()=>n("error")),a.receive("timeout",()=>n("timed out"))});{const{event:i,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ft.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new on(this,Bt.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null==n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ft.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),i}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new on(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const i=e.toLocaleLowerCase(),{close:a,error:o,leave:l,join:c}=Bt;if(n&&[a,o,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(s=this.bindings[i])||void 0===s||s.filter(e=>{var n,r,s,a,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,a=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(o=null===(a=null==e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:i}=e,a={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:i};u=Object.assign(Object.assign({},a),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&yn.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bt.close,{},e)}_onError(e){this._on(Bt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Jt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Jt(e.columns,e.old_record)),t}}const vn=()=>{},bn=25e3,wn=10,xn=100,kn=[1e3,2e3,5e3,1e4];class Sn{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lt,this.transport=null,this.heartbeatIntervalMs=bn,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vn,this.ref=0,this.reconnectTimer=null,this.vsn=Dt,this.logger=vn,this.conn=null,this.sendBuffer=[],this.serializer=new Gt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Vt.websocket}`,this.httpEndpoint=an(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=At.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mt.connecting:return qt.Connecting;case Mt.open:return qt.Open;case Mt.closing:return qt.Closing;default:return qt.Closed}}isConnected(){return this.connectionState()===qt.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new yn(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:s}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${s})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},xn)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(o){this.log("error","error in heartbeat callback",o)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:s}=e,i=s?`(${s})`:"",a=r.status||"";this.log("receive",`${a} ${t} ${n} ${i}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Mt.open||this.conn.readyState===Mt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`);(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Bt.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const n={access_token:t,version:"realtime-js/2.83.0"};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(Bt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Qt(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wn)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,s,i,a,o,l,c,u,d,h;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null==e?void 0:e.timeout)&&void 0!==n?n:Lt,this.heartbeatIntervalMs=null!==(r=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:bn,this.worker=null!==(s=null==e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(i=null==e?void 0:e.accessToken)&&void 0!==i?i:null,this.heartbeatCallback=null!==(a=null==e?void 0:e.heartbeatCallback)&&void 0!==a?a:vn,this.vsn=null!==(o=null==e?void 0:e.vsn)&&void 0!==o?o:Dt,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>kn[e-1]||1e4,this.vsn){case It:this.encode=null!==(c=null==e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null==e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(d=null==e?void 0:e.encode)&&void 0!==d?d:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null==e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class _n extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jn(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class En extends _n{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cn extends _n{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Nn=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Tn=e=>{if(Array.isArray(e))return e.map(e=>Tn(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,n])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=Tn(n)}),t},Pn=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},Rn=(e,t,n)=>_e(void 0,void 0,void 0,function*(){const r=yield Response;e instanceof r&&!(null==n?void 0:n.noResolveJson)?e.json().then(n=>{const r=e.status||500,s=(null==n?void 0:n.statusCode)||r+"";t(new En(Pn(n),r,s))}).catch(e=>{t(new Cn(Pn(e),e))}):t(new Cn(Pn(e),e))}),On=(e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,(null==t?void 0:t.duplex)&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n)):s};function An(e,t,n,r,s,i){return _e(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,On(t,r,s,i)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>a(e)).catch(e=>Rn(e,o,r))})})}function In(e,t,n,r){return _e(this,void 0,void 0,function*(){return An(e,"GET",t,n,r)})}function Dn(e,t,n,r,s){return _e(this,void 0,void 0,function*(){return An(e,"POST",t,r,s,n)})}function Ln(e,t,n,r,s){return _e(this,void 0,void 0,function*(){return An(e,"PUT",t,r,s,n)})}function Mn(e,t,n,r,s){return _e(this,void 0,void 0,function*(){return An(e,"DELETE",t,r,s,n)})}class $n{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jn(e))return{data:null,error:e};throw e}})}}var Fn;class Un{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Fn]="BlobDownloadBuilder",this.promise=null}asStream(){return new $n(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jn(e))return{data:null,error:e};throw e}})}}Fn=Symbol.toStringTag;const Bn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vn{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Nn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return _e(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},zn),r);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const o=i.metadata;if("undefined"!=typeof Blob&&n instanceof Blob)s=new FormData,s.append("cacheControl",i.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",n);else if("undefined"!=typeof FormData&&n instanceof FormData)s=n,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),o&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(o));else{s=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,o&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(o)));("undefined"!=typeof ReadableStream&&s instanceof ReadableStream||s&&"object"==typeof s&&"pipe"in s&&"function"==typeof s.pipe)&&!i.duplex&&(i.duplex="half")}(null==r?void 0:r.headers)&&(a=Object.assign(Object.assign({},a),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Ln:Dn)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jn(s))return{data:null,error:s};throw s}})}upload(e,t,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return _e(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:zn.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield Ln(this.fetch,a.toString(),e,{headers:i})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jn(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield Dn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+s.url),a=i.searchParams.get("token");if(!a)throw new _n("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}update(e,t,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return _e(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}copy(e,t,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield Dn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return _e(this,void 0,void 0,function*(){try{const r=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}download(e,t){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e);return new Un(()=>In(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return _e(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield In(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Tn(e),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}exists(e){return _e(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return _e(this,void 0,void 0,function*(){return An(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n)&&n instanceof Cn){const e=n.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==a&&r.push(a);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}list(e,t,n){return _e(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Bn),t),{prefix:e||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}listV2(e,t){return _e(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Dn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const qn="2.83.0",Wn={"X-Client-Info":`storage-js/${qn}`};class Hn{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);if(null==r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wn),t),this.fetch=Nn(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return _e(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield In(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}getBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}createBucket(e){return _e(this,arguments,void 0,function*(e,t={public:!1}){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return _e(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class Kn{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wn),t),this.fetch=Nn(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}listBuckets(e){return _e(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&t.set("search",e.search);const n=t.toString(),r=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield In(this.fetch,r,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jn(t))return{data:null,error:t};throw t}})}}const Gn={"X-Client-Info":`storage-js/${qn}`,"Content-Type":"application/json"};class Qn extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Jn(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}class Yn extends Qn{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xn extends Qn{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var Zn,er;(er=Zn||(Zn={})).InternalError="InternalError",er.S3VectorConflictException="S3VectorConflictException",er.S3VectorNotFoundException="S3VectorNotFoundException",er.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",er.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",er.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded";const tr=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),nr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rr=(e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function sr(e,t,n,r,s,i){return _e(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,rr(t,r,s,i)).then(e=>{if(!e.ok)throw e;if(null==r?void 0:r.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>a(e)).catch(e=>((e,t,n)=>_e(void 0,void 0,void 0,function*(){if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==n?void 0:n.noResolveJson)){const n=e.status||500,r=e;if("function"==typeof r.json)r.json().then(e=>{const r=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||n+"";t(new Yn(nr(e),n,r))}).catch(()=>{const e=n+"",s=r.statusText||`HTTP ${n} error`;t(new Yn(s,n,e))});else{const e=n+"",s=r.statusText||`HTTP ${n} error`;t(new Yn(s,n,e))}}else t(new Xn(nr(e),e))}))(e,o,r))})})}function ir(e,t,n,r,s){return _e(this,void 0,void 0,function*(){return sr(e,"POST",t,r,s,n)})}class ar{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gn),t),this.fetch=tr(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}getIndex(e,t){return _e(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}listIndexes(e){return _e(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return _e(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}}class or{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gn),t),this.fetch=tr(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ir(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}getVectors(e){return _e(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}listVectors(e){return _e(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return{data:yield ir(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}queryVectors(e){return _e(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}deleteVectors(e){return _e(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ir(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}}class lr{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gn),t),this.fetch=tr(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}getBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}listBuckets(){return _e(this,arguments,void 0,function*(e={}){try{return{data:yield ir(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return _e(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jn(t))return{data:null,error:t};throw t}})}}class cr extends lr{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new ur(this.url,this.headers,e,this.fetch)}}class ur extends ar{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new dr(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class dr extends or{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hr extends Hn{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Vn(this.url,this.headers,e,this.fetch)}get vectors(){return new cr(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kn(this.url+"/iceberg",this.headers,this.fetch)}}let fr="";fr="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const pr={headers:{"X-Client-Info":`supabase-js-${fr}/2.83.0`}},mr={schema:"public"},gr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yr={},vr=(e,t,n)=>{const r=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(n),s=Headers;return async(n,i)=>{var a;const o=null!==(a=await t())&&void 0!==a?a:e;let l=new s(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},i),{headers:l}))}};const br="2.83.0",wr=3e4,xr=9e4,kr={"X-Client-Info":`gotrue-js/${br}`},Sr="X-Supabase-Api-Version",_r={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},jr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Er extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Cr(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Nr extends Er{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Tr extends Er{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Pr extends Er{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Rr extends Pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Or extends Pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ar extends Pr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ir extends Pr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dr extends Pr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lr extends Pr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Mr(e){return Cr(e)&&"AuthRetryableFetchError"===e.name}class $r extends Pr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Fr extends Pr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ur="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Br=" \t\n\r=".split(""),zr=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Br.length;t+=1)e[Br[t].charCodeAt(0)]=-2;for(let t=0;t<Ur.length;t+=1)e[Ur[t].charCodeAt(0)]=t;return e})();function Vr(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Ur[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Ur[e]),t.queuedBits-=6}}function qr(e,t,n){const r=zr[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Wr(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let a=0;a<e.length;a+=1)qr(e.charCodeAt(a),s,i);return t.join("")}function Hr(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Kr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)qr(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Gr(e){const t=[];return function(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Hr(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function Qr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Vr(e,n,r)),Vr(null,n,r),t.join("")}const Jr=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Yr={tested:!1,writable:!1},Xr=()=>{if(!Jr())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(Yr.tested)return Yr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yr.tested=!0,Yr.writable=!0}catch(t){Yr.tested=!0,Yr.writable=!1}return Yr.writable};const Zr=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),es=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ts=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},ns=async(e,t)=>{await e.removeItem(t)};class rs{constructor(){this.promise=new rs.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function ss(e){const t=e.split(".");if(3!==t.length)throw new Fr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!jr.test(t[n]))throw new Fr("JWT not in base64url format");return{header:JSON.parse(Wr(t[0])),payload:JSON.parse(Wr(t[1])),signature:Kr(t[2]),raw:{header:t[0],payload:t[1]}}}function is(e){return("0"+e.toString(16)).substr(-2)}async function as(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function os(e,t,n=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,is).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await es(e,`${t}-code-verifier`,s);const i=await as(r);return[i,r===i?"plain":"s256"]}rs.promiseConstructor=Promise;const ls=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const cs=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function us(e){if(!cs.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ds(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hs(e){return JSON.parse(JSON.stringify(e))}const fs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ps=[502,503,504];async function ms(e){var t,n;if(!("object"==typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json))throw new Lr(fs(e),0);if(ps.includes(e.status))throw new Lr(fs(e),e.status);let r,s;try{r=await e.json()}catch(a){throw new Tr(fs(a),a)}const i=function(e){const t=e.headers.get(Sr);if(!t)return null;if(!t.match(ls))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(a){return null}}(e);if(i&&i.getTime()>=_r.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?s=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new $r(fs(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new Rr}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new $r(fs(r),e.status,r.weak_password.reasons);throw new Nr(fs(r),e.status||500,s)}async function gs(e,t,n,r){var s;const i=Object.assign({},null==r?void 0:r.headers);i[Sr]||(i[Sr]=_r.name),(null==r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const a=null!==(s=null==r?void 0:r.query)&&void 0!==s?s:{};(null==r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await async function(e,t,n,r,s,i){const a=((e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,i);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw new Lr(fs(l),0)}o.ok||await ms(o);if(null==r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(l){await ms(l)}}(e,t,n+o,{headers:i,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function ys(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function vs(e){const t=ys(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function bs(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ws(e){return{data:e,error:null}}function xs(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=ge(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},user:Object.assign({},a)},error:null}}function ks(e){return e}const Ss=["global","local","others"];class _s{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Zr(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Ss[0]){if(Ss.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ss.join(", ")}`);try{return await gs(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await gs(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:bs})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=ge(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await gs(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:xs,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Cr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await gs(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bs})}catch(t){if(Cr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,i,a,o;try{const l={nextPage:null,lastPage:0,total:0},c=await gs(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:ks});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(o=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Cr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){us(e);try{return await gs(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bs})}catch(t){if(Cr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){us(e);try{return await gs(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:bs})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){us(e);try{return await gs(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:bs})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){us(e.userId);try{const{data:t,error:n}=await gs(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Cr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){us(e.userId),us(e.id);try{return{data:await gs(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Cr(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,s,i,a,o;try{const l={nextPage:null,lastPage:0,total:0},c=await gs(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:ks});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(o=null===(a=c.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Cr(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await gs(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Cr(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await gs(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Cr(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await gs(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(Cr(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await gs(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Cr(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await gs(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Cr(t))return{data:null,error:t};throw t}}}function js(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Es=!!(globalThis&&Xr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Cs extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ns extends Cs{}async function Ts(e,t,n){const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw new Ns(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Es)try{await globalThis.navigator.locks.query()}catch(s){}return await n()}try{return await n()}finally{}}))}function Ps(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Rs(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class Os extends Error{constructor({message:e,code:t,cause:n,name:r}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=null!==(s=null!=r?r:n instanceof Error?n.name:void 0)&&void 0!==s?s:"Unknown Error",this.code=t}}class As extends Os{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Is({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Os({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(n=i.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey))return new Os({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(r=i.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new Os({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(s=i.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new Os({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new Os({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new Os({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name){return 0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new Os({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Os({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e})}if("SecurityError"===e.name){const t=window.location.hostname;if(!Bs(t))return new Os({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(i.rp.id!==t)return new Os({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Os({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new Os({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Os({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ds({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new Os({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new Os({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!Bs(t))return new Os({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rpId!==t)return new Os({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new Os({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Os({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const Ls=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Ms(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=ge(e,["challenge","user","excludeCredentials"]),i=Kr(t).buffer,a=Object.assign(Object.assign({},n),{id:Kr(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:Kr(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function $s(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ge(e,["challenge","allowCredentials"]),s=Kr(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];i.allowCredentials[e]=Object.assign(Object.assign({},t),{id:Kr(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return i}function Fs(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Us(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qr(new Uint8Array(s.authenticatorData)),clientDataJSON:Qr(new Uint8Array(s.clientDataJSON)),signature:Qr(new Uint8Array(s.signature)),userHandle:s.userHandle?Qr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Bs(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zs(){var e,t;return!!(Jr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const Vs={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qs={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ws(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),n=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(const s of e)if(s)for(const e in s){const i=s[e];if(void 0!==i)if(Array.isArray(i))r[e]=i;else if(n(i))r[e]=i;else if(t(i)){const n=r[e];t(n)?r[e]=Ws(n,i):r[e]=Ws(i)}else r[e]=i}return r}class Hs{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:r},s){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!i)return{data:null,error:a};const o=null!=r?r:Ls.createNewAbortSignal();if("create"===i.webauthn.type){const{user:e}=i.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${n}`),e.displayName||(e.displayName=e.name)}switch(i.webauthn.type){case"create":{const t=function(e,t){return Ws(Vs,e,t||{})}(i.webauthn.credential_options.publicKey,null==s?void 0:s.create),{data:n,error:r}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new As("Browser returned unexpected credential type",t)}:{data:null,error:new As("Empty credential response",t)}}catch(t){return{data:null,error:Is({error:t,options:e})}}}({publicKey:t,signal:o});return n?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}case"request":{const t=function(e,t){return Ws(qs,e,t||{})}(i.webauthn.credential_options.publicKey,null==s?void 0:s.request),{data:n,error:r}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new As("Browser returned unexpected credential type",t)}:{data:null,error:new As("Empty credential response",t)}}catch(t){return{data:null,error:Ds({error:t,options:e})}}}(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:t,signal:o}));return n?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}}}catch(i){return Cr(i)?{data:null,error:i}:{data:null,error:new Tr("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:n=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r}={}},s){if(!t)return{data:null,error:new Er("rpId is required for WebAuthn authentication")};try{if(!zs())return{data:null,error:new Tr("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:r},{request:s});if(!i)return{data:null,error:a};const{webauthn:o}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:n,credential_response:o.credential_response}})}catch(i){return Cr(i)?{data:null,error:i}:{data:null,error:new Tr("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:n=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r}={}},s){if(!t)return{data:null,error:new Er("rpId is required for WebAuthn registration")};try{if(!zs())return{data:null,error:new Tr("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(t=>{var n;return null===(n=t.data)||void 0===n?void 0:n.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:a};const{data:o,error:l}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:r},{create:s});return o?this._verify({factorId:i.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:n,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(i){return Cr(i)?{data:null,error:i}:{data:null,error:new Tr("Unexpected error in register",i)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Ks={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kr,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Gs(e,t,n){return await n()}const Qs={};class Js{get jwks(){var e,t;return null!==(t=null===(e=Qs[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Qs[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Ks),e);if(this.storageKey=s.storageKey,this.instanceID=null!==(t=Js.nextInstanceID[this.storageKey])&&void 0!==t?t:0,Js.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.instanceID>0&&Jr()){this._logPrefix();this.logDebugMessages}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _s({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Zr(s.fetch),this.lock=s.lock||Gs,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Jr()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=Ts:this.lock=Gs,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Hs(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Xr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=js(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=js(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${br}) ${(new Date).toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},n="none";if(Jr()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),Jr()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return Cr(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Cr(t)?this._returnResult({error:t}):this._returnResult({error:new Tr("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await gs(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ys}),{data:i,error:a}=s;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(s){if(Cr(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:i}=e;let a=null,o=null;"pkce"===this.flowType&&([a,o]=await os(this.storage,this.storageKey)),s=await gs(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:o},xform:ys})}else{if(!("phone"in e))throw new Ar("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:a}=e;s=await gs(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null==a?void 0:a.data)&&void 0!==n?n:{},channel:null!==(r=null==a?void 0:a.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:ys})}}const{data:i,error:a}=s;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(s){if(Cr(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await gs(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:vs})}else{if(!("phone"in e))throw new Ar("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await gs(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:vs})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new Or;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(Cr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,r,s,i,a,o,l,c,u,d;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:u,wallet:d,statement:p,options:m}=e;let g;if(Jr())if("object"==typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!=typeof d||!(null==m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const y=new URL(null!==(t=null==m?void 0:m.url)&&void 0!==t?t:window.location.href),v=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Ps(v[0]);let w=null===(n=null==m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!w){const e=await g.request({method:"eth_chainId"});w=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const f=`${u?`${u}://${r}`:r} wants you to sign in with your Ethereum account:\n${Ps(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let p=`URI: ${d}\nVersion: ${h}\nChain ID: ${n}${a?`\nNonce: ${a}`:""}\nIssued At: ${i.toISOString()}`;if(s&&(p+=`\nExpiration Time: ${s.toISOString()}`),o&&(p+=`\nNot Before: ${o.toISOString()}`),l&&(p+=`\nRequest ID: ${l}`),c){let e="\nResources:";for(const t of c){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}p+=e}return`${f}\n${p}`}({domain:y.host,address:b,statement:p,uri:y.href,version:"1",chainId:w,nonce:null===(r=null==m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(i=null===(s=null==m?void 0:m.signInWithEthereum)||void 0===s?void 0:s.issuedAt)&&void 0!==i?i:new Date,expirationTime:null===(a=null==m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.expirationTime,notBefore:null===(o=null==m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null==m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),f=await g.request({method:"personal_sign",params:[Rs(h),b]})}try{const{data:t,error:n}=await gs(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:f},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:ys});if(n)throw n;if(!t||!t.session||!t.user){const e=new Or;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(p){if(Cr(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,n,r,s,i,a,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let y;if(Jr())if("object"==typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!=typeof h||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y&&"function"==typeof y.signMessage&&"publicKey"in y&&"object"==typeof y&&y.publicKey&&"toBase58"in y.publicKey&&"function"==typeof y.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${v.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(r=null===(n=null==g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(f),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await gs(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Qr(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ys});if(n)throw n;if(!t||!t.session||!t.user){const e=new Or;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(m){if(Cr(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const t=await ts(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/");try{const{data:t,error:s}=await gs(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ys});if(await ns(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!t||!t.session||!t.user){const e=new Or;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:s})}catch(s){if(Cr(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:i}=e,a=await gs(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:ys}),{data:o,error:l}=a;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new Or;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(Cr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,r,s,i;try{if("email"in e){const{email:r,options:s}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await os(this.storage,this.storageKey));const{error:o}=await gs(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:a},redirectTo:null==s?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:n}=e,{data:a,error:o}=await gs(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(i=null==n?void 0:n.channel)&&void 0!==i?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o})}throw new Ar("You must provide either an email or phone number.")}catch(a){if(Cr(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:a}=await gs(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:ys});if(a)throw a;if(!i){throw new Error("An error occurred on token verification.")}const o=i.session,l=i.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(r){if(Cr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,n,r,s,i;try{let a=null,o=null;"pkce"===this.flowType&&([a,o]=await os(this.storage,this.storageKey));const l=await gs(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:ws});return(null===(s=l.data)||void 0===s?void 0:s.url)&&Jr()&&!(null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(a){if(Cr(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Rr;const{error:r}=await gs(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(Cr(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:s}=e,{error:i}=await gs(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:i,error:a}=await gs(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a})}throw new Ar("You must provide either an email or phone number and a type")}catch(t){if(Cr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<xr;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const t=await ts(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=ds()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"==typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!=typeof n||(t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await gs(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bs}):await this._useSession(async e=>{var t,n,r;const{data:s,error:i}=e;if(i)throw i;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await gs(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:bs}):{data:{user:null},error:new Rr}})}catch(t){if(Cr(t))return function(e){return Cr(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new Rr;const i=r.session;let a=null,o=null;"pkce"===this.flowType&&null!=e.email&&([a,o]=await os(this.storage,this.storageKey));const{data:l,error:c}=await gs(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:o}),jwt:i.access_token,xform:bs});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(Cr(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rr;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:i}=ss(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(t){if(Cr(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new Rr;const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Cr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Jr())throw new Ir("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ir(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Dr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ir("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Dr("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:i,expires_in:a,expires_at:o,token_type:l}=e;if(!(s&&a&&i&&l))throw new Ir("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(a);let d=c+u;o&&(d=parseInt(o));const{data:h,error:f}=await this._getUser(s);if(f)throw f;const p={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:e.type},error:null})}catch(n){if(Cr(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ts(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return this._returnResult({error:s});const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Cr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=await os(this.storage,this.storageKey,!0));try{return await gs(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(Cr(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(Cr(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,s,i,a;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await gs(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(a=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==a?a:void 0})});if(r)throw r;return Jr()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null==n?void 0:n.url},error:null})}catch(n){if(Cr(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:s}}=t;if(r)throw r;const{options:i,provider:a,token:o,access_token:l,nonce:c}=e,u=await gs(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(n=null==s?void 0:s.access_token)&&void 0!==n?n:void 0,body:{provider:a,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:ys}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new Or})}catch(r){if(Cr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:i}=t;if(i)throw i;return await gs(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(Cr(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await gs(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ys})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Mr(t)&&Date.now()+n-s<wr},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(s){if(!r(i,s))return void t(s)}})()}))}catch(s){if(this._debug(t,"error",s),Cr(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Jr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ts(this.storage,this.storageKey);if(s&&this.userStorage){let t=await ts(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await es(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:ds()}else if(s&&!s.user&&!s.user){const e=await ts(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(s.user=e.user,await ns(this.storage,this.storageKey+"-user"),await es(this.storage,this.storageKey,s)):s.user=ds()}if(this._debug(n,"session from storage",s),!this._isValidSession(s))return this._debug(n,"session is not valid"),void(null!==s&&await this._removeSession());const i=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<xr;if(this._debug(n,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(Mr(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null==e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return void this._debug(n,"error",s)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new rs;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Rr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),Cr(s)){const e={data:null,error:s};return Mr(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(s){r.push(s)}});if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await es(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=hs(e);await es(this.storage,this.storageKey,r)}else{const e=hs(t);await es(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await ns(this.storage,this.storageKey),await ns(this.storage,this.storageKey+"-code-verifier"),await ns(this.storage,this.storageKey+"-user"),this.userStorage&&await ns(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Jr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wr);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof Cs))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await os(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?this._returnResult({data:null,error:s}):await gs(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Cr(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:i}=t;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await gs(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(n=null==s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(t){if(Cr(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Fs(e.webauthn.credential_response):Us(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:o}=await gs(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:o}))})}catch(t){if(Cr(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return this._returnResult({data:null,error:s});const i=await gs(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if("webauthn"!==a.type)return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ms(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:$s(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Cr(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const s of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(s),"verified"===s.status&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ss(n.access_token);let i=null;s.aal&&(i=s.aal);let a=i;(null!==(t=null===(e=n.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(a="aal2");return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:s.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await gs(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Rr})})}catch(t){if(Cr(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!r)return this._returnResult({data:null,error:new Rr});const i=await gs(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return i.data&&i.data.redirect_url&&Jr()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Cr(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!r)return this._returnResult({data:null,error:new Rr});const i=await gs(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return i.data&&i.data.redirect_url&&Jr()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Cr(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await gs(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Rr})})}catch(e){if(Cr(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await gs(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Rr})})}catch(t){if(Cr(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>r)return n;const{data:s,error:i}=await gs(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return s.keys&&0!==s.keys.length?(this.jwks=s,this.jwks_cached_at=r,n=s.keys.find(t=>t.kid===e),n||null):null}async getClaims(e,t={}){try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:s,signature:i,raw:{header:a,payload:o}}=ss(n);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,u,i,Gr(`${a}.${o}`))))throw new Fr("Invalid JWT signature");return{data:{claims:s,header:r,signature:i},error:null}}catch(n){if(Cr(n))return this._returnResult({data:null,error:n});throw n}}}Js.nextInstanceID={};const Ys=Js;class Xs extends Ys{constructor(e){super(e)}}class Zs{constructor(e,t,n){var r,s,i;this.supabaseUrl=e,this.supabaseKey=t;const a=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l=function(e,t){var n,r;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null==d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null==o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=n?n:{},{db:mr,realtime:yr,auth:Object.assign(Object.assign({},gr),{storageKey:o}),global:pr});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=l.global.headers)&&void 0!==s?s:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=l.auth)&&void 0!==i?i:{},this.headers,l.global.fetch),this.fetch=vr(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>{}),this.rest=new Ct(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new hr(this.storageUrl.href,this.headers,this.fetch,null==n?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new rt(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xs({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new Sn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}}!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();const ei=((e,t,n)=>new Zs(e,t,n))("","",{auth:{persistSession:!1}}),ti=p.createContext(void 0);function ni(e){const t=e?.user_metadata??e?.app_metadata;return"admin"===t?.role?"admin":"driver"===t?.role?"driver":"user"}function ri({children:e}){const[t,n]=p.useState(null),[r,s]=p.useState(null),[i,a]=p.useState(!0),[o,l]=p.useState(null);p.useEffect(()=>{ei.auth.getSession().then(({data:e})=>{n(e.session),s(e.session?.user??null),a(!1)});const{data:e}=ei.auth.onAuthStateChange((e,t)=>{n(t),s(t?.user??null),a(!1)});return()=>{e.subscription.unsubscribe()}},[]);const c=async(e,t)=>{a(!0),l(null);const{error:n}=await ei.auth.signInWithPassword({email:e,password:t});n&&l(n.message),a(!1)},u=async(e,t,n)=>{a(!0),l(null);const{error:r}=await ei.auth.signUp({email:e,password:t,options:{data:{role:n}}});r&&l(r.message),a(!1)},d=async()=>{a(!0),l(null);const{error:e}=await ei.auth.signOut();e&&l(e.message),a(!1)},h=p.useMemo(()=>({session:t,user:r,role:ni(r),loading:i,error:o,signIn:c,signUp:u,signOut:d}),[t,r,i,o]);return f.jsx(ti.Provider,{value:h,children:e})}function si(){const e=p.useContext(ti);if(!e)throw new Error("useAirbearSession must be used within AirbearSessionProvider");return e}function ii(){const{user:e,role:t,signOut:n}=si();return f.jsxs("div",{className:"space-y-10",children:[f.jsxs("section",{className:"rounded-3xl bg-gradient-to-br from-slate-900 via-cyan-700 to-emerald-500 p-10 text-white shadow-2xl shadow-cyan-500/30",children:[f.jsx("p",{className:"uppercase tracking-[0.5em] text-xs text-cyan-200",children:"AirBear Solar PWA"}),f.jsx("h1",{className:"mt-4 text-4xl font-bold leading-tight md:text-5xl",children:"Glide with AirBear, ride without a care."}),f.jsx("p",{className:"mt-4 max-w-3xl text-lg text-cyan-100",children:"AirBear blends zero-emission rides, mobile bodegas, and holographic ambiance across Binghamton so every trip feels like a festival on wheels."}),f.jsx("div",{className:"mt-8 flex flex-wrap gap-4",children:e?f.jsx("button",{onClick:()=>n(),className:"rounded-full border border-white/40 px-6 py-3 text-sm font-semibold uppercase tracking-wider transition hover:border-white",children:"Sign out"}):f.jsx("p",{className:"text-sm text-cyan-50",children:"Sign in to unlock driver, passenger, or admin dashboards."})})]}),f.jsx("section",{className:"grid gap-6 md:grid-cols-3",children:[{title:"Driver",description:"Manage your solar AirBear, check inventory, and confirm rides with neon-hot precision."},{title:"Passenger",description:"Book aesthetic rides, shop the onboard bodega, and track your eco-impact in real time."},{title:"Admin",description:"Oversee revenue, analytics, and fleet telemetry while every metric pulses with AirBear glow."}].map(e=>f.jsxs("article",{className:"rounded-3xl border border-slate-900/60 bg-white/5 px-6 py-8 shadow-lg backdrop-blur",children:[f.jsx("h3",{className:"text-2xl font-bold text-white",children:e.title}),f.jsx("p",{className:"mt-4 text-sm text-slate-200",children:e.description})]},e.title))}),f.jsxs("section",{className:"rounded-3xl border border-cyan-500/40 bg-slate-900/70 p-8 text-white",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Live in Binghamton"}),f.jsx("p",{className:"mt-2 text-sm text-cyan-200",children:"Tap a destination to see instant ETA/distance, glowing markers, and spinning AirBear emblems dancing through the town."}),f.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:[f.jsxs("div",{className:"rounded-2xl bg-white/10 p-4",children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-cyan-200",children:"ETA"}),f.jsx("p",{className:"text-3xl font-bold",children:"4m"})]}),f.jsxs("div",{className:"rounded-2xl bg-white/10 p-4",children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-cyan-200",children:"Distance"}),f.jsx("p",{className:"text-3xl font-bold",children:"1.2 mi"})]}),f.jsxs("div",{className:"rounded-2xl bg-white/10 p-4",children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-cyan-200",children:"Solar Charge"}),f.jsx("p",{className:"text-3xl font-bold",children:"84%"})]})]})]}),f.jsxs("section",{className:"rounded-3xl border border-amber-300/40 bg-black/60 p-8 text-white",children:[f.jsx("p",{className:"text-sm uppercase tracking-[0.4em] text-amber-200",children:"Promo"}),f.jsx("h2",{className:"mt-3 text-3xl font-bold",children:"CEO-signed $100 T-Shirt"}),f.jsx("p",{className:"mt-2 text-sm text-amber-100",children:"Get unlimited rides (one per day, non-transferable) plus instant VIP booking when you buy the tee. AirBear flair powers your commute."})]})]})}const ai=[{label:"Passenger",value:"user"},{label:"Driver",value:"driver"},{label:"Admin",value:"admin"}];function oi(){const{signIn:e,signUp:t,loading:n,error:r,role:s}=si(),[i,a]=ie(),o=p.useMemo(()=>{const[,e=""]=i.split("?");return new URLSearchParams(e)},[i]),l=o.get("redirect"),c="signup"===o.get("mode")?"signup":"signin",[u,d]=p.useState(c),[h,m]=p.useState(""),[g,y]=p.useState(""),[v,b]=p.useState("user");return f.jsxs("div",{className:"mx-auto max-w-xl rounded-3xl border border-white/10 bg-slate-900/70 p-8 shadow-2xl shadow-cyan-500/40",children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-cyan-400",children:"AirBear Auth"}),f.jsx("h1",{className:"mt-4 text-3xl font-bold text-white",children:"Sign in or join the eco-circuit"}),f.jsx("div",{className:"mt-4 flex gap-4",children:["signin","signup"].map(e=>f.jsx("button",{onClick:()=>d(e),className:"rounded-full px-4 py-2 text-sm font-semibold uppercase tracking-wider "+(u===e?"bg-cyan-500 text-white":"border border-white/20 text-slate-100"),children:"signin"===e?"Sign In":"Sign Up"},e))}),f.jsxs("form",{className:"mt-6 space-y-4",onSubmit:async n=>{n.preventDefault(),"signin"===u?await e(h,g):await t(h,g,v);a(l??`/dashboard/${"signup"===u?v:s??"user"}`)},children:[f.jsxs("label",{className:"block text-sm text-cyan-200",children:["Email",f.jsx("input",{type:"email",required:!0,value:h,onChange:e=>m(e.target.value),className:"mt-2 w-full rounded-2xl border border-white/20 bg-slate-900/80 px-4 py-3 text-white outline-none focus:border-cyan-400"})]}),f.jsxs("label",{className:"block text-sm text-cyan-200",children:["Password",f.jsx("input",{type:"password",required:!0,value:g,onChange:e=>y(e.target.value),className:"mt-2 w-full rounded-2xl border border-white/20 bg-slate-900/80 px-4 py-3 text-white outline-none focus:border-cyan-400"})]}),"signup"===u&&f.jsxs("label",{className:"block text-sm text-cyan-200",children:["Role",f.jsx("select",{value:v,onChange:e=>b(e.target.value),className:"mt-2 w-full rounded-2xl border border-white/20 bg-slate-900/80 px-4 py-3 text-white outline-none focus:border-cyan-400",children:ai.map(e=>f.jsx("option",{value:e.value,children:e.label},e.value))})]}),f.jsx("button",{type:"submit",disabled:n,className:"w-full rounded-2xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-4 py-3 text-center text-sm font-semibold uppercase tracking-widest text-white transition hover:opacity-90 disabled:opacity-50",children:"signin"===u?"Log in":"Create account"}),r&&f.jsx("p",{className:"text-xs text-rose-400",children:r})]}),f.jsx("p",{className:"mt-4 text-xs text-cyan-300",children:"Signing up registers you for the AirBear end user agreement and unlocks $100 promo access when available."})]})}const li={admin:"Monitor the fleet, analytics, and revenue streams.",driver:"Control AirBear inventory, pickup routes, and ride requests.",user:"Book rides, browse mobile bodega, and collect eco-badges."};function ci(){const{user:e,role:t}=si(),[,n]=(r="/dashboard/:role",ae(te().parser,r,ie()[0]));var r;const s=n?.role,i=t?t.toUpperCase():"GUEST",a=li[s??t??"user"]??li.user;return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("section",{className:"rounded-3xl border border-gradient-to-r bg-white/5 p-8 shadow-xl shadow-indigo-500/20",children:[f.jsx("p",{className:"text-xs tracking-[0.3em] text-cyan-300",children:"AirBear Dashboard"}),f.jsxs("h1",{className:"mt-3 text-3xl font-bold text-white",children:[i," View"]}),f.jsx("p",{className:"mt-2 text-sm text-slate-200",children:a}),e&&f.jsxs("div",{className:"mt-5 rounded-2xl border border-white/20 bg-white/5 px-5 py-4 text-sm text-cyan-100",children:["Logged in as ",f.jsx("span",{className:"font-semibold",children:e.email})]})]}),f.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[f.jsxs("article",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[f.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-cyan-300",children:"Live ETA"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:"4m"})]}),f.jsxs("article",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[f.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-cyan-300",children:"Battery"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:"84%"})]}),f.jsxs("article",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[f.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-cyan-300",children:"Inventory"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:"Ready"})]})]}),f.jsxs("section",{className:"rounded-3xl border border-fuchsia-500/40 bg-slate-900 p-6 text-sm text-slate-200",children:[f.jsx("p",{className:"font-semibold uppercase tracking-[0.3em] text-fuchsia-300",children:"Special Effects Feed"}),f.jsx("p",{className:"mt-3 text-xs text-slate-300",children:"Visualize spinning AirBear wheels, prism sun rays, plasma glows, and floating leaf swarms synced to the ride pulse."})]})]})}const ui=p.createContext({});function di(e){const t=p.useRef(null);return null===t.current&&(t.current=e()),t.current}const hi=p.createContext(null),fi=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class pi extends p.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function mi({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=p.useContext(fi);return p.useInsertionEffect(()=>{const{width:e,height:a,top:o,left:l}=s.current;if(t||!r.current||!e||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return i&&(c.nonce=i),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${a}px !important;\n            top: ${o}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}},[t]),f.jsx(pi,{isPresent:t,childRef:r,sizeRef:s,children:p.cloneElement(e,{ref:r})})}const gi=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=di(yi),l=p.useId(),c=p.useCallback(e=>{o.set(e,!0);for(const t of o.values())if(!t)return;r&&r()},[o,r]),u=p.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:c,register:e=>(o.set(e,!1),()=>o.delete(e))}),i?[Math.random(),c]:[n,c]);return p.useMemo(()=>{o.forEach((e,t)=>o.set(t,!1))},[n]),p.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),"popLayout"===a&&(e=f.jsx(mi,{isPresent:n,children:e})),f.jsx(hi.Provider,{value:u,children:e})};function yi(){return new Map}function vi(e=!0){const t=p.useContext(hi);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=p.useId();p.useEffect(()=>{e&&s(i)},[e]);const a=p.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const bi=e=>e.key||"";function wi(e){const t=[];return p.Children.forEach(e,e=>{p.isValidElement(e)&&t.push(e)}),t}const xi="undefined"!=typeof window,ki=xi?p.useLayoutEffect:p.useEffect,Si=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,l]=vi(a),c=p.useMemo(()=>wi(e),[e]),u=a&&!o?[]:c.map(bi),d=p.useRef(!0),h=p.useRef(c),m=di(()=>new Map),[g,y]=p.useState(c),[v,b]=p.useState(c);ki(()=>{d.current=!1,h.current=c;for(let e=0;e<v.length;e++){const t=bi(v[e]);u.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[v,u.length,u.join("-")]);const w=[];if(c!==g){let e=[...c];for(let t=0;t<v.length;t++){const n=v[t],r=bi(n);u.includes(r)||(e.splice(t,0,n),w.push(n))}return"wait"===i&&w.length&&(e=w),b(wi(e)),void y(c)}const{forceRender:x}=p.useContext(ui);return f.jsx(f.Fragment,{children:v.map(e=>{const p=bi(e),g=!(a&&!o)&&(c===v||u.includes(p));return f.jsx(gi,{isPresent:g,initial:!(d.current&&!n)&&void 0,custom:g?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:g?void 0:()=>{if(!m.has(p))return;m.set(p,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(null==x||x(),b(h.current),a&&(null==l||l()),r&&r())},children:e},p)})})},_i=e=>e;let ji=_i;function Ei(e){let t;return()=>(void 0===t&&(t=e()),t)}const Ci=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Ni=e=>1e3*e,Ti=e=>e/1e3,Pi=!1;const Ri=["read","resolveKeyframes","update","preRender","render","postRender"];function Oi(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Ri.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(t){i.has(t)&&(l.schedule(t),e()),t(a)}const l={schedule:(e,s=!1,a=!1)=>{const o=a&&r?t:n;return s&&i.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{a=e,r?s=!0:(r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,s&&(s=!1,l.process(e)))}};return l}(i),e),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=a,f=()=>{const i=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1),s.timestamp=i,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(f))};return{schedule:Ri.reduce((t,i)=>{const o=a[i];return t[i]=(t,i=!1,a=!1)=>(n||(n=!0,r=!0,s.isProcessing||e(f)),o.schedule(t,i,a)),t},{}),cancel:e=>{for(let t=0;t<Ri.length;t++)a[Ri[t]].cancel(e)},state:s,steps:a}}const{schedule:Ai,cancel:Ii,state:Di,steps:Li}=Oi("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:_i,!0),Mi=p.createContext({strict:!1}),$i={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fi={};for(const Jw in $i)Fi[Jw]={isEnabled:e=>$i[Jw].some(t=>!!e[t])};const Ui=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bi(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ui.has(e)}let zi=e=>!Bi(e);try{(Vi=require("@emotion/is-prop-valid").default)&&(zi=e=>e.startsWith("on")?!Bi(e):Vi(e))}catch(Gw){}var Vi;function qi(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy((...t)=>e(...t),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Wi=p.createContext({});function Hi(e){return"string"==typeof e||Array.isArray(e)}function Ki(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const Gi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qi=["initial",...Gi];function Ji(e){return Ki(e.animate)||Qi.some(t=>Hi(e[t]))}function Yi(e){return Boolean(Ji(e)||e.variants)}function Xi(e){const{initial:t,animate:n}=function(e,t){if(Ji(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Hi(t)?t:void 0,animate:Hi(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,p.useContext(Wi));return p.useMemo(()=>({initial:t,animate:n}),[Zi(t),Zi(n)])}function Zi(e){return Array.isArray(e)?e.join(" "):e}const ea=Symbol.for("motionComponentSymbol");function ta(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function na(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):ta(n)&&(n.current=r))},[t])}const ra=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sa="data-"+ra("framerAppearId"),{schedule:ia}=Oi(queueMicrotask,!1),aa=p.createContext({});function oa(e,t,n,r,s){var i,a;const{visualElement:o}=p.useContext(Wi),l=p.useContext(Mi),c=p.useContext(hi),u=p.useContext(fi).reducedMotion,d=p.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:u}));const h=d.current,f=p.useContext(aa);!h||h.projection||!s||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:la(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(a)||o&&ta(o),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(d.current,n,s,f);const m=p.useRef(!1);p.useInsertionEffect(()=>{h&&m.current&&h.update(n,c)});const g=n[sa],y=p.useRef(Boolean(g)&&!(null===(i=window.MotionHandoffIsComplete)||void 0===i?void 0:i.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return ki(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),ia.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),p.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)}),y.current=!1))}),h}function la(e){if(e)return!1!==e.options.allowProjection?e.projection:la(e.parent)}function ca({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,a;function o(e,i){let a;const o={...p.useContext(fi),...e,layoutId:ua(e)},{isStatic:l}=o,c=Xi(e),u=r(e,l);if(!l&&xi){p.useContext(Mi).strict;const e=function(e){const{drag:t,layout:n}=Fi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(o);a=e.MeasureLayout,c.visualElement=oa(s,u,o,t,e.ProjectionNode)}return f.jsxs(Wi.Provider,{value:c,children:[a&&c.visualElement?f.jsx(a,{visualElement:c.visualElement,...o}):null,n(s,e,na(u,c.visualElement,i),u,l,c.visualElement)]})}e&&function(e){for(const t in e)Fi[t]={...Fi[t],...e[t]}}(e),o.displayName=`motion.${"string"==typeof s?s:`create(${null!==(a=null!==(i=s.displayName)&&void 0!==i?i:s.name)&&void 0!==a?a:""})`}`;const l=p.forwardRef(o);return l[ea]=s,l}function ua({layoutId:e}){const t=p.useContext(ui).id;return t&&void 0!==e?t+"-"+e:e}const da=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ha(e){return"string"==typeof e&&!e.includes("-")&&!!(da.indexOf(e)>-1||/[A-Z]/u.test(e))}function fa(e){const t=[{},{}];return null==e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function pa(e,t,n,r){if("function"==typeof t){const[s,i]=fa(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[s,i]=fa(r);t=t(void 0!==n?n:e.custom,s,i)}return t}const ma=e=>Array.isArray(e),ga=e=>ma(e)?e[e.length-1]||0:e,ya=e=>Boolean(e&&e.getVelocity);function va(e){const t=ya(e)?e.get():e;return n=t,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const ba=e=>(t,n)=>{const r=p.useContext(Wi),s=p.useContext(hi),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const a={latestValues:wa(r,s,i,e),renderState:t()};return n&&(a.onMount=e=>n({props:r,current:e,...a}),a.onUpdate=e=>n(e)),a}(e,t,r,s);return n?i():di(i)};function wa(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=va(i[h]);let{initial:a,animate:o}=e;const l=Ji(e),c=Yi(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!=typeof d&&!Ki(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=pa(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}const xa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ka=new Set(xa),Sa=e=>t=>"string"==typeof t&&t.startsWith(e),_a=Sa("--"),ja=Sa("var(--"),Ea=e=>!!ja(e)&&Ca.test(e.split("/*")[0].trim()),Ca=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Na=(e,t)=>t&&"number"==typeof e?t.transform(e):e,Ta=(e,t,n)=>n>t?t:n<e?e:n,Pa={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Ra={...Pa,transform:e=>Ta(0,1,e)},Oa={...Pa,default:1},Aa=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Ia=Aa("deg"),Da=Aa("%"),La=Aa("px"),Ma=Aa("vh"),$a=Aa("vw"),Fa={...Da,parse:e=>Da.parse(e)/100,transform:e=>Da.transform(100*e)},Ua={borderWidth:La,borderTopWidth:La,borderRightWidth:La,borderBottomWidth:La,borderLeftWidth:La,borderRadius:La,radius:La,borderTopLeftRadius:La,borderTopRightRadius:La,borderBottomRightRadius:La,borderBottomLeftRadius:La,width:La,maxWidth:La,height:La,maxHeight:La,top:La,right:La,bottom:La,left:La,padding:La,paddingTop:La,paddingRight:La,paddingBottom:La,paddingLeft:La,margin:La,marginTop:La,marginRight:La,marginBottom:La,marginLeft:La,backgroundPositionX:La,backgroundPositionY:La},Ba={rotate:Ia,rotateX:Ia,rotateY:Ia,rotateZ:Ia,scale:Oa,scaleX:Oa,scaleY:Oa,scaleZ:Oa,skew:Ia,skewX:Ia,skewY:Ia,distance:La,translateX:La,translateY:La,translateZ:La,x:La,y:La,z:La,perspective:La,transformPerspective:La,opacity:Ra,originX:Fa,originY:Fa,originZ:La},za={...Pa,transform:Math.round},Va={...Ua,...Ba,zIndex:za,size:La,fillOpacity:Ra,strokeOpacity:Ra,numOctaves:za},qa={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Wa=xa.length;function Ha(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(ka.has(l))a=!0;else if(_a(l))s[l]=e;else{const t=Na(e,Va[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<Wa;i++){const a=xa[i],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=Na(o,Va[a]);l||(s=!1,r+=`${qa[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}const Ka={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ga={offset:"strokeDashoffset",array:"strokeDasharray"};function Qa(e,t,n){return"string"==typeof e?e:La.transform(t+n*e)}function Ja(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,d){if(Ha(e,c,d),u)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:p}=e;h.transform&&(p&&(f.transform=h.transform),delete h.transform),p&&(void 0!==s||void 0!==i||f.transform)&&(f.transformOrigin=function(e,t,n){return`${Qa(t,e.x,e.width)} ${Qa(n,e.y,e.height)}`}(p,void 0!==s?s:.5,void 0!==i?i:.5)),void 0!==t&&(h.x=t),void 0!==n&&(h.y=n),void 0!==r&&(h.scale=r),void 0!==a&&function(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Ka:Ga;e[i.offset]=La.transform(-r);const a=La.transform(t),o=La.transform(n);e[i.array]=`${a} ${o}`}(h,a,o,l,!1)}const Ya=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Xa=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Za=e=>"string"==typeof e&&"svg"===e.toLowerCase();function eo(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const to=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function no(e,t,n,r){eo(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(to.has(s)?s:ra(s),t.attrs[s])}const ro={};function so(e,{layout:t,layoutId:n}){return ka.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!ro[e]||"opacity"===e)}function io(e,t,n){var r;const{style:s}=e,i={};for(const a in s)(ya(s[a])||t.style&&ya(t.style[a])||so(a,e)||void 0!==(null===(r=null==n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(i[a]=s[a]);return i}function ao(e,t,n){const r=io(e,t,n);for(const s in e)if(ya(e[s])||ya(t[s])){r[-1!==xa.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}const oo=["x","y","width","height","cx","cy","r"],lo={useVisualState:ba({scrapeMotionValuesFromProps:ao,createRenderState:Xa,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i)for(const o in s)if(ka.has(o)){i=!0;break}if(!i)return;let a=!t;if(t)for(let o=0;o<oo.length;o++){const n=oo[o];e[n]!==t[n]&&(a=!0)}a&&Ai.read(()=>{!function(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(n){t.dimensions={x:0,y:0,width:0,height:0}}}(n,r),Ai.render(()=>{Ja(r,s,Za(n.tagName),e.transformTemplate),no(n,r)})})}})},co={useVisualState:ba({scrapeMotionValuesFromProps:io,createRenderState:Ya})};function uo(e,t,n){for(const r in t)ya(t[r])||so(r,n)||(e[r]=t[r])}function ho(e,t){const n={};return uo(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return p.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Ha(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}function fo(e,t){const n={},r=ho(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function po(e,t,n,r){const s=p.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Ja(n,t,Za(r),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};uo(t,e.style,e),s.style={...t,...s.style}}return s}function mo(e=!1){return(t,n,r,{latestValues:s},i)=>{const a=(ha(t)?po:fo)(n,s,i,t),o=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"==typeof e.values||(zi(s)||!0===n&&Bi(s)||!t&&!Bi(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(n,"string"==typeof t,e),l=t!==p.Fragment?{...o,...a,ref:r}:{},{children:c}=n,u=p.useMemo(()=>ya(c)?c.get():c,[c]);return p.createElement(t,{...l,children:u})}}function go(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return ca({...ha(n)?lo:co,preloadedFeatures:e,useRender:mo(r),createVisualElement:t,Component:n})}}function yo(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function vo(e,t,n){const r=e.getProps();return pa(r,t,void 0!==n?n:r.custom,e)}const bo=Ei(()=>void 0!==window.ScrollTimeline);class wo{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(n=>bo()&&n.attachTimeline?n.attachTimeline(e):"function"==typeof t?t(n):void 0);return()=>{n.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xo extends wo{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function ko(e,t){return e?e[t]||e.default||e:void 0}const So=2e4;function _o(e){let t=0;let n=e.next(t);for(;!n.done&&t<So;)t+=50,n=e.next(t);return t>=So?1/0:t}function jo(e){return"function"==typeof e}function Eo(e,t){e.timeline=t,e.onfinish=null}const Co=e=>Array.isArray(e)&&"number"==typeof e[0],No={linearEasing:void 0};function To(e,t){const n=Ei(e);return()=>{var e;return null!==(e=No[t])&&void 0!==e?e:n()}}const Po=To(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),Ro=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Ci(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Oo(e){return Boolean("function"==typeof e&&Po()||!e||"string"==typeof e&&(e in Io||Po())||Co(e)||Array.isArray(e)&&e.every(Oo))}const Ao=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Io={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ao([0,.65,.55,1]),circOut:Ao([.55,0,1,.45]),backIn:Ao([.31,.01,.66,-.59]),backOut:Ao([.33,1.53,.69,.99])};function Do(e,t){return e?"function"==typeof e&&Po()?Ro(e,t):Co(e)?Ao(e):Array.isArray(e)?e.map(e=>Do(e,t)||Io.easeOut):Io[e]:void 0}const Lo={x:!1,y:!1};function Mo(){return Lo.x||Lo.y}function $o(e,t){const n=function(e){if(e instanceof Element)return[e];if("string"==typeof e){const t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Fo(e){return t=>{"touch"===t.pointerType||Mo()||e(t)}}const Uo=(e,t)=>!!t&&(e===t||Uo(e,t.parentElement)),Bo=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,zo=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Vo=new WeakSet;function qo(e){return t=>{"Enter"===t.key&&e(t)}}function Wo(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Ho(e){return Bo(e)&&!Mo()}function Ko(e,t,n={}){const[r,s,i]=$o(e,n),a=e=>{const r=e.currentTarget;if(!Ho(e)||Vo.has(r))return;Vo.add(r);const i=t(e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Ho(e)&&Vo.has(r)&&(Vo.delete(r),"function"==typeof i&&i(e,{success:t}))},o=e=>{a(e,n.useGlobalTarget||Uo(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return r.forEach(e=>{(function(e){return zo.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,s),e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=qo(()=>{if(Vo.has(n))return;Wo(n,"down");const e=qo(()=>{Wo(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>Wo(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,s),s)}),i}const Go=new Set(["width","height","top","left","right","bottom",...xa]);let Qo;function Jo(){Qo=void 0}const Yo={now:()=>(void 0===Qo&&Yo.set(Di.isProcessing||Pi?Di.timestamp:performance.now()),Qo),set:e=>{Qo=e,queueMicrotask(Jo)}};function Xo(e,t){-1===e.indexOf(t)&&e.push(t)}function Zo(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class el{constructor(){this.subscriptions=[]}add(e){return Xo(this.subscriptions,e),()=>Zo(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tl(e,t){return t?e*(1e3/t):0}class nl{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=Yo.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Yo.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new el);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ai.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yo.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return tl(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rl(e,t){return new nl(e,t)}function sl(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,rl(n))}function il(e,t){const n=e.getValue("willChange");if(r=n,Boolean(ya(r)&&r.add))return n.add(t);var r}function al(e){return e.props[sa]}const ol=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function ll(e,t,n,r){if(e===t&&n===r)return _i;const s=t=>function(e,t,n,r,s){let i,a,o=0;do{a=t+(n-t)/2,i=ol(a,r,s)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:ol(s(e),t,r)}const cl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ul=e=>t=>1-e(1-t),dl=ll(.33,1.53,.69,.99),hl=ul(dl),fl=cl(hl),pl=e=>(e*=2)<1?.5*hl(e):.5*(2-Math.pow(2,-10*(e-1))),ml=e=>1-Math.sin(Math.acos(e)),gl=ul(ml),yl=cl(ml),vl=e=>/^0[^.\s]+$/u.test(e);function bl(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||vl(e))}const wl=e=>Math.round(1e5*e)/1e5,xl=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const kl=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sl=(e,t)=>n=>Boolean("string"==typeof n&&kl.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),_l=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[s,i,a,o]=r.match(xl);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},jl={...Pa,transform:e=>Math.round((e=>Ta(0,255,e))(e))},El={test:Sl("rgb","red"),parse:_l("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+jl.transform(e)+", "+jl.transform(t)+", "+jl.transform(n)+", "+wl(Ra.transform(r))+")"};const Cl={test:Sl("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:El.transform},Nl={test:Sl("hsl","hue"),parse:_l("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Da.transform(wl(t))+", "+Da.transform(wl(n))+", "+wl(Ra.transform(r))+")"},Tl={test:e=>El.test(e)||Cl.test(e)||Nl.test(e),parse:e=>El.test(e)?El.parse(e):Nl.test(e)?Nl.parse(e):Cl.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?El.transform(e):Nl.transform(e)},Pl=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Rl="number",Ol="color",Al=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Il(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(Al,e=>(Tl.test(e)?(r.color.push(i),s.push(Ol),n.push(Tl.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(Rl),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:a,indexes:r,types:s}}function Dl(e){return Il(e).values}function Ll(e){const{split:t,types:n}=Il(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===Rl?wl(e[i]):t===Ol?Tl.transform(e[i]):e[i]}return s}}const Ml=e=>"number"==typeof e?0:e;const $l={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(xl))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Pl))||void 0===n?void 0:n.length)||0)>0},parse:Dl,createTransformer:Ll,getAnimatableNone:function(e){const t=Dl(e);return Ll(e)(t.map(Ml))}},Fl=new Set(["brightness","contrast","saturate","opacity"]);function Ul(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(xl)||[];if(!r)return e;const s=n.replace(r,"");let i=Fl.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Bl=/\b([a-z-]*)\(.*?\)/gu,zl={...$l,getAnimatableNone:e=>{const t=e.match(Bl);return t?t.map(Ul).join(" "):e}},Vl={...Va,color:Tl,backgroundColor:Tl,outlineColor:Tl,fill:Tl,stroke:Tl,borderColor:Tl,borderTopColor:Tl,borderRightColor:Tl,borderBottomColor:Tl,borderLeftColor:Tl,filter:zl,WebkitFilter:zl},ql=e=>Vl[e];function Wl(e,t){let n=ql(e);return n!==zl&&(n=$l),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Hl=new Set(["auto","none","0"]);const Kl=e=>e===Pa||e===La,Gl=(e,t)=>parseFloat(e.split(", ")[t]),Ql=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Gl(s[1],t);{const t=r.match(/^matrix\((.+)\)$/u);return t?Gl(t[1],e):0}},Jl=new Set(["x","y","z"]),Yl=xa.filter(e=>!Jl.has(e));const Xl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ql(4,13),y:Ql(5,14)};Xl.translateX=Xl.x,Xl.translateY=Xl.y;const Zl=new Set;let ec=!1,tc=!1;function nc(){if(tc){const e=Array.from(Zl).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Yl.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{var r;null===(r=e.getValue(t))||void 0===r||r.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}tc=!1,ec=!1,Zl.forEach(e=>e.complete()),Zl.clear()}function rc(){Zl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tc=!0)})}class sc{constructor(e,t,n,r,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zl.add(this),ec||(ec=!0,Ai.read(rc),Ai.resolveKeyframes(nc))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let s=0;s<e.length;s++)if(null===e[s])if(0===s){const s=null==r?void 0:r.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ic=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ac=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oc(e,t,n=1){const[r,s]=function(e){const t=ac.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${null!=n?n:r}`,s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return ic(e)?parseFloat(e):e}return Ea(s)?oc(s,t,n+1):s}const lc=e=>t=>t.test(e),cc=[Pa,La,Da,Ia,$a,Ma,{test:e=>"auto"===e,parse:e=>e}],uc=e=>cc.find(lc(e));class dc extends sc{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),Ea(n))){const r=oc(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Go.has(n)||2!==e.length)return;const[r,s]=e,i=uc(r),a=uc(s);if(i!==a)if(Kl(i)&&Kl(a))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)bl(e[r])&&n.push(r);n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"==typeof t&&!Hl.has(t)&&Il(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=Wl(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Xl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,n])=>{t.getValue(e).set(n)}),this.resolveNoneKeyframes()}}const hc=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!$l.test(e)&&"0"!==e||e.startsWith("url(")));const fc=e=>null!==e;function pc(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(fc),i=t&&"loop"!==n&&t%2==1?0:s.length-1;return i&&void 0!==r?r:s[i]}class mc{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yo.now(),this.options={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(rc(),nc()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Yo.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:s,delay:i,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=hc(s,t),o=hc(i,t);return!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||jo(n))&&r)}(e,n,r,s)){if(!i)return o&&o(pc(e,this.options,t)),a&&a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const gc=(e,t,n)=>e+(t-e)*n;function yc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vc(e,t){return n=>n>0?t:e}const bc=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},wc=[Cl,El,Nl];function xc(e){const t=(n=e,wc.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===Nl&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let s=0,i=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;s=yc(o,r,e+1/3),i=yc(o,r,e),a=yc(o,r,e-1/3)}else s=i=a=n;return{red:Math.round(255*s),green:Math.round(255*i),blue:Math.round(255*a),alpha:r}}(r)),r}const kc=(e,t)=>{const n=xc(e),r=xc(t);if(!n||!r)return vc(e,t);const s={...n};return e=>(s.red=bc(n.red,r.red,e),s.green=bc(n.green,r.green,e),s.blue=bc(n.blue,r.blue,e),s.alpha=gc(n.alpha,r.alpha,e),El.transform(s))},Sc=(e,t)=>n=>t(e(n)),_c=(...e)=>e.reduce(Sc),jc=new Set(["none","hidden"]);function Ec(e,t){return n=>gc(e,t,n)}function Cc(e){return"number"==typeof e?Ec:"string"==typeof e?Ea(e)?vc:Tl.test(e)?kc:Pc:Array.isArray(e)?Nc:"object"==typeof e?Tl.test(e)?kc:Tc:vc}function Nc(e,t){const n=[...e],r=n.length,s=e.map((e,n)=>Cc(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function Tc(e,t){const n={...e,...t},r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=Cc(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Pc=(e,t)=>{const n=$l.createTransformer(t),r=Il(e),s=Il(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?jc.has(e)&&!s.values.length||jc.has(t)&&!r.values.length?function(e,t){return jc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):_c(Nc(function(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],l=null!==(n=e.values[o])&&void 0!==n?n:0;r[i]=l,s[a]++}return r}(r,s),s.values),n):vc(e,t)};function Rc(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return gc(e,t,n);return Cc(e)(e,t)}function Oc(e,t,n){const r=Math.max(t-5,0);return tl(n-e(r),t-r)}const Ac=100,Ic=10,Dc=1,Lc=0,Mc=800,$c=.3,Fc=.3,Uc={granular:.01,default:2},Bc={granular:.005,default:.5},zc=.01,Vc=10,qc=.05,Wc=1,Hc=.001;function Kc({duration:e=Mc,bounce:t=$c,velocity:n=Lc,mass:r=Dc}){let s,i,a=1-t;a=Ta(qc,Wc,a),e=Ta(zc,Vc,Ti(e)),a<1?(s=t=>{const r=t*a,s=r*e,i=r-n,o=Qc(t,a),l=Math.exp(-s);return Hc-i/o*l},i=t=>{const r=t*a*e,i=r*n+n,o=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Qc(Math.pow(t,2),a);return(-s(t)+Hc>0?-1:1)*((i-o)*l)/c}):(s=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let r=n;for(let s=1;s<Gc;s++)r-=e(r)/t(r);return r}(s,i,5/e);if(e=Ni(e),isNaN(o))return{stiffness:Ac,damping:Ic,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}const Gc=12;function Qc(e,t){return e*Math.sqrt(1-t*t)}const Jc=["duration","bounce"],Yc=["stiffness","damping","mass"];function Xc(e,t){return t.some(t=>void 0!==e[t])}function Zc(e=Fc,t=$c){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:Lc,stiffness:Ac,damping:Ic,mass:Dc,isResolvedFromDuration:!1,...e};if(!Xc(e,Yc)&&Xc(e,Jc))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*Ta(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Dc,stiffness:s,damping:i}}else{const n=Kc(e);t={...t,...n,mass:Dc},t.isResolvedFromDuration=!0}return t}({...n,velocity:-Ti(n.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-i,y=Ti(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?Uc.granular:Uc.default),s||(s=v?Bc.granular:Bc.default),m<1){const e=Qc(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const w={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)o.done=e>=d;else{let n=0;m<1&&(n=0===e?Ni(p):Oc(b,e,t));const i=Math.abs(n)<=r,l=Math.abs(a-t)<=s;o.done=i&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(_o(w),So),t=Ro(t=>w.next(e*t).value,e,30);return e+"ms "+t}};return w}function eu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},f=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let p=n*t;const m=d+p,g=void 0===a?m:a(m);g!==m&&(p=g-d);const y=e=>-p*Math.exp(-e/r),v=e=>g+y(e),b=e=>{const t=y(e),n=v(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let w,x;const k=e=>{var t;(t=h.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(w=e,x=Zc({keyframes:[h.value,f(h.value)],velocity:Oc(v,e,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==w||(t=!0,b(e),k(e)),void 0!==w&&e>=w?x.next(e-w):(!t&&b(e),h)}}}const tu=ll(.42,0,1,1),nu=ll(0,0,.58,1),ru=ll(.42,0,.58,1),su={linear:_i,easeIn:tu,easeInOut:ru,easeOut:nu,circIn:ml,circInOut:yl,circOut:gl,backIn:hl,backInOut:fl,backOut:dl,anticipate:pl},iu=e=>{if(Co(e)){ji(4===e.length);const[t,n,r,s]=e;return ll(t,n,r,s)}return"string"==typeof e?su[e]:e};function au(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(ji(i===t.length),1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],s=n||Rc,i=e.length-1;for(let a=0;a<i;a++){let n=s(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||_i:t;n=_c(e,n)}r.push(n)}return r}(t,r,s),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const s=Ci(e[r],e[r+1],n);return o[r](s)};return n?t=>c(Ta(e[0],e[i-1],t)):c}function ou(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ci(0,t,r);e.push(gc(n,1,s))}}(t,e.length-1),t}function lu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(iu):iu(r),i={done:!1,value:t[0]},a=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:ou(t),e),o=au(a,t,{ease:Array.isArray(s)?s:(l=t,c=s,l.map(()=>c||ru).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(i.value=o(t),i.done=t>=e,i)}}const cu=e=>{const t=({timestamp:t})=>e(t);return{start:()=>Ai.update(t,!0),stop:()=>Ii(t),now:()=>Di.isProcessing?Di.timestamp:Yo.now()}},uu={decay:eu,inertia:eu,tween:lu,keyframes:lu,spring:Zc},du=e=>e/100;class hu extends mc{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:s}=this.options,i=(null==r?void 0:r.KeyframeResolver)||sc;this.resolver=new i(s,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=this.options,a=jo(t)?t:uu[t]||lu;let o,l;a!==lu&&"number"!=typeof e[0]&&(o=_c(du,Rc(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});"mirror"===s&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-i})),null===c.calculatedDuration&&(c.calculatedDuration=_o(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return s.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,b=s;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=i)),v=Ta(0,1,n)*u}const w=y?{done:!1,value:o[0]}:b.next(v);a&&(w.value=a(w.value));let{done:x}=w;y||null===l||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return k&&void 0!==r&&(w.value=pc(o,this.options,r)),m&&m(w.value),k&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Ti(e.calculatedDuration):0}get time(){return Ti(this.currentTime)}set time(e){e=Ni(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ti(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=cu,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const fu=new Set(["opacity","clipPath","filter","transform"]);function pu(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=Do(o,s);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"})}const mu=Ei(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const gu={anticipate:pl,backInOut:fl,circInOut:yl};class yu extends mc{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:s}=this.options;this.resolver=new dc(s,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:s,type:i,motionValue:a,name:o,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if("string"==typeof s&&Po()&&s in gu&&(s=gu[s]),function(e){return jo(e.type)||"spring"===e.type||!Oo(e.ease)}(this.options)){const{onComplete:t,onUpdate:a,motionValue:o,element:l,...c}=this.options,u=function(e,t){const n=new hu({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<2e4;)r=n.sample(i),s.push(r.value),i+=10;return{times:void 0,keyframes:s,duration:i-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),n=u.duration,r=u.times,s=u.ease,i="keyframes"}const c=pu(a.owner.current,o,e,{...this.options,duration:n,times:r,ease:s});return c.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(Eo(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:n}=this.options;a.set(pc(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:n,times:r,type:i,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ti(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ti(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Ni(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return _i;const{animation:n}=t;Eo(n,e)}else this.pendingTimeline=e;return _i}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:s,ease:i,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,u=new hu({...c,keyframes:n,duration:r,type:s,ease:i,times:a,isGenerator:!0}),d=Ni(this.time);e.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return mu()&&n&&fu.has(n)&&!o&&!l&&!r&&"mirror"!==s&&0!==i&&"inertia"!==a}}const vu={type:"spring",stiffness:500,damping:25,restSpeed:10},bu={type:"keyframes",duration:.8},wu={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xu=(e,{keyframes:t})=>t.length>2?bu:ka.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:vu:wu;const ku=(e,t,n,r={},s,i)=>a=>{const o=ko(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=Ni(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(o)||(u={...u,...xu(e,u)}),u.duration&&(u.duration=Ni(u.duration)),u.repeatDelay&&(u.repeatDelay=Ni(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),d&&!i&&void 0!==t.get()){const e=pc(u.keyframes,o);if(void 0!==e)return Ai.update(()=>{u.onUpdate(e),u.onComplete()}),new xo([])}return!i&&yu.supports(u)?new yu(u):new hu(u)};function Su({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function _u(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const t=e.getValue(d,null!==(i=e.latestValues[d])&&void 0!==i?i:null),r=l[d];if(void 0===r||u&&Su(u,d))continue;const s={delay:n,...ko(a||{},d)};let o=!1;if(window.MotionHandoffAnimation){const t=al(e);if(t){const e=window.MotionHandoffAnimation(t,d,Ai);null!==e&&(s.startTime=e,o=!0)}}il(e,d),t.start(ku(d,t,r,e.shouldReduceMotion&&Go.has(d)?{type:!1}:s,e,o));const h=t.animation;h&&c.push(h)}return o&&Promise.all(c).then(()=>{Ai.update(()=>{o&&function(e,t){const n=vo(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i)sl(e,a,ga(i[a]))}(e,o)})}),c}function ju(e,t,n={}){var r;const s=vo(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(_u(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t,n=0,r=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*r,l=1===s?(e=0)=>e*r:(e=0)=>o-e*r;return Array.from(e.variantChildren).sort(Eu).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(ju(e,t,{...i,delay:n+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,s+r,a,o,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}return Promise.all([a(),o(n.delay)])}function Eu(e,t){return e.sortNodePosition(t)}const Cu=Qi.length;function Nu(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Nu(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Cu;n++){const r=Qi[n],s=e.props[r];(Hi(s)||!1===s)&&(t[r]=s)}return t}const Tu=[...Gi].reverse(),Pu=Gi.length;function Ru(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>ju(e,t,n));r=Promise.all(s)}else if("string"==typeof t)r=ju(e,t,n);else{const s="function"==typeof t?vo(e,t,n.custom):t;r=Promise.all(_u(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function Ou(e){let t=Ru(e),n=Du(),r=!0;const s=t=>(n,r)=>{var s;const i=vo(e,r,"exit"===t?null===(s=e.presenceContext)||void 0===s?void 0:s.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function i(i){const{props:a}=e,o=Nu(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<Pu;t++){const h=Tu[t],f=n[h],p=void 0!==a[h]?a[h]:o[h],m=Hi(p),g=h===i?f.isActive:null;!1===g&&(d=t);let y=p===o[h]&&p!==a[h]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||Ki(p)||"boolean"==typeof p)continue;const v=Au(f.prevProp,p);let b=v||h===i&&f.isActive&&!y&&m||t>d&&m,w=!1;const x=Array.isArray(p)?p:[p];let k=x.reduce(s(h),{});!1===g&&(k={});const{prevResolvedValues:S={}}=f,_={...S,...k},j=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in _){const t=k[e],n=S[e];if(u.hasOwnProperty(e))continue;let r=!1;r=ma(t)&&ma(n)?!yo(t,n):t!==n,r?null!=t?j(e):c.add(e):void 0!==t&&c.has(e)?j(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=k,f.isActive&&(u={...u,...k}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||w)&&l.push(...x.map(e=>({animation:e,options:{type:h}})))}if(c.size){const t={};c.forEach(n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=null!=r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=i(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Du(),r=!0}}}function Au(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!yo(t,e)}function Iu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Du(){return{animate:Iu(!0),whileInView:Iu(),whileHover:Iu(),whileTap:Iu(),whileDrag:Iu(),whileFocus:Iu(),exit:Iu()}}class Lu{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Mu=0;const $u={animation:{Feature:class extends Lu{constructor(e){super(e),e.animationState||(e.animationState=Ou(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ki(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Lu{constructor(){super(...arguments),this.id=Mu++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function Fu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Uu(e){return{point:{x:e.pageX,y:e.pageY}}}function Bu(e,t,n,r){return Fu(e,t,(e=>t=>Bo(t)&&e(t,Uu(t)))(n),r)}const zu=(e,t)=>Math.abs(e-t);class Vu{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Hu(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=zu(e.x,t.x),r=zu(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=Di;this.history.push({...r,timestamp:s});const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=qu(t,this.transformPagePoint),Ai.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Hu("pointercancel"===e.type?this.lastMoveEventInfo:qu(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Bo(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=qu(Uu(e),this.transformPagePoint),{point:a}=i,{timestamp:o}=Di;this.history=[{...a,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,Hu(i,this.history)),this.removeListeners=_c(Bu(this.contextWindow,"pointermove",this.handlePointerMove),Bu(this.contextWindow,"pointerup",this.handlePointerUp),Bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ii(this.updatePoint)}}function qu(e,t){return t?{point:t(e.point)}:e}function Wu(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hu({point:e},t){return{point:e,delta:Wu(e,Gu(t)),offset:Wu(e,Ku(t)),velocity:Qu(t,.1)}}function Ku(e){return e[0]}function Gu(e){return e[e.length-1]}function Qu(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Gu(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ni(t)));)n--;if(!r)return{x:0,y:0};const i=Ti(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ju(e){return e.max-e.min}function Yu(e,t,n,r=.5){e.origin=r,e.originPoint=gc(t.min,t.max,e.origin),e.scale=Ju(n)/Ju(t),e.translate=gc(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Xu(e,t,n,r){Yu(e.x,t.x,n.x,r?r.originX:void 0),Yu(e.y,t.y,n.y,r?r.originY:void 0)}function Zu(e,t,n){e.min=n.min+t.min,e.max=e.min+Ju(t)}function ed(e,t,n){e.min=t.min-n.min,e.max=e.min+Ju(t)}function td(e,t,n){ed(e.x,t.x,n.x),ed(e.y,t.y,n.y)}function nd(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function rd(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const sd=.35;function id(e,t,n){return{min:ad(e,t),max:ad(e,n)}}function ad(e,t){return"number"==typeof e?e:e[t]||0}const od=()=>({x:{min:0,max:0},y:{min:0,max:0}});function ld(e){return[e("x"),e("y")]}function cd({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function ud(e){return void 0===e||1===e}function dd({scale:e,scaleX:t,scaleY:n}){return!ud(e)||!ud(t)||!ud(n)}function hd(e){return dd(e)||fd(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fd(e){return pd(e.x)||pd(e.y)}function pd(e){return e&&"0%"!==e}function md(e,t,n){return n+t*(e-n)}function gd(e,t,n,r,s){return void 0!==s&&(e=md(e,s,r)),md(e,n,r)+t}function yd(e,t=0,n=1,r,s){e.min=gd(e.min,t,n,r,s),e.max=gd(e.max,t,n,r,s)}function vd(e,{x:t,y:n}){yd(e.x,t.translate,t.scale,t.originPoint),yd(e.y,n.translate,n.scale,n.originPoint)}const bd=.999999999999,wd=1.0000000000001;function xd(e,t){e.min=e.min+t,e.max=e.max+t}function kd(e,t,n,r,s=.5){yd(e,t,n,gc(e.min,e.max,s),r)}function Sd(e,t){kd(e.x,t.x,t.scaleX,t.scale,t.originX),kd(e.y,t.y,t.scaleY,t.scale,t.originY)}function _d(e,t){return cd(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const jd=({current:e})=>e?e.ownerDocument.defaultView:null,Ed=new WeakMap;class Cd{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Vu(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Uu(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?Lo[i]?null:(Lo[i]=!0,()=>{Lo[i]=!1}):Lo.x||Lo.y?null:(Lo.x=Lo.y=!0,()=>{Lo.x=Lo.y=!1}),!this.openDragLock))return;var i;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ld(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Da.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Ju(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&Ai.postRender(()=>s(e,t)),il(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>ld(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:jd(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Ai.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Nd(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?gc(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?gc(n,e,r.max):Math.min(e,n)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&ta(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:n,bottom:r,right:s}){return{x:nd(e.x,n,s),y:nd(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=sd){return!1===e?e=0:!0===e&&(e=sd),{x:id(e,"left","right"),y:id(e,"top","bottom")}}(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ld(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ta(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=_d(e,n),{scroll:s}=t;return s&&(xd(r.x,s.offset.x),xd(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:rd(e.x,t.x),y:rd(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=cd(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=ld(a=>{if(!Nd(a,t,this.currentDirection))return;let l=o&&o[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return il(this.visualElement,e),n.start(ku(e,n,0,t,this.visualElement,!1))}stopAnimation(){ld(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ld(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ld(t=>{const{drag:n}=this.getProps();if(!Nd(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-gc(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ta(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ld(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Ju(e),s=Ju(t);return s>r?n=Ci(t.min,t.max-r,e.min):r>s&&(n=Ci(e.min,e.max-s,t.min)),Ta(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ld(t=>{if(!Nd(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(gc(s,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;Ed.set(this.visualElement,this);const e=Bu(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();ta(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ai.read(t);const s=Fu(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(ld(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=sd,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Nd(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const Td=e=>(t,n)=>{e&&Ai.postRender(()=>e(t,n))};const Pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rd(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Od={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!La.test(e))return e;e=parseFloat(e)}return`${Rd(e,t.target.x)}% ${Rd(e,t.target.y)}%`}},Ad={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=$l.parse(e);if(s.length>5)return r;const i=$l.createTransformer(e),a="number"!=typeof s[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=l;const c=gc(o,l,.5);return"number"==typeof s[2+a]&&(s[2+a]/=c),"number"==typeof s[3+a]&&(s[3+a]/=c),i(s)}};class Id extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;var i;i=Ld,Object.assign(ro,i),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,i=n.projection;return i?(i.isPresent=s,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||Ai.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ia.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Dd(e){const[t,n]=vi(),r=p.useContext(ui);return f.jsx(Id,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(aa),isPresent:t,safeToRemove:n})}const Ld={borderRadius:{...Od,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Od,borderTopRightRadius:Od,borderBottomLeftRadius:Od,borderBottomRightRadius:Od,boxShadow:Ad};const Md=(e,t)=>e.depth-t.depth;class $d{constructor(){this.children=[],this.isDirty=!1}add(e){Xo(this.children,e),this.isDirty=!0}remove(e){Zo(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Md),this.isDirty=!1,this.children.forEach(e)}}const Fd=["TopLeft","TopRight","BottomLeft","BottomRight"],Ud=Fd.length,Bd=e=>"string"==typeof e?parseFloat(e):e,zd=e=>"number"==typeof e||La.test(e);function Vd(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const qd=Hd(0,.5,gl),Wd=Hd(.5,.95,_i);function Hd(e,t,n){return r=>r<e?0:r>t?1:n(Ci(e,t,r))}function Kd(e,t){e.min=t.min,e.max=t.max}function Gd(e,t){Kd(e.x,t.x),Kd(e.y,t.y)}function Qd(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Jd(e,t,n,r,s){return e=md(e-=t,1/n,r),void 0!==s&&(e=md(e,1/s,r)),e}function Yd(e,t,[n,r,s],i,a){!function(e,t=0,n=1,r=.5,s,i=e,a=e){Da.test(t)&&(t=parseFloat(t),t=gc(a.min,a.max,t/100)-a.min);if("number"!=typeof t)return;let o=gc(i.min,i.max,r);e===i&&(o-=t),e.min=Jd(e.min,t,n,o,s),e.max=Jd(e.max,t,n,o,s)}(e,t[n],t[r],t[s],t.scale,i,a)}const Xd=["x","scaleX","originX"],Zd=["y","scaleY","originY"];function eh(e,t,n,r){Yd(e.x,t,Xd,n?n.x:void 0,r?r.x:void 0),Yd(e.y,t,Zd,n?n.y:void 0,r?r.y:void 0)}function th(e){return 0===e.translate&&1===e.scale}function nh(e){return th(e.x)&&th(e.y)}function rh(e,t){return e.min===t.min&&e.max===t.max}function sh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ih(e,t){return sh(e.x,t.x)&&sh(e.y,t.y)}function ah(e){return Ju(e.x)/Ju(e.y)}function oh(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class lh{constructor(){this.members=[]}add(e){Xo(this.members,e),e.scheduleRender()}remove(e){if(Zo(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ch={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},uh="undefined"!=typeof window&&void 0!==window.MotionDebug,dh=["","X","Y","Z"],hh={visibility:"hidden"};let fh=0;function ph(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function mh(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=al(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ai,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&mh(r)}function gh({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=fh++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,uh&&(ch.totalNodes=ch.resolvedTargetDeltas=ch.recalculatedProjection=0),this.nodes.forEach(bh),this.nodes.forEach(Eh),this.nodes.forEach(Ch),this.nodes.forEach(wh),uh&&window.MotionDebug.record(ch)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new $d)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new el),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:s,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||s)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=Yo.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Ii(r),e(i-t))};return Ai.read(r,!0),()=>Ii(r)}(r,250),Pd.hasAnimatedSinceResize&&(Pd.hasAnimatedSinceResize=!1,this.nodes.forEach(jh))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&a&&(s||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||Ah,{onLayoutAnimationStart:i,onLayoutAnimationComplete:o}=a.getProps(),l=!this.targetLayout||!ih(this.targetLayout,r)||n,c=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...ko(s,"layout"),onPlay:i,onComplete:o};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||jh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nh),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mh(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(kh);this.isUpdating||this.nodes.forEach(Sh),this.isUpdating=!1,this.nodes.forEach(_h),this.nodes.forEach(yh),this.nodes.forEach(vh),this.clearAllSnapshots();const e=Yo.now();Di.delta=Ta(0,1e3/60,e-Di.timestamp),Di.timestamp=e,Di.isProcessing=!0,Li.update.process(Di),Li.preRender.process(Di),Li.render.process(Di),Di.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ia.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xh),this.sharedNodes.forEach(Th)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ai.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ai.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!nh(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||hd(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Lh((r=n).x),Lh(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some($h))){const{scroll:e}=this.root;e&&(xd(n.x,e.offset.x),xd(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Gd(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:s,options:i}=t;t!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&Gd(n,e),xd(n.x,s.offset.x),xd(n.y,s.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};Gd(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Sd(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),hd(e.latestValues)&&Sd(n,e.latestValues)}return hd(this.latestValues)&&Sd(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Gd(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!hd(e.latestValues))continue;dd(e.latestValues)&&e.updateSnapshot();const r=od();Gd(r,e.measurePageBox()),eh(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return hd(this.latestValues)&&eh(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Di.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:i}=this.options;if(this.layout&&(s||i)){if(this.resolvedRelativeTargetAt=Di.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},td(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Gd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,Zu(a.x,o.x,l.x),Zu(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Gd(this.target,this.layout.layoutBox),vd(this.target,this.targetDelta)):Gd(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},td(this.relativeTargetOrigin,this.target,e.target),Gd(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}uh&&ch.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!dd(this.parent.latestValues)&&!fd(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Di.timestamp&&(r=!1),r)return;const{layout:s,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!i)return;Gd(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const s=n.length;if(!s)return;let i,a;t.x=t.y=1;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Sd(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,vd(e,a)),r&&hd(i.latestValues)&&Sd(e,i.latestValues))}t.x<wd&&t.x>bd&&(t.x=1),t.y<wd&&t.y>bd&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Qd(this.prevProjectionDelta.x,this.projectionDelta.x),Qd(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Xu(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&oh(this.projectionDelta.x,this.prevProjectionDelta.x)&&oh(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),uh&&ch.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Oh));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p,m,g;Ph(i.x,e.x,n),Ph(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(td(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=a,g=n,Rh(f.x,p.x,m.x,g),Rh(f.y,p.y,m.y,g),d&&(l=this.relativeTarget,h=d,rh(l.x,h.x)&&rh(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Gd(d,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,n,r,s,i){s?(e.opacity=gc(0,void 0!==n.opacity?n.opacity:1,qd(r)),e.opacityExit=gc(void 0!==t.opacity?t.opacity:1,0,Wd(r))):i&&(e.opacity=gc(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<Ud;a++){const s=`border${Fd[a]}Radius`;let i=Vd(t,s),o=Vd(n,s);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||zd(i)===zd(o)?(e[s]=Math.max(gc(Bd(i),Bd(o),r),0),(Da.test(o)||Da.test(i))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=gc(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ai.update(()=>{Pd.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=ya(e)?e:rl(e);return r.start(ku("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Mh(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ju(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Ju(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Gd(t,n),Sd(t,s),Xu(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new lh);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&ph("z",e,r,this.animationValues);for(let s=0;s<dh.length;s++)ph(`rotate${dh[s]}`,e,r,this.animationValues),ph(`skew${dh[s]}`,e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hh;const r={visibility:""},s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=va(null==e?void 0:e.pointerEvents)||"",r.transform=s?s(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=va(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!hd(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1),t}const a=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(null==n?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:a,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),i&&(r+=`rotateY(${i}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),s&&(r.transform=s(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,i.animationValues?r.opacity=i===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=i===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in ro){if(void 0===a[c])continue;const{correct:e,applyTo:t}=ro[c],n="none"===r.transform?a[c]:e(a[c],i);if(t){const e=t.length;for(let s=0;s<e;s++)r[t[s]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=i===this?va(null==e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(kh),this.root.sharedNodes.clear()}}}function yh(e){e.updateLayout()}function vh(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;"size"===s?ld(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],s=Ju(r);r.min=t[e].min,r.max=r.min+s}):Mh(s,n.layoutBox,t)&&ld(r=>{const s=i?n.measuredBox[r]:n.layoutBox[r],a=Ju(t[r]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Xu(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?Xu(o,e.applyTransform(r,!0),n.measuredBox):Xu(o,t,n.layoutBox);const l=!nh(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};td(a,n.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};td(o,t,i.layoutBox),ih(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function bh(e){uh&&ch.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wh(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xh(e){e.clearSnapshot()}function kh(e){e.clearMeasurements()}function Sh(e){e.isLayoutDirty=!1}function _h(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Eh(e){e.resolveTargetDelta()}function Ch(e){e.calcProjection()}function Nh(e){e.resetSkewAndRotation()}function Th(e){e.removeLeadSnapshot()}function Ph(e,t,n){e.translate=gc(t.translate,0,n),e.scale=gc(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Rh(e,t,n,r){e.min=gc(t.min,n.min,r),e.max=gc(t.max,n.max,r)}function Oh(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ah={duration:.45,ease:[.4,0,.1,1]},Ih=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Dh=Ih("applewebkit/")&&!Ih("chrome/")?Math.round:_i;function Lh(e){e.min=Dh(e.min),e.max=Dh(e.max)}function Mh(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=ah(t),s=ah(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function $h(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Fh=gh({attachResizeListener:(e,t)=>Fu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uh={current:void 0},Bh=gh({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Uh.current){const e=new Fh({});e.mount(window),e.setOptions({layoutScroll:!0}),Uh.current=e}return Uh.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),zh={pan:{Feature:class extends Lu{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(e){this.session=new Vu(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jd(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Td(e),onStart:Td(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Ai.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Bu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Lu{constructor(e){super(e),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new Cd(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Bh,MeasureLayout:Dd}};function Vh(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const s=r["onHover"+n];s&&Ai.postRender(()=>s(t,Uu(t)))}function qh(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const s=r["onTap"+("End"===n?"":n)];s&&Ai.postRender(()=>s(t,Uu(t)))}const Wh=new WeakMap,Hh=new WeakMap,Kh=e=>{const t=Wh.get(e.target);t&&t(e)},Gh=e=>{e.forEach(Kh)};function Qh(e,t,n){const r=function({root:e,...t}){const n=e||document;Hh.has(n)||Hh.set(n,{});const r=Hh.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Gh,{root:e,...t})),r[s]}(t);return Wh.set(e,n),r.observe(e),()=>{Wh.delete(e),r.unobserve(e)}}const Jh={some:0,all:1};const Yh={inView:{Feature:class extends Lu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:Jh[r]};return Qh(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Lu{mount(){const{current:e}=this.node;e&&(this.unmount=Ko(e,e=>(qh(this.node,e,"Start"),(e,{success:t})=>qh(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Lu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_c(Fu(this.node.current,"focus",()=>this.onFocus()),Fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Lu{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,s,i]=$o(e,n),a=Fo(e=>{const{target:n}=e,r=t(e);if("function"!=typeof r||!n)return;const i=Fo(e=>{r(e),n.removeEventListener("pointerleave",i)});n.addEventListener("pointerleave",i,s)});return r.forEach(e=>{e.addEventListener("pointerenter",a,s)}),i}(e,e=>(Vh(this.node,e,"Start"),e=>Vh(this.node,e,"End"))))}unmount(){}}}},Xh={layout:{ProjectionNode:Bh,MeasureLayout:Dd}},Zh={current:null},ef={current:!1};const tf=[...cc,Tl,$l],nf=new WeakMap;const rf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sf{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Yo.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Ai.render(this.render,!1,!0))};const{latestValues:o,renderState:l,onUpdate:c}=i;this.onUpdate=c,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=Ji(t),this.isVariantNode=Yi(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in d){const e=d[h];void 0!==o[h]&&ya(e)&&e.set(o[h],!1)}}mount(e){this.current=e,nf.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ef.current||function(){if(ef.current=!0,xi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zh.current=e.matches;e.addListener(t),t()}else Zh.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Zh.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nf.delete(this.current),this.projection&&this.projection.unmount(),Ii(this.notifyUpdate),Ii(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ka.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Ai.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Fi){const t=Fi[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<rf.length;n++){const t=rf[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(ya(s))e.addValue(r,s);else if(ya(i))e.addValue(r,rl(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,rl(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=rl(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var s;return null!=r&&("string"==typeof r&&(ic(r)||vl(r))?r=parseFloat(r):(s=r,!tf.find(lc(s))&&$l.test(t)&&(r=Wl(e,t))),this.setBaseTarget(e,ya(r)?r.get():r)),ya(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const s=pa(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);s&&(r=s[e])}if(n&&void 0!==r)return r;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||ya(s)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new el),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class af extends sf{constructor(){super(...arguments),this.KeyframeResolver=dc}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ya(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class of extends af{constructor(){super(...arguments),this.type="html",this.renderInstance=eo}readValueFromInstance(e,t){if(ka.has(t)){const e=ql(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),s=(_a(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof s?s.trim():s}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return _d(e,t)}build(e,t,n){Ha(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return io(e,t,n)}}class lf extends af{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=od}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ka.has(t)){const e=ql(t);return e&&e.default||0}return t=to.has(t)?t:ra(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return ao(e,t,n)}build(e,t,n){Ja(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){no(e,t,0,r)}mount(e){this.isSVGTag=Za(e.tagName),super.mount(e)}}const cf=(e,t)=>ha(e)?new lf(t):new of(t,{allowProjection:e!==p.Fragment}),uf=qi(go({...$u,...Yh,...zh,...Xh},cf));var df=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hf={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ff=new class{#e=hf;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}};var pf="undefined"==typeof window||"Deno"in globalThis;function mf(){}function gf(e){return"number"==typeof e&&e>=0&&e!==1/0}function yf(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vf(e,t){return"function"==typeof e?e(t):e}function bf(e,t){return"function"==typeof e?e(t):e}function wf(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a)if(r){if(t.queryHash!==kf(a,t.options))return!1}else if(!_f(t.queryKey,a))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!s||s===t.state.fetchStatus)&&!(i&&!i(t)))}function xf(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Sf(t.options.mutationKey)!==Sf(i))return!1}else if(!_f(t.options.mutationKey,i))return!1}return(!r||t.state.status===r)&&!(s&&!s(t))}function kf(e,t){return(t?.queryKeyHashFn||Sf)(e)}function Sf(e){return JSON.stringify(e,(e,t)=>Tf(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function _f(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(n=>_f(e[n],t[n])))}var jf=Object.prototype.hasOwnProperty;function Ef(e,t){if(e===t)return e;const n=Nf(e)&&Nf(t);if(!(n||Tf(e)&&Tf(t)))return t;const r=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),i=s.length,a=n?new Array(i):{};let o=0;for(let l=0;l<i;l++){const i=n?l:s[l],c=e[i],u=t[i];if(c===u){a[i]=c,(n?l<r:jf.call(e,i))&&o++;continue}if(null===c||null===u||"object"!=typeof c||"object"!=typeof u){a[i]=u;continue}const d=Ef(c,u);a[i]=d,d===c&&o++}return r===i&&o===r?e:a}function Cf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Nf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tf(e){if(!Pf(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Pf(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Pf(e){return"[object Object]"===Object.prototype.toString.call(e)}function Rf(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Ef(e,t):t}function Of(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Af(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var If=Symbol();function Df(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==If?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function Lf(e,t){return"function"==typeof e?e(...t):!!e}var Mf=new class extends df{#n;#r;#s;constructor(){super(),this.#s=e=>{if(!pf&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#r||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#s=e,this.#r?.(),this.#r=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#n!==e&&(this.#n=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#n?this.#n:"hidden"!==globalThis.document?.visibilityState}};function $f(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}var Ff=function(e){setTimeout(e,0)};var Uf=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},s=Ff;const i=r=>{t?e.push(r):s(()=>{n(r)})};return{batch:i=>{let a;t++;try{a=i()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return a},batchCalls:e=>(...t)=>{i(()=>{e(...t)})},schedule:i,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{s=e}}}(),Bf=new class extends df{#i=!0;#r;#s;constructor(){super(),this.#s=e=>{if(!pf&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#r||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#s=e,this.#r?.(),this.#r=e(this.setOnline.bind(this))}setOnline(e){this.#i!==e&&(this.#i=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#i}};function zf(e){return Math.min(1e3*2**e,3e4)}function Vf(e){return"online"!==(e??"online")||Bf.isOnline()}var qf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Wf(e){let t,n=!1,r=0;const s=$f(),i=()=>"pending"!==s.status,a=()=>Mf.isFocused()&&("always"===e.networkMode||Bf.isOnline())&&e.canRun(),o=()=>Vf(e.networkMode)&&e.canRun(),l=e=>{i()||(t?.(),s.resolve(e))},c=e=>{i()||(t?.(),s.reject(e))},u=()=>new Promise(n=>{t=e=>{(i()||a())&&n(e)},e.onPause?.()}).then(()=>{t=void 0,i()||e.onContinue?.()}),d=()=>{if(i())return;let t;const s=0===r?e.initialPromise:void 0;try{t=s??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{if(i())return;const s=e.retry??(pf?0:3),o=e.retryDelay??zf,l="function"==typeof o?o(r,t):o,h=!0===s||"number"==typeof s&&r<s||"function"==typeof s&&s(r,t);var f;!n&&h?(r++,e.onFail?.(r,t),(f=l,new Promise(e=>{ff.setTimeout(e,f)})).then(()=>a()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:s,status:()=>s.status,cancel:t=>{if(!i()){const n=new qf(t);c(n),e.onCancel?.(n)}},continue:()=>(t?.(),s),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?d():u().then(d),s)}}var Hf=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gf(this.gcTime)&&(this.#a=ff.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pf?1/0:3e5))}clearGcTimeout(){this.#a&&(ff.clearTimeout(this.#a),this.#a=void 0)}},Kf=class extends Hf{#o;#l;#c;#u;#d;#h;#f;constructor(e){super(),this.#f=!1,this.#h=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#u=e.client,this.#c=this.#u.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=Jf(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#d?.promise}setOptions(e){if(this.options={...this.#h,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=Jf(this.options);void 0!==e.data&&(this.setState(Qf(e.data,e.dataUpdatedAt)),this.#o=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#c.remove(this)}setData(e,t){const n=Rf(this.state.data,e,this.options);return this.#p({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#p({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#d?.promise;return this.#d?.cancel(e),t?t.then(mf).catch(mf):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(e=>!1!==bf(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===If||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===vf(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!yf(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#d&&(this.#f?this.#d.cancel({revert:!0}):this.#d.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#p({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#d?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#d)return this.#d.continueRetry(),this.#d.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#f=!0,n.signal)})},s=()=>{const e=Df(this.options,t),n=(()=>{const e={client:this.#u,queryKey:this.queryKey,meta:this.meta};return r(e),e})();return this.#f=!1,this.options.persister?this.options.persister(e,n,this):e(n)},i=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:s};return r(e),e})();this.options.behavior?.onFetch(i,this),this.#l=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#p({type:"fetch",meta:i.fetchOptions?.meta}),this.#d=Wf({initialPromise:t?.initialPromise,fn:i.fetchFn,onCancel:e=>{e instanceof qf&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),n.abort()},onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:()=>{this.#p({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0});try{const e=await this.#d.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#c.config.onSuccess?.(e,this),this.#c.config.onSettled?.(e,this.state.error,this),e}catch(a){if(a instanceof qf){if(a.silent)return this.#d.promise;if(a.revert){if(void 0===this.state.data)throw a;return this.state.data}}throw this.#p({type:"error",error:a}),this.#c.config.onError?.(a,this),this.#c.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Gf(t.data,this.options),fetchMeta:e.meta??null};case"success":const n={...t,...Qf(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?n:void 0,n;case"error":const r=e.error;return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Uf.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#c.notify({query:this,type:"updated",action:e})})}};function Gf(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vf(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function Qf(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Jf(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yf=class extends df{constructor(e,t){super(),this.options=t,this.#u=e,this.#m=null,this.#g=$f(),this.bindMethods(),this.setOptions(t)}#u;#y=void 0;#v=void 0;#b=void 0;#w;#x;#g;#m;#k;#S;#_;#j;#E;#C;#N=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#y.addObserver(this),Xf(this.#y,this.options)?this.#T():this.updateResult(),this.#P())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zf(this.#y,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zf(this.#y,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#R(),this.#O(),this.#y.removeObserver(this)}setOptions(e){const t=this.options,n=this.#y;if(this.options=this.#u.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof bf(this.options.enabled,this.#y))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#A(),this.#y.setOptions(this.options),t._defaulted&&!Cf(this.options,t)&&this.#u.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#y,observer:this});const r=this.hasListeners();r&&ep(this.#y,n,this.options,t)&&this.#T(),this.updateResult(),!r||this.#y===n&&bf(this.options.enabled,this.#y)===bf(t.enabled,this.#y)&&vf(this.options.staleTime,this.#y)===vf(t.staleTime,this.#y)||this.#I();const s=this.#D();!r||this.#y===n&&bf(this.options.enabled,this.#y)===bf(t.enabled,this.#y)&&s===this.#C||this.#L(s)}getOptimisticResult(e){const t=this.#u.getQueryCache().build(this.#u,e),n=this.createResult(t,e);return function(e,t){if(!Cf(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(this.#b=n,this.#x=this.options,this.#w=this.#y.state),n}getCurrentResult(){return this.#b}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),t?.(n),"promise"===n&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#g.status||this.#g.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,n))})}trackProp(e){this.#N.add(e)}getCurrentQuery(){return this.#y}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#u.defaultQueryOptions(e),n=this.#u.getQueryCache().build(this.#u,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#T({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#b))}#T(e){this.#A();let t=this.#y.fetch(this.options,e);return e?.throwOnError||(t=t.catch(mf)),t}#I(){this.#R();const e=vf(this.options.staleTime,this.#y);if(pf||this.#b.isStale||!gf(e))return;const t=yf(this.#b.dataUpdatedAt,e)+1;this.#j=ff.setTimeout(()=>{this.#b.isStale||this.updateResult()},t)}#D(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#y):this.options.refetchInterval)??!1}#L(e){this.#O(),this.#C=e,!pf&&!1!==bf(this.options.enabled,this.#y)&&gf(this.#C)&&0!==this.#C&&(this.#E=ff.setInterval(()=>{(this.options.refetchIntervalInBackground||Mf.isFocused())&&this.#T()},this.#C))}#P(){this.#I(),this.#L(this.#D())}#R(){this.#j&&(ff.clearTimeout(this.#j),this.#j=void 0)}#O(){this.#E&&(ff.clearInterval(this.#E),this.#E=void 0)}createResult(e,t){const n=this.#y,r=this.options,s=this.#b,i=this.#w,a=this.#x,o=e!==n?e.state:this.#v,{state:l}=e;let c,u={...l},d=!1;if(t._optimisticResults){const s=this.hasListeners(),i=!s&&Xf(e,t),a=s&&ep(e,n,t,r);(i||a)&&(u={...u,...Gf(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:f,status:p}=u;c=u.data;let m=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===p){let e;s?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(e=s.data,m=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#_?.state.data,this.#_):t.placeholderData,void 0!==e&&(p="success",c=Rf(s?.data,e,t),d=!0)}if(t.select&&void 0!==c&&!m)if(s&&c===i?.data&&t.select===this.#k)c=this.#S;else try{this.#k=t.select,c=t.select(c),c=Rf(s?.data,c,t),this.#S=c,this.#m=null}catch(k){this.#m=k}this.#m&&(h=this.#m,c=this.#S,f=Date.now(),p="error");const g="fetching"===u.fetchStatus,y="pending"===p,v="error"===p,b=y&&g,w=void 0!==c,x={status:p,fetchStatus:u.fetchStatus,isPending:y,isSuccess:"success"===p,isError:v,isInitialLoading:b,isLoading:b,data:c,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:f,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>o.dataUpdateCount||u.errorUpdateCount>o.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:v&&!w,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:v&&w,isStale:tp(e,t),refetch:this.refetch,promise:this.#g,isEnabled:!1!==bf(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===x.status?e.reject(x.error):void 0!==x.data&&e.resolve(x.data)},r=()=>{const e=this.#g=x.promise=$f();t(e)},s=this.#g;switch(s.status){case"pending":e.queryHash===n.queryHash&&t(s);break;case"fulfilled":"error"!==x.status&&x.data===s.value||r();break;case"rejected":"error"===x.status&&x.error===s.reason||r()}}return x}updateResult(){const e=this.#b,t=this.createResult(this.#y,this.options);if(this.#w=this.#y.state,this.#x=this.options,void 0!==this.#w.data&&(this.#_=this.#y),Cf(t,e))return;this.#b=t;this.#M({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!this.#N.size)return!0;const r=new Set(n??this.#N);return this.options.throwOnError&&r.add("error"),Object.keys(this.#b).some(t=>{const n=t;return this.#b[n]!==e[n]&&r.has(n)})})()})}#A(){const e=this.#u.getQueryCache().build(this.#u,this.options);if(e===this.#y)return;const t=this.#y;this.#y=e,this.#v=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#P()}#M(e){Uf.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#b)}),this.#u.getQueryCache().notify({query:this.#y,type:"observerResultsUpdated"})})}};function Xf(e,t){return function(e,t){return!1!==bf(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Zf(e,t,t.refetchOnMount)}function Zf(e,t,n){if(!1!==bf(t.enabled,e)&&"static"!==vf(t.staleTime,e)){const r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&tp(e,t)}return!1}function ep(e,t,n,r){return(e!==t||!1===bf(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&tp(e,n)}function tp(e,t){return!1!==bf(t.enabled,e)&&e.isStaleByTime(vf(t.staleTime,e))}function np(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let n=!1;const c=Df(t.options,t.fetchOptions),u=async(e,r,s)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:s?"backward":"forward",meta:t.options.meta};var i;return i=e,Object.defineProperty(i,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),a=await c(i),{maxPages:o}=t.options,l=s?Af:Of;return{pages:l(e.pages,a,o),pageParams:l(e.pageParams,r,o)}};if(s&&i.length){const e="backward"===s,t={pages:i,pageParams:a},n=(e?sp:rp)(r,t);o=await u(t,n,e)}else{const t=e??i.length;do{const e=0===l?a[0]??r.initialPageParam:rp(r,o);if(l>0&&null==e)break;o=await u(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function rp(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function sp(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var ip=class extends Hf{#u;#$;#F;#d;constructor(e){super(),this.#u=e.client,this.mutationId=e.mutationId,this.#F=e.mutationCache,this.#$=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#$.includes(e)||(this.#$.push(e),this.clearGcTimeout(),this.#F.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#$=this.#$.filter(t=>t!==e),this.scheduleGc(),this.#F.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#$.length||("pending"===this.state.status?this.scheduleGc():this.#F.remove(this))}continue(){return this.#d?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#p({type:"continue"})},n={client:this.#u,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#d=Wf({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#F.canRun(this)});const r="pending"===this.state.status,s=!this.#d.canStart();try{if(r)t();else{this.#p({type:"pending",variables:e,isPaused:s}),await(this.#F.config.onMutate?.(e,this,n));const t=await(this.options.onMutate?.(e,n));t!==this.state.context&&this.#p({type:"pending",context:t,variables:e,isPaused:s})}const i=await this.#d.start();return await(this.#F.config.onSuccess?.(i,e,this.state.context,this,n)),await(this.options.onSuccess?.(i,e,this.state.context,n)),await(this.#F.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n)),await(this.options.onSettled?.(i,null,e,this.state.context,n)),this.#p({type:"success",data:i}),i}catch(i){try{throw await(this.#F.config.onError?.(i,e,this.state.context,this,n)),await(this.options.onError?.(i,e,this.state.context,n)),await(this.#F.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)),await(this.options.onSettled?.(void 0,i,e,this.state.context,n)),i}finally{this.#p({type:"error",error:i})}}finally{this.#F.runNext(this)}}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Uf.batch(()=>{this.#$.forEach(t=>{t.onMutationUpdate(e)}),this.#F.notify({mutation:this,type:"updated",action:e})})}};var ap=class extends df{constructor(e={}){super(),this.config=e,this.#U=new Set,this.#B=new Map,this.#z=0}#U;#B;#z;build(e,t,n){const r=new ip({client:e,mutationCache:this,mutationId:++this.#z,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#U.add(e);const t=op(e);if("string"==typeof t){const n=this.#B.get(t);n?n.push(e):this.#B.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#U.delete(e)){const t=op(e);if("string"==typeof t){const n=this.#B.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#B.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=op(e);if("string"==typeof t){const n=this.#B.get(t),r=n?.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=op(e);if("string"==typeof t){const n=this.#B.get(t)?.find(t=>t!==e&&t.state.isPaused);return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){Uf.batch(()=>{this.#U.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#U.clear(),this.#B.clear()})}getAll(){return Array.from(this.#U)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>xf(t,e))}findAll(e={}){return this.getAll().filter(t=>xf(e,t))}notify(e){Uf.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return Uf.batch(()=>Promise.all(e.map(e=>e.continue().catch(mf))))}};function op(e){return e.options.scope?.id}var lp=class extends df{#u;#b=void 0;#V;#q;constructor(e,t){super(),this.#u=e,this.setOptions(t),this.bindMethods(),this.#W()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#u.defaultMutationOptions(e),Cf(this.options,t)||this.#u.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#V,observer:this}),t?.mutationKey&&this.options.mutationKey&&Sf(t.mutationKey)!==Sf(this.options.mutationKey)?this.reset():"pending"===this.#V?.state.status&&this.#V.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#V?.removeObserver(this)}onMutationUpdate(e){this.#W(),this.#M(e)}getCurrentResult(){return this.#b}reset(){this.#V?.removeObserver(this),this.#V=void 0,this.#W(),this.#M()}mutate(e,t){return this.#q=t,this.#V?.removeObserver(this),this.#V=this.#u.getMutationCache().build(this.#u,this.options),this.#V.addObserver(this),this.#V.execute(e)}#W(){const e=this.#V?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#b={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#M(e){Uf.batch(()=>{if(this.#q&&this.hasListeners()){const t=this.#b.variables,n=this.#b.context,r={client:this.#u,meta:this.options.meta,mutationKey:this.options.mutationKey};"success"===e?.type?(this.#q.onSuccess?.(e.data,t,n,r),this.#q.onSettled?.(e.data,null,t,n,r)):"error"===e?.type&&(this.#q.onError?.(e.error,t,n,r),this.#q.onSettled?.(void 0,e.error,t,n,r))}this.listeners.forEach(e=>{e(this.#b)})})}},cp=class extends df{constructor(e={}){super(),this.config=e,this.#H=new Map}#H;build(e,t,n){const r=t.queryKey,s=t.queryHash??kf(r,t);let i=this.get(s);return i||(i=new Kf({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#H.has(e.queryHash)||(this.#H.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#H.get(e.queryHash);t&&(e.destroy(),t===e&&this.#H.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Uf.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#H.get(e)}getAll(){return[...this.#H.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>wf(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>wf(e,t)):t}notify(e){Uf.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Uf.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Uf.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},up=p.createContext(void 0),dp=e=>{const t=p.useContext(up);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},hp=p.createContext(!1);hp.Provider;var fp=p.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),pp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function mp(e,t,n){const r=p.useContext(hp),s=p.useContext(fp),i=dp(),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=1e3,n=e=>"static"===e?e:Math.max(e??t,t),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>n(r(...e)):n(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}})(a),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(a,s),(e=>{p.useEffect(()=>{e.clearReset()},[e])})(s);const o=!i.getQueryCache().get(a.queryHash),[l]=p.useState(()=>new t(i,a)),c=l.getOptimisticResult(a),u=!r&&!1!==e.subscribed;if(p.useSyncExternalStore(p.useCallback(e=>{const t=u?l.subscribe(Uf.batchCalls(e)):mf;return l.updateResult(),t},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),p.useEffect(()=>{l.setOptions(a)},[a,l]),((e,t)=>e?.suspense&&t.isPending)(a,c))throw pp(a,l,s);if((({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&void 0===e.data||Lf(n,[e.error,r])))({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!pf&&((e,t)=>e.isLoading&&e.isFetching&&!t)(c,r)){const e=o?pp(a,l,s):i.getQueryCache().get(a.queryHash)?.promise;e?.catch(mf).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}function gp(e,t){return mp(e,Yf)}function yp(e,t){const n=dp(),[r]=p.useState(()=>new lp(n,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);const s=p.useSyncExternalStore(p.useCallback(e=>r.subscribe(Uf.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=p.useCallback((e,t)=>{r.mutate(e,t).catch(mf)},[r]);if(s.error&&Lf(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function vp(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=vp(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function bp(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=vp(e))&&(r&&(r+=" "),r+=t);return r}const wp=e=>{const t=_p(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),xp(n,t)||Sp(e)},getConflictingClassGroupIds:(e,t)=>{const s=n[e]||[];return t&&r[e]?[...s,...r[e]]:s}}},xp=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?xp(e.slice(1),r):void 0;if(s)return s;if(0===t.validators.length)return;const i=e.join("-");return t.validators.find(({validator:e})=>e(i))?.classGroupId},kp=/^\[(.+)\]$/,Sp=e=>{if(kp.test(e)){const t=kp.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},_p=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Np(Object.entries(e.classGroups),n).forEach(([e,n])=>{jp(n,r,e,t)}),r},jp=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:Ep(t,e)).classGroupId=n)}if("function"==typeof e)return Cp(e)?void jp(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,s])=>{jp(s,Ep(t,e),n,r)})})},Ep=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Cp=e=>e.isThemeGetter,Np=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,Tp=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(s(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):s(e,t)}}},Pp=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,s=t[0],i=t.length,a=e=>{const n=[];let a,o=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===o){if(c===s&&(r||e.slice(d,d+i)===t)){n.push(e.slice(l,d)),l=d+i;continue}if("/"===c){a=d;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return n?e=>n({className:e,parseClassName:a}):a},Rp=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},Op=/\s+/;function Ap(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Ip(e))&&(r&&(r+=" "),r+=t);return r}const Ip=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Ip(e[r]))&&(n&&(n+=" "),n+=t);return n};function Dp(e,...t){let n,r,s,i=function(o){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:Tp(e.cacheSize),parseClassName:Pp(e),...wp(e)}))(l),r=n.cache.get,s=n.cache.set,i=a,a(o)};function a(e){const t=r(e);if(t)return t;const i=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(Op);let o="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){o=e+(o.length>0?" "+o:o);continue}if(f=r(u),!f){o=e+(o.length>0?" "+o:o);continue}h=!1}const p=Rp(t).join(":"),m=c?p+"!":p,g=m+f;if(i.includes(g))continue;i.push(g);const y=s(f,h);for(let n=0;n<y.length;++n){const e=y[n];i.push(m+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return s(e,i),i}return function(){return i(Ap.apply(null,arguments))}}const Lp=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Mp=/^\[(?:([a-z-]+):)?(.+)\]$/i,$p=/^\d+\/\d+$/,Fp=new Set(["px","full","screen"]),Up=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vp=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wp=e=>Kp(e)||Fp.has(e)||$p.test(e),Hp=e=>am(e,"length",om),Kp=e=>Boolean(e)&&!Number.isNaN(Number(e)),Gp=e=>am(e,"number",Kp),Qp=e=>Boolean(e)&&Number.isInteger(Number(e)),Jp=e=>e.endsWith("%")&&Kp(e.slice(0,-1)),Yp=e=>Mp.test(e),Xp=e=>Up.test(e),Zp=new Set(["length","size","percentage"]),em=e=>am(e,Zp,lm),tm=e=>am(e,"position",lm),nm=new Set(["image","url"]),rm=e=>am(e,nm,um),sm=e=>am(e,"",cm),im=()=>!0,am=(e,t,n)=>{const r=Mp.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},om=e=>Bp.test(e)&&!zp.test(e),lm=()=>!1,cm=e=>Vp.test(e),um=e=>qp.test(e),dm=Dp(()=>{const e=Lp("colors"),t=Lp("spacing"),n=Lp("blur"),r=Lp("brightness"),s=Lp("borderColor"),i=Lp("borderRadius"),a=Lp("borderSpacing"),o=Lp("borderWidth"),l=Lp("contrast"),c=Lp("grayscale"),u=Lp("hueRotate"),d=Lp("invert"),h=Lp("gap"),f=Lp("gradientColorStops"),p=Lp("gradientColorStopPositions"),m=Lp("inset"),g=Lp("margin"),y=Lp("opacity"),v=Lp("padding"),b=Lp("saturate"),w=Lp("scale"),x=Lp("sepia"),k=Lp("skew"),S=Lp("space"),_=Lp("translate"),j=()=>["auto",Yp,t],E=()=>[Yp,t],C=()=>["",Wp,Hp],N=()=>["auto",Kp,Yp],T=()=>["","0",Yp],P=()=>[Kp,Yp];return{cacheSize:500,separator:":",theme:{colors:[im],spacing:[Wp,Hp],blur:["none","",Xp,Yp],brightness:P(),borderColor:[e],borderRadius:["none","","full",Xp,Yp],borderSpacing:E(),borderWidth:C(),contrast:P(),grayscale:T(),hueRotate:P(),invert:T(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[Jp,Hp],inset:j(),margin:j(),opacity:P(),padding:E(),saturate:P(),scale:P(),sepia:T(),skew:P(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Yp]}],container:["container"],columns:[{columns:[Xp]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Yp]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qp,Yp]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Yp]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Qp,Yp]}],"grid-cols":[{"grid-cols":[im]}],"col-start-end":[{col:["auto",{span:["full",Qp,Yp]},Yp]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[im]}],"row-start-end":[{row:["auto",{span:[Qp,Yp]},Yp]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Yp]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Yp]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Yp,t]}],"min-w":[{"min-w":[Yp,t,"min","max","fit"]}],"max-w":[{"max-w":[Yp,t,"none","full","min","max","fit","prose",{screen:[Xp]},Xp]}],h:[{h:[Yp,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Yp,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Yp,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Yp,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xp,Hp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gp]}],"font-family":[{font:[im]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Yp]}],"line-clamp":[{"line-clamp":["none",Kp,Gp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wp,Yp]}],"list-image":[{"list-image":["none",Yp]}],"list-style-type":[{list:["none","disc","decimal",Yp]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wp,Hp]}],"underline-offset":[{"underline-offset":["auto",Wp,Yp]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Yp]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Yp]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",tm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",em]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rm]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Wp,Yp]}],"outline-w":[{outline:[Wp,Hp]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Wp,Hp]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xp,sm]}],"shadow-color":[{shadow:[im]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xp,Yp]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Yp]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Yp]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Yp]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Qp,Yp]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Yp]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Yp]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Yp]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wp,Hp,Gp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function hm(...e){return dm(bp(e))}const fm=p.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:hm("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));fm.displayName="Card";const pm=p.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:hm("flex flex-col space-y-1.5 p-6",e),...t}));pm.displayName="CardHeader";const mm=p.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:hm("text-2xl font-semibold leading-none tracking-tight",e),...t}));mm.displayName="CardTitle";p.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:hm("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";const gm=p.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:hm("p-6 pt-0",e),...t}));gm.displayName="CardContent";function ym(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function vm(...e){return t=>{let n=!1;const r=e.map(e=>{const r=ym(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():ym(e[t],null)}}}}function bm(...e){return p.useCallback(vm(...e),e)}p.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:hm("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";var wm=Symbol.for("react.lazy"),xm=g[" use ".trim().toString()];function km(e){return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===wm&&"_payload"in e&&("object"==typeof(t=e._payload)&&null!==t&&"then"in t);var t}function Sm(e){const t=jm(e),n=p.forwardRef((e,n)=>{let{children:r,...s}=e;km(r)&&"function"==typeof xm&&(r=xm(r._payload));const i=p.Children.toArray(r),a=i.find(Cm);if(a){const e=a.props.children,r=i.map(t=>t===a?p.Children.count(e)>1?p.Children.only(null):p.isValidElement(e)?e.props.children:null:t);return f.jsx(t,{...s,ref:n,children:p.isValidElement(e)?p.cloneElement(e,void 0,r):null})}return f.jsx(t,{...s,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var _m=Sm("Slot");function jm(e){const t=p.forwardRef((e,t)=>{let{children:n,...r}=e;if(km(n)&&"function"==typeof xm&&(n=xm(n._payload)),p.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...e)=>{const t=i(...e);return s(...e),t}:s&&(n[r]=s):"style"===r?n[r]={...s,...i}:"className"===r&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==p.Fragment&&(s.ref=t?vm(t,e):e),p.cloneElement(n,s)}return p.Children.count(n)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Em=Symbol("radix.slottable");function Cm(e){return p.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Em}const Nm=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Tm=bp,Pm=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return Tm(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(e=>{const t=null==n?void 0:n[e],r=null==i?void 0:i[e];if(null===t)return null;const a=Nm(t)||Nm(r);return s[e][a]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...s}=t;return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...o}[t]):{...i,...o}[t]===n})?[...e,n,r]:e},[]);return Tm(e,a,l,null==n?void 0:n.class,null==n?void 0:n.className)},Rm=Pm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Om=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?_m:"button";return f.jsx(a,{className:hm(Rm({variant:t,size:n,className:e})),ref:i,...s})});Om.displayName="Button";const Am=Pm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Im({className:e,variant:t,...n}){return f.jsx("div",{className:hm(Am({variant:t}),e),...n})}function Dm(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function Lm(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>p.createContext(e));return function(n){const r=n?.[e]||t;return p.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const s=p.createContext(r),i=n.length;n=[...n,r];const a=t=>{const{scope:n,children:r,...a}=t,o=n?.[e]?.[i]||s,l=p.useMemo(()=>a,Object.values(a));return f.jsx(o.Provider,{value:l,children:r})};return a.displayName=t+"Provider",[a,function(n,a){const o=a?.[e]?.[i]||s,l=p.useContext(o);if(l)return l;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Mm(r,...t)]}function Mm(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var $m=globalThis?.document?p.useLayoutEffect:()=>{},Fm=g[" useId ".trim().toString()]||(()=>{}),Um=0;function Bm(e){const[t,n]=p.useState(Fm());return $m(()=>{n(e=>e??String(Um++))},[e]),t?`radix-${t}`:""}var zm=g[" useInsertionEffect ".trim().toString()]||$m;function Vm({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,a]=function({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),i=p.useRef(t);return zm(()=>{i.current=t},[t]),p.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,r,i]}({defaultProp:t,onChange:n}),o=void 0!==e,l=o?e:s;{const t=p.useRef(void 0!==e);p.useEffect(()=>{const e=t.current;if(e!==o){}t.current=o},[o,r])}const c=p.useCallback(t=>{if(o){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&a.current?.(n)}else i(t)},[o,e,i,a]);return[l,c]}var qm=T();const Wm=t(qm);function Hm(e){const t=Km(e),n=p.forwardRef((e,n)=>{const{children:r,...s}=e,i=p.Children.toArray(r),a=i.find(Qm);if(a){const e=a.props.children,r=i.map(t=>t===a?p.Children.count(e)>1?p.Children.only(null):p.isValidElement(e)?e.props.children:null:t);return f.jsx(t,{...s,ref:n,children:p.isValidElement(e)?p.cloneElement(e,void 0,r):null})}return f.jsx(t,{...s,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function Km(e){const t=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...e)=>{const t=i(...e);return s(...e),t}:s&&(n[r]=s):"style"===r?n[r]={...s,...i}:"className"===r&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==p.Fragment&&(s.ref=t?vm(t,e):e),p.cloneElement(n,s)}return p.Children.count(n)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Gm=Symbol("radix.slottable");function Qm(e){return p.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Gm}var Jm=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Hm(`Primitive.${t}`),r=p.forwardRef((e,r)=>{const{asChild:s,...i}=e,a=s?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...i,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ym(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...e)=>t.current?.(...e),[])}var Xm,Zm="dismissableLayer.update",eg="dismissableLayer.pointerDownOutside",tg="dismissableLayer.focusOutside",ng=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rg=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...l}=e,c=p.useContext(ng),[u,d]=p.useState(null),h=u?.ownerDocument??globalThis?.document,[,m]=p.useState({}),g=bm(t,e=>d(e)),y=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(v),w=u?y.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,k=w>=b,S=function(e,t=globalThis?.document){const n=Ym(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){ig(eg,n,i,{discrete:!0})};const i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=r,t.addEventListener("click",s.current,{once:!0})):r()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...c.branches].some(e=>e.contains(t));k&&!n&&(s?.(e),a?.(e),e.defaultPrevented||o?.())},h),_=function(e,t=globalThis?.document){const n=Ym(e),r=p.useRef(!1);return p.useEffect(()=>{const e=e=>{if(e.target&&!r.current){ig(tg,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...c.branches].some(e=>e.contains(t))||(i?.(e),a?.(e),e.defaultPrevented||o?.())},h);return function(e,t=globalThis?.document){const n=Ym(e);p.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{w===c.layers.size-1&&(r?.(e),!e.defaultPrevented&&o&&(e.preventDefault(),o()))},h),p.useEffect(()=>{if(u)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(Xm=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),sg(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=Xm)}},[u,h,n,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),sg())},[u,c]),p.useEffect(()=>{const e=()=>m({});return document.addEventListener(Zm,e),()=>document.removeEventListener(Zm,e)},[]),f.jsx(Jm.div,{...l,ref:g,style:{pointerEvents:x?k?"auto":"none":void 0,...e.style},onFocusCapture:Dm(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Dm(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Dm(e.onPointerDownCapture,S.onPointerDownCapture)})});rg.displayName="DismissableLayer";function sg(){const e=new CustomEvent(Zm);document.dispatchEvent(e)}function ig(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?function(e,t){e&&qm.flushSync(()=>e.dispatchEvent(t))}(s,i):s.dispatchEvent(i)}p.forwardRef((e,t)=>{const n=p.useContext(ng),r=p.useRef(null),s=bm(t,r);return p.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),f.jsx(Jm.div,{...e,ref:s})}).displayName="DismissableLayerBranch";var ag="focusScope.autoFocusOnMount",og="focusScope.autoFocusOnUnmount",lg={bubbles:!1,cancelable:!0},cg=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[o,l]=p.useState(null),c=Ym(s),u=Ym(i),d=p.useRef(null),h=bm(t,e=>l(e)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let e=function(e){if(m.paused||!o)return;const t=e.target;o.contains(t)?d.current=t:fg(d.current,{select:!0})},t=function(e){if(m.paused||!o)return;const t=e.relatedTarget;null!==t&&(o.contains(t)||fg(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&fg(o)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return o&&r.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[r,o,m.paused]),p.useEffect(()=>{if(o){pg.add(m);const t=document.activeElement;if(!o.contains(t)){const n=new CustomEvent(ag,lg);o.addEventListener(ag,c),o.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fg(r,{select:t}),document.activeElement!==n)return}((e=ug(o),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&fg(o))}return()=>{o.removeEventListener(ag,c),setTimeout(()=>{const e=new CustomEvent(og,lg);o.addEventListener(og,u),o.dispatchEvent(e),e.defaultPrevented||fg(t??document.body,{select:!0}),o.removeEventListener(og,u),pg.remove(m)},0)}}var e},[o,c,u,m]);const g=p.useCallback(e=>{if(!n&&!r)return;if(m.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){const t=e.currentTarget,[r,i]=function(e){const t=ug(e),n=dg(t,e),r=dg(t.reverse(),e);return[n,r]}(t);r&&i?e.shiftKey||s!==i?e.shiftKey&&s===r&&(e.preventDefault(),n&&fg(i,{select:!0})):(e.preventDefault(),n&&fg(r,{select:!0})):s===t&&e.preventDefault()}},[n,r,m.paused]);return f.jsx(Jm.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});function ug(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dg(e,t){for(const n of e)if(!hg(n,{upTo:t}))return n}function hg(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function fg(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}cg.displayName="FocusScope";var pg=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=mg(e,t),e.unshift(t)},remove(t){e=mg(e,t),e[0]?.resume()}}}();function mg(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var gg=p.forwardRef((e,t)=>{const{container:n,...r}=e,[s,i]=p.useState(!1);$m(()=>i(!0),[]);const a=n||s&&globalThis?.document?.body;return a?Wm.createPortal(f.jsx(Jm.div,{...r,ref:t}),a):null});gg.displayName="Portal";var yg=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),a=e?"mounted":"unmounted",[o,l]=function(e,t){return p.useReducer((e,n)=>t[e][n]??e,e)}(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const e=vg(r.current);i.current="mounted"===o?e:"none"},[o]),$m(()=>{const t=r.current,n=s.current;if(n!==e){const r=i.current,a=vg(t);if(e)l("MOUNT");else if("none"===a||"none"===t?.display)l("UNMOUNT");else{l(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}s.current=e}},[e,l]),$m(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,a=i=>{const a=vg(r.current).includes(CSS.escape(i.animationName));if(i.target===t&&a&&(l("ANIMATION_END"),!s.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},o=e=>{e.target===t&&(i.current=vg(r.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:p.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),s="function"==typeof n?n({present:r.isPresent}):p.Children.only(n),i=bm(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(s));return"function"==typeof n||r.isPresent?p.cloneElement(s,{ref:i}):null};function vg(e){return e?.animationName||"none"}yg.displayName="Presence";var bg=0;function wg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xg="right-scroll-bar-position",kg="width-before-scroll-bar";function Sg(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var _g="undefined"!=typeof window?p.useLayoutEffect:p.useEffect,jg=new WeakMap;function Eg(e,t){var n,r,s,i=(n=null,r=function(t){return e.forEach(function(e){return Sg(e,t)})},(s=p.useState(function(){return{value:n,callback:r,facade:{get current(){return s.value},set current(e){var t=s.value;t!==e&&(s.value=e,s.callback(e,t))}}}})[0]).callback=r,s.facade);return _g(function(){var t=jg.get(i);if(t){var n=new Set(t),r=new Set(e),s=i.current;n.forEach(function(e){r.has(e)||Sg(e,null)}),r.forEach(function(e){n.has(e)||Sg(e,s)})}jg.set(i,e)},[e]),i}function Cg(e){return e}var Ng=function(e){var t=e.sideCar,n=ge(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,me({},n))};Ng.isSideCarExport=!0;var Tg=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=Cg);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var s=t(e,r);return n.push(s),function(){n=n.filter(function(e){return e!==s})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var s=n;n=[],s.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=me({async:!0,ssr:!1},e),t}(),Pg=function(){},Rg=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Pg,onWheelCapture:Pg,onTouchMoveCapture:Pg}),s=r[0],i=r[1],a=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,f=e.noRelative,m=e.noIsolation,g=e.inert,y=e.allowPinchZoom,v=e.as,b=void 0===v?"div":v,w=e.gapMode,x=ge(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=h,S=Eg([n,t]),_=me(me({},x),s);return p.createElement(p.Fragment,null,u&&p.createElement(k,{sideCar:Tg,removeScrollBar:c,shards:d,noRelative:f,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),a?p.cloneElement(p.Children.only(o),me(me({},_),{ref:S})):p.createElement(b,me({},_,{className:l,ref:S}),o))});Rg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Rg.classNames={fullWidth:kg,zeroRight:xg};function Og(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var Ag=function(){var e=0,t=null;return{add:function(n){var r,s;0==e&&(t=Og())&&(s=n,(r=t).styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ig=function(){var e,t=(e=Ag(),function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},Dg={left:0,top:0,right:0,gap:0},Lg=function(e){return parseInt(e||"",10)||0},Mg=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Dg;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[Lg(n),Lg(r),Lg(s)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},$g=Ig(),Fg="data-scroll-locked",Ug=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(Fg,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(xg," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(kg," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(xg," .").concat(xg," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(kg," .").concat(kg," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Fg,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},Bg=function(){var e=parseInt(document.body.getAttribute(Fg)||"0",10);return isFinite(e)?e:0},zg=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=void 0===r?"margin":r;p.useEffect(function(){return document.body.setAttribute(Fg,(Bg()+1).toString()),function(){var e=Bg()-1;e<=0?document.body.removeAttribute(Fg):document.body.setAttribute(Fg,e.toString())}},[]);var i=p.useMemo(function(){return Mg(s)},[s]);return p.createElement($g,{styles:Ug(i,!t,s,n?"":"!important")})},Vg=!1;if("undefined"!=typeof window)try{var qg=Object.defineProperty({},"passive",{get:function(){return Vg=!0,!0}});window.addEventListener("test",qg,qg),window.removeEventListener("test",qg,qg)}catch(Qw){Vg=!1}var Wg=!!Vg&&{passive:!1},Hg=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Kg=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Gg(e,r)){var s=Qg(e,r);if(s[1]>s[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Gg=function(e,t){return"v"===e?function(e){return Hg(e,"overflowY")}(t):function(e){return Hg(e,"overflowX")}(t)},Qg=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Jg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Yg=function(e){return[e.deltaX,e.deltaY]},Xg=function(e){return e&&"current"in e?e.current:e},Zg=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},ey=0,ty=[];function ny(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ry=(sy=function(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(ey++)[0],i=p.useState(Ig)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=Oe([e.lockRef.current],(e.shards||[]).map(Xg),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=p.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!a.current.allowPinchZoom;var s,i=Jg(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-i[0],c="deltaY"in e?e.deltaY:o[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=Kg(d,u);if(!h)return!0;if(h?s=d:(s="v"===d?"h":"v",h=Kg(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=s),!s)return!0;var f=r.current||s;return function(e,t,n,r){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),i=s*r,a=n.target,o=t.contains(a),l=!1,c=i>0,u=0,d=0;do{if(!a)break;var h=Qg(e,a),f=h[0],p=h[1]-h[2]-s*f;(f||p)&&Gg(e,a)&&(u+=p,d+=f);var m=a.parentNode;a=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!o&&a!==document.body||o&&(t.contains(a)||t===a));return(c&&Math.abs(u)<1||!c&&Math.abs(d)<1)&&(l=!0),l}(f,t,e,"h"===f?l:c)},[]),l=p.useCallback(function(e){var n=e;if(ty.length&&ty[ty.length-1]===i){var r="deltaY"in n?Yg(n):Jg(n),s=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,s=r,t[0]===s[0]&&t[1]===s[1]);var t,s})[0];if(s&&s.should)n.cancelable&&n.preventDefault();else if(!s){var l=(a.current.shards||[]).map(Xg).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?o(n,l[0]):!a.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=p.useCallback(function(e,n,r,s){var i={name:e,delta:n,target:r,should:s,shadowParent:ny(r)};t.current.push(i),setTimeout(function(){t.current=t.current.filter(function(e){return e!==i})},1)},[]),u=p.useCallback(function(e){n.current=Jg(e),r.current=void 0},[]),d=p.useCallback(function(t){c(t.type,Yg(t),t.target,o(t,e.lockRef.current))},[]),h=p.useCallback(function(t){c(t.type,Jg(t),t.target,o(t,e.lockRef.current))},[]);p.useEffect(function(){return ty.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Wg),document.addEventListener("touchmove",l,Wg),document.addEventListener("touchstart",u,Wg),function(){ty=ty.filter(function(e){return e!==i}),document.removeEventListener("wheel",l,Wg),document.removeEventListener("touchmove",l,Wg),document.removeEventListener("touchstart",u,Wg)}},[]);var f=e.removeScrollBar,m=e.inert;return p.createElement(p.Fragment,null,m?p.createElement(i,{styles:Zg(s)}):null,f?p.createElement(zg,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},Tg.useMedium(sy),Ng);var sy,iy=p.forwardRef(function(e,t){return p.createElement(Rg,me({},e,{ref:t,sideCar:ry}))});iy.classNames=Rg.classNames;var ay=new WeakMap,oy=new WeakMap,ly={},cy=0,uy=function(e){return e&&(e.host||uy(e.parentNode))},dy=function(e,t,n,r){var s=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=uy(t);return n&&e.contains(n)?n:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);ly[n]||(ly[n]=new WeakMap);var i=ly[n],a=[],o=new Set,l=new Set(s),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};s.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(r),s=null!==t&&"false"!==t,l=(ay.get(e)||0)+1,c=(i.get(e)||0)+1;ay.set(e,l),i.set(e,c),a.push(e),1===l&&s&&oy.set(e,!0),1===c&&e.setAttribute(n,"true"),s||e.setAttribute(r,"true")}catch(d){}})};return u(t),o.clear(),cy++,function(){a.forEach(function(e){var t=ay.get(e)-1,s=i.get(e)-1;ay.set(e,t),i.set(e,s),t||(oy.has(e)||e.removeAttribute(r),oy.delete(e)),s||e.removeAttribute(n)}),--cy||(ay=new WeakMap,ay=new WeakMap,oy=new WeakMap,ly={})}},hy=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),dy(r,s,n,"aria-hidden")):function(){return null}};function fy(e){const t=py(e),n=p.forwardRef((e,n)=>{const{children:r,...s}=e,i=p.Children.toArray(r),a=i.find(gy);if(a){const e=a.props.children,r=i.map(t=>t===a?p.Children.count(e)>1?p.Children.only(null):p.isValidElement(e)?e.props.children:null:t);return f.jsx(t,{...s,ref:n,children:p.isValidElement(e)?p.cloneElement(e,void 0,r):null})}return f.jsx(t,{...s,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function py(e){const t=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...e)=>{const t=i(...e);return s(...e),t}:s&&(n[r]=s):"style"===r?n[r]={...s,...i}:"className"===r&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==p.Fragment&&(s.ref=t?vm(t,e):e),p.cloneElement(n,s)}return p.Children.count(n)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var my=Symbol("radix.slottable");function gy(e){return p.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===my}var yy="Dialog",[vy]=Lm(yy),[by,wy]=vy(yy),xy=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,o=p.useRef(null),l=p.useRef(null),[c,u]=Vm({prop:r,defaultProp:s??!1,onChange:i,caller:yy});return f.jsx(by,{scope:t,triggerRef:o,contentRef:l,contentId:Bm(),titleId:Bm(),descriptionId:Bm(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(e=>!e),[u]),modal:a,children:n})};xy.displayName=yy;var ky="DialogTrigger";p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wy(ky,n),i=bm(t,s.triggerRef);return f.jsx(Jm.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zy(s.open),...r,ref:i,onClick:Dm(e.onClick,s.onOpenToggle)})}).displayName=ky;var Sy="DialogPortal",[_y,jy]=vy(Sy,{forceMount:void 0}),Ey=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=wy(Sy,t);return f.jsx(_y,{scope:t,forceMount:n,children:p.Children.map(r,e=>f.jsx(yg,{present:n||i.open,children:f.jsx(gg,{asChild:!0,container:s,children:e})}))})};Ey.displayName=Sy;var Cy="DialogOverlay",Ny=p.forwardRef((e,t)=>{const n=jy(Cy,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=wy(Cy,e.__scopeDialog);return i.modal?f.jsx(yg,{present:r||i.open,children:f.jsx(Py,{...s,ref:t})}):null});Ny.displayName=Cy;var Ty=fy("DialogOverlay.RemoveScroll"),Py=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wy(Cy,n);return f.jsx(iy,{as:Ty,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(Jm.div,{"data-state":zy(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ry="DialogContent",Oy=p.forwardRef((e,t)=>{const n=jy(Ry,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=wy(Ry,e.__scopeDialog);return f.jsx(yg,{present:r||i.open,children:i.modal?f.jsx(Ay,{...s,ref:t}):f.jsx(Iy,{...s,ref:t})})});Oy.displayName=Ry;var Ay=p.forwardRef((e,t)=>{const n=wy(Ry,e.__scopeDialog),r=p.useRef(null),s=bm(t,n.contentRef,r);return p.useEffect(()=>{const e=r.current;if(e)return hy(e)},[]),f.jsx(Dy,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Dm(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Dm(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:Dm(e.onFocusOutside,e=>e.preventDefault())})}),Iy=p.forwardRef((e,t)=>{const n=wy(Ry,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return f.jsx(Dy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));const i=t.target,a=n.triggerRef.current?.contains(i);a&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),Dy=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,o=wy(Ry,n),l=p.useRef(null),c=bm(t,l);return p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wg()),document.body.insertAdjacentElement("beforeend",e[1]??wg()),bg++,()=>{1===bg&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bg--}},[]),f.jsxs(f.Fragment,{children:[f.jsx(cg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(rg,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":zy(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Hy,{titleId:o.titleId}),f.jsx(Ky,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Ly="DialogTitle",My=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wy(Ly,n);return f.jsx(Jm.h2,{id:s.titleId,...r,ref:t})});My.displayName=Ly;var $y="DialogDescription",Fy=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wy($y,n);return f.jsx(Jm.p,{id:s.descriptionId,...r,ref:t})});Fy.displayName=$y;var Uy="DialogClose",By=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wy(Uy,n);return f.jsx(Jm.button,{type:"button",...r,ref:t,onClick:Dm(e.onClick,()=>s.onOpenChange(!1))})});function zy(e){return e?"open":"closed"}By.displayName=Uy;var Vy="DialogTitleWarning",[qy,Wy]=function(e,t){const n=p.createContext(t),r=e=>{const{children:t,...r}=e,s=p.useMemo(()=>r,Object.values(r));return f.jsx(n.Provider,{value:s,children:t})};return r.displayName=e+"Provider",[r,function(r){const s=p.useContext(n);if(s)return s;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(Vy,{contentName:Ry,titleName:Ly,docsSlug:"dialog"}),Hy=({titleId:e})=>{const t=Wy(Vy),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{if(e){document.getElementById(e)}},[n,e]),null},Ky=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Wy("DialogDescriptionWarning").contentName}}.`;return p.useEffect(()=>{const n=e.current?.getAttribute("aria-describedby");if(t&&n){document.getElementById(t)}},[n,e,t]),null},Gy=xy,Qy=Ey,Jy=Ny,Yy=Oy,Xy=My,Zy=Fy,ev=By;const tv=(...e)=>e.filter((e,t,n)=>Boolean(e)&&n.indexOf(e)===t).join(" ");var nv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rv=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},l)=>p.createElement("svg",{ref:l,...nv,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:tv("lucide",s),...o},[...a.map(([e,t])=>p.createElement(e,t)),...Array.isArray(i)?i:[i]])),sv=(e,t)=>{const n=p.forwardRef(({className:n,...r},s)=>{return p.createElement(rv,{ref:s,iconNode:t,className:tv(`lucide-${i=e,i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...r});var i});return n.displayName=`${e}`,n},iv=sv("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),av=sv("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]),ov=sv("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),lv=sv("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),cv=sv("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),uv=sv("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),dv=sv("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),hv=sv("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),fv=sv("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),pv=sv("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),mv=sv("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),gv=sv("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),yv=sv("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),vv=sv("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),bv=sv("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),wv=sv("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),xv=sv("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),kv=sv("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Sv=sv("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),_v=sv("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),jv=sv("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ev=sv("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Cv=sv("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nv=sv("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Tv=Gy,Pv=Qy,Rv=p.forwardRef(({className:e,...t},n)=>f.jsx(Jy,{ref:n,className:hm("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Rv.displayName=Jy.displayName;const Ov=p.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(Pv,{children:[f.jsx(Rv,{}),f.jsxs(Yy,{ref:r,className:hm("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,f.jsxs(ev,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(Cv,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ov.displayName=Yy.displayName;const Av=({className:e,...t})=>f.jsx("div",{className:hm("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Av.displayName="DialogHeader";const Iv=p.forwardRef(({className:e,...t},n)=>f.jsx(Xy,{ref:n,className:hm("text-lg font-semibold leading-none tracking-tight",e),...t}));Iv.displayName=Xy.displayName;p.forwardRef(({className:e,...t},n)=>f.jsx(Zy,{ref:n,className:hm("text-sm text-muted-foreground",e),...t})).displayName=Zy.displayName;let Dv=0;const Lv=new Map,Mv=e=>{if(Lv.has(e))return;const t=setTimeout(()=>{Lv.delete(e),Bv({type:"REMOVE_TOAST",toastId:e})},1e6);Lv.set(e,t)},$v=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Mv(n):e.toasts.forEach(e=>{Mv(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},Fv=[];let Uv={toasts:[]};function Bv(e){Uv=$v(Uv,e),Fv.forEach(e=>{e(Uv)})}function zv({...e}){const t=(Dv=(Dv+1)%Number.MAX_SAFE_INTEGER,Dv.toString()),n=()=>Bv({type:"DISMISS_TOAST",toastId:t});return Bv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>Bv({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function Vv(){const[e,t]=p.useState(Uv);return p.useEffect(()=>(Fv.push(t),()=>{const e=Fv.indexOf(t);e>-1&&Fv.splice(e,1)}),[e]),{...e,toast:zv,dismiss:e=>Bv({type:"DISMISS_TOAST",toastId:e})}}function qv(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}const Wv=({size:e="md",className:t="",glowing:n=!1,animated:r=!1,effectType:s})=>{const i=n?"shadow-lg shadow-primary/50":"";return f.jsxs("div",{className:`airbear-wheel ${{sm:"w-6 h-6",md:"w-10 h-10",lg:"w-14 h-14",xl:"w-20 h-20"}[e]} ${i} ${t} relative`,children:[f.jsxs("div",{className:`w-full h-full rounded-full bg-gradient-to-br from-primary/80 to-primary/40 border-2 border-primary/60 flex items-center justify-center ${r?"animate-spin":""} opacity-80`,children:[Array.from({length:8},(e,t)=>f.jsx("div",{className:"absolute w-0.5 h-full bg-primary/70",style:{transform:`rotate(${45*t}deg)`,transformOrigin:"center"}},t)),f.jsxs("div",{className:"w-2/3 h-2/3 rounded-full bg-gradient-to-br from-amber-200 to-amber-400 border border-primary/50 flex items-center justify-center relative",children:[f.jsx("span",{className:"text-xs font-bold text-primary",children:""}),f.jsx("div",{className:"absolute inset-1 rounded-full border border-primary/30 animate-pulse opacity-60"})]}),f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-transparent via-primary/10 to-transparent opacity-50"})]}),n&&f.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/20 blur-sm animate-pulse"})]})};function Hv({size:e="md",text:t="Loading...",className:n}){const r=hm("flex flex-col items-center justify-center space-y-4",n),s="sm"===e?"md":"md"===e?"lg":"xl";return f.jsxs(uf.div,{className:r,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},"data-testid":"loading-spinner",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Wv,{size:s,glowing:!0,className:"animate-wheel-spin"}),f.jsx(uf.div,{className:"absolute inset-0",animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},children:f.jsx(Wv,{size:e,className:"opacity-50 border-emerald-400"})})]}),f.jsxs(uf.div,{className:"text-center",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:[f.jsx("p",{className:"text-muted-foreground font-medium",children:t}),f.jsx("div",{className:"flex justify-center space-x-1 mt-2",children:[0,1,2].map(e=>f.jsx(uf.div,{className:"w-2 h-2 bg-primary rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:.8,repeat:1/0,delay:.2*e}},e))})]})]})}const Kv=({center:e=[42.0987,-75.9179],zoom:t=13,className:n="",style:r={},onMapReady:s})=>{const i=p.useRef(null),a=p.useRef(null),[o,l]=p.useState(!0),[c,u]=p.useState(null);return p.useEffect(()=>{if(!i.current||a.current)return;const n=()=>{try{if(!window.L)throw new Error("Leaflet not loaded");const n=i.current;0!==n.offsetWidth&&0!==n.offsetHeight||(n.style.height="500px",n.style.width="100%");const r=window.L.map(n,{center:e,zoom:t,zoomControl:!1,preferCanvas:!0,tap:!1,renderer:window.L.canvas()});window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19,detectRetina:!0,errorTileUrl:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}).addTo(r).on("tileerror",e=>{}),setTimeout(()=>{r.invalidateSize()},0),window.L.control.zoom({position:"topright"}).addTo(r),a.current=r,l(!1),s?.(r),setTimeout(()=>{r.invalidateSize()},100)}catch(Qw){u("Failed to load map. Please try again."),l(!1)}};if(window.L)n();else{const e=document.querySelector('script[src*="leaflet"]');if(e)e.onload=n;else{const e=document.createElement("script");e.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",e.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",e.crossOrigin="",e.onload=()=>{if(!document.querySelector('link[href*="leaflet"]')){const e=document.createElement("link");e.rel="stylesheet",e.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",e.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tF/mi8yo/Y4CFMoCqeCk=",e.crossOrigin="",document.head.appendChild(e)}n()},e.onerror=()=>{u("Failed to load map resources."),l(!1)},document.head.appendChild(e)}}let r;const o=()=>{r&&clearTimeout(r),r=setTimeout(()=>{if(a.current)try{a.current.invalidateSize()}catch(e){}},100)};let c=null;return i.current&&(c=new ResizeObserver(o),c.observe(i.current)),window.addEventListener("resize",o),()=>{if(window.removeEventListener("resize",o),c&&i.current&&(c.unobserve(i.current),c.disconnect()),a.current)try{a.current.off(),a.current.remove()}catch(e){}finally{a.current=null}}},[e,t,s]),f.jsxs("div",{className:`relative w-full h-full ${n}`,style:{...r,position:"relative"},children:[f.jsx("div",{ref:i,className:"w-full h-full bg-gray-100 dark:bg-gray-900 rounded-lg",style:{width:"100%",height:"100%",minHeight:"500px",position:"relative",zIndex:1},"data-testid":"map-container"}),o&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-gray-900/80 rounded-lg z-10",style:{zIndex:2},children:f.jsxs("div",{className:"text-center p-4 bg-white/90 dark:bg-gray-800/90 rounded-lg shadow-lg",children:[f.jsx(Hv,{className:"w-12 h-12 mx-auto mb-4 text-primary"}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Loading map..."})]})}),c&&!o&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-red-500 dark:text-red-400 text-2xl mb-2",children:f.jsx("i",{className:"fas fa-map-marked-alt"})}),f.jsx("p",{className:"text-red-700 dark:text-red-300 font-medium",children:c}),f.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/50 dark:hover:bg-red-900 text-red-700 dark:text-red-200 rounded-md text-sm font-medium transition-colors",children:"Retry"})]})})]})},Gv=[{id:"court-street-downtown",name:"Court Street Downtown",latitude:42.099118,longitude:-75.917538,description:"Heart of downtown Binghamton with shopping and dining",amenities:["Restaurants","Shopping","Banks","Government Buildings"],isActive:!0},{id:"riverwalk-bu-center",name:"Riverwalk BU Center",latitude:42.098765,longitude:-75.916543,description:"Beautiful riverside walkway and community center",amenities:["River Views","Walking Trails","Community Center","Parks"],isActive:!0},{id:"confluence-park",name:"Confluence Park",latitude:42.090123,longitude:-75.912345,description:"Scenic park at the confluence of rivers",amenities:["Park","River Access","Picnic Areas","Nature Trails"],isActive:!0},{id:"southside-walking-bridge",name:"Southside Walking Bridge",latitude:42.091409,longitude:-75.914568,description:"Pedestrian bridge connecting communities",amenities:["Bridge Access","River Views","Walking Path"],isActive:!0},{id:"general-hospital",name:"General Hospital",latitude:42.086741,longitude:-75.915711,description:"Major healthcare facility",amenities:["Hospital","Medical Services","Emergency Care"],isActive:!0},{id:"mcarthur-park",name:"McArthur Park",latitude:42.086165,longitude:-75.926153,description:"Community park with recreational facilities",amenities:["Playground","Sports Fields","Picnic Areas","Walking Trails"],isActive:!0},{id:"greenway-path",name:"Greenway Path",latitude:42.086678,longitude:-75.932483,description:"Scenic greenway for walking and cycling",amenities:["Bike Path","Walking Trail","Nature Views","Exercise Stations"],isActive:!0},{id:"vestal-center",name:"Vestal Center",latitude:42.091851,longitude:-75.951729,description:"Commercial and community hub in Vestal",amenities:["Shopping","Restaurants","Services","Parking"],isActive:!0},{id:"innovation-park",name:"Innovation Park",latitude:42.093877,longitude:-75.958331,description:"Technology and business innovation center",amenities:["Business Center","Technology Hub","Conference Facilities"],isActive:!0},{id:"bu-east-gym",name:"BU East Gym",latitude:42.091695,longitude:-75.96359,description:"Binghamton University East Campus Recreation Center",amenities:["Gym","Fitness Center","Sports Facilities","Student Services"],isActive:!0},{id:"bu-fine-arts-building",name:"BU Fine Arts Building",latitude:42.089282,longitude:-75.967441,description:"Arts and culture center at Binghamton University",amenities:["Art Galleries","Performance Spaces","Studios","Cultural Events"],isActive:!0},{id:"whitney-hall",name:"Whitney Hall",latitude:42.088456,longitude:-75.965432,description:"Academic building at Binghamton University",amenities:["Classrooms","Lecture Halls","Study Spaces","Academic Services"],isActive:!0},{id:"student-union",name:"Student Union",latitude:42.086903,longitude:-75.966704,description:"Central hub of student life at Binghamton University",amenities:["Food Court","Student Services","Meeting Rooms","Study Spaces"],isActive:!0},{id:"appalachian-dining",name:"Appalachian Dining",latitude:42.084523,longitude:-75.971264,description:"Dining hall serving the Appalachian community",amenities:["Dining Hall","Food Services","Residential Area"],isActive:!0},{id:"hinman-dining-hall",name:"Hinman Dining Hall",latitude:42.086314,longitude:-75.973292,description:"Main dining facility in Hinman community",amenities:["Dining Hall","Food Services","Student Housing Area"],isActive:!0},{id:"bu-science-building",name:"BU Science Building",latitude:42.090227,longitude:-75.972315,description:"Science and research facilities at Binghamton University",amenities:["Laboratories","Research Facilities","Classrooms","Science Library"],isActive:!0}],Qv=e=>Gv.find(t=>t.id===e),Jv=(e,t)=>{const n=Qv(e),r=Qv(t);if(!n||!r)return null;const s=e=>e*(Math.PI/180),i=s(r.latitude-n.latitude),a=s(r.longitude-n.longitude),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(s(n.latitude))*Math.cos(s(r.latitude))*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))};async function Yv(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Xv(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await Yv(r),r}function Zv(){const{user:e}=si(),{toast:t}=Vv(),n=dp(),r=p.useRef(null),[s,i]=p.useState(!1),[a,o]=p.useState(0),[l,c]=p.useState(null),[u,d]=p.useState(null),[h,m]=p.useState(!1),{data:g,isLoading:y}=gp({queryKey:["/api/spots"],initialData:Gv}),{data:v,isLoading:b}=gp({queryKey:["/api/rickshaws/available"]}),w=v?.filter(e=>e.isAvailable).length||0,x=g?.length||0,k=v?.filter(e=>e.isCharging).length||0,{isSubscribed:S,preferences:_}=(()=>{const{toast:e}=Vv(),[t,n]=p.useState({isSupported:"serviceWorker"in navigator&&"PushManager"in window,isSubscribed:!1,isLoading:!0,permission:"default",subscription:null}),[r,s]=p.useState({driverAvailability:!0,rideUpdates:!0,promotions:!1,maintenanceAlerts:!1});p.useEffect(()=>{t.isSupported?(async()=>{try{const e=await navigator.serviceWorker.ready,t=await e.pushManager.getSubscription();n(e=>({...e,isSubscribed:!!t,subscription:t,permission:Notification.permission,isLoading:!1}))}catch(e){n(e=>({...e,isLoading:!1}))}})():n(e=>({...e,isLoading:!1}))},[t.isSupported]);const i=p.useCallback(async()=>{if(!t.isSupported)return e({title:"Push Notifications Not Supported",description:"Your browser does not support push notifications.",variant:"destructive"}),!1;try{const t=await Notification.requestPermission();return"granted"===t?(n(e=>({...e,permission:t})),e({title:"Notifications Enabled",description:"You will receive alerts when drivers become available."}),!0):(e({title:"Notifications Denied",description:"Please enable notifications to receive driver availability alerts.",variant:"destructive"}),!1)}catch(r){return e({title:"Permission Error",description:"Unable to request notification permission.",variant:"destructive"}),!1}},[t.isSupported,e]),a=p.useCallback(async()=>{if(!t.isSupported)return e({title:"Not Supported",description:"Push notifications are not supported in this browser.",variant:"destructive"}),!1;if("granted"!==t.permission&&!(await i()))return!1;try{n(e=>({...e,isLoading:!0}));const t=await navigator.serviceWorker.ready,s="BNQxGxE1C8fGpQ4Z9Y0K9F8G7H6I5J4K3L2M1N0O9P8Q7R6S5T4U3V2W1X0Y9Z8",i=await t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qv(s)});return await fetch("/api/push-subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:i.toJSON(),preferences:r})}),n(e=>({...e,isSubscribed:!0,subscription:i,isLoading:!1})),e({title:"Notifications Enabled",description:"You will receive alerts when drivers become available."}),!0}catch(s){return n(e=>({...e,isLoading:!1})),e({title:"Subscription Failed",description:"Unable to subscribe to push notifications.",variant:"destructive"}),!1}},[t.isSupported,t.permission,i,r,e]),o=p.useCallback(async()=>{if(!t.subscription)return!0;try{if(n(e=>({...e,isLoading:!0})),await t.subscription.unsubscribe())return await fetch("/api/push-subscriptions",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:t.subscription.endpoint})}),n(e=>({...e,isSubscribed:!1,subscription:null,isLoading:!1})),e({title:"Notifications Disabled",description:"You will no longer receive driver availability alerts."}),!0;throw new Error("Unsubscribe failed")}catch(r){return n(e=>({...e,isLoading:!1})),e({title:"Unsubscribe Failed",description:"Unable to unsubscribe from push notifications.",variant:"destructive"}),!1}},[t.subscription,e]),l=p.useCallback(async n=>{try{const i={...r,...n};return s(i),t.subscription&&await fetch("/api/push-subscriptions",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:t.subscription.endpoint,preferences:i})}),e({title:"Preferences Updated",description:"Your notification preferences have been saved."}),!0}catch(i){return e({title:"Update Failed",description:"Unable to update notification preferences.",variant:"destructive"}),!1}},[r,t.subscription,e]),c=p.useCallback(async()=>{if(t.isSubscribed)try{await fetch("/api/notifications/test",{method:"POST",headers:{"Content-Type":"application/json"}}),e({title:"Test Notification Sent",description:"Check your notifications!"})}catch(n){e({title:"Test Failed",description:"Unable to send test notification.",variant:"destructive"})}else e({title:"Not Subscribed",description:"Please subscribe to push notifications first.",variant:"destructive"})},[t.isSubscribed,e]);return{...t,preferences:r,requestPermission:i,subscribe:a,unsubscribe:o,updatePreferences:l,testNotification:c}})();p.useEffect(()=>{if(!e||!S||!_.driverAvailability)return;let t=w;const n=setInterval(()=>{w>t&&w>0&&fetch("/api/notifications/driver-available",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,location:"nearby",availableDrivers:w})}).catch(e=>{}),t=w},3e4);return()=>clearInterval(n)},[e,S,_.driverAvailability,w]);const j=yp({mutationFn:async e=>(await Xv("POST","/api/rides",e)).json(),onSuccess:e=>{(v?.filter(e=>e.currentSpotId===l?.id&&e.isAvailable)||[])[0];const r=l?.name,s=u?.name;t({title:" Ride Booked Successfully!",description:`AirBear from ${r}  ${s}. Driver arriving in ~2 minutes.`}),m(!1),n.invalidateQueries({queryKey:["/api/rides"]})},onError:e=>{t({title:"Booking Failed",description:e.message||"Unable to book ride. Please try again.",variant:"destructive"})}}),E=p.useCallback(e=>{try{r.current=e,i(!0)}catch(t){}},[]);return y||b?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(Hv,{size:"lg",text:"Loading map..."})}):f.jsx("div",{className:"min-h-screen py-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(uf.div,{className:"text-center mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[f.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-foreground mb-4",children:["Find Your ",f.jsx("span",{className:"text-primary",children:"Perfect Ride"})]}),f.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Discover all 16 AirBear spots across Binghamton with real-time availability"})]}),f.jsx(uf.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[{label:"Active Spots",value:x,description:"Strategic Binghamton coverage"},{label:"Available AirBears",value:w,description:"Ready for pickup"},{label:"Charging AirBears",value:k,description:"Solar power in the bank"},{label:"Instant ETA",value:"4m",description:"Average wait time"}].map(e=>f.jsxs("div",{className:"rounded-2xl border border-white/10 bg-muted/30 p-4 text-left shadow-xl shadow-cyan-500/10",children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-cyan-300",children:e.label}),f.jsx("p",{className:"text-2xl font-bold text-white mt-2",children:e.value}),f.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.label))}),f.jsx(uf.div,{className:"mb-6 p-4 bg-gradient-to-r from-emerald-50 to-lime-50 rounded-lg border border-emerald-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Wv,{size:"sm",className:"text-primary"}),f.jsx("span",{className:"font-semibold text-emerald-700",children:"Ready to Book?"})]}),f.jsxs("div",{className:"hidden sm:flex items-center space-x-4 text-sm text-emerald-600",children:[f.jsx("span",{children:" Click any green marker to book a ride"}),f.jsx("span",{children:" Real-time availability updates"}),f.jsx("span",{children:" Carbon-neutral transportation"})]})]})}),f.jsxs(uf.div,{className:"bg-card rounded-2xl p-6 shadow-2xl glass-morphism mb-8 relative overflow-hidden",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[f.jsxs("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:[f.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-primary/5 rounded-full blur-3xl animate-pulse"}),f.jsx("div",{className:"absolute bottom-4 right-4 w-24 h-24 bg-emerald-500/5 rounded-full blur-2xl animate-pulse",style:{animationDelay:"1s"}}),f.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-amber-500/5 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),f.jsx("div",{className:"aspect-video rounded-xl overflow-hidden relative shadow-inner",children:f.jsxs("div",{className:"relative h-[500px] w-full rounded-xl overflow-hidden shadow-xl",children:[f.jsx(Kv,{center:[42.0987,-75.9179],zoom:13,className:"rounded-xl border border-gray-200 dark:border-gray-700",onMapReady:E},a),f.jsxs("div",{className:"absolute top-4 right-4 z-[1000] flex flex-col space-y-2",children:[f.jsx(Om,{variant:"outline",size:"icon",className:"bg-white/90 backdrop-blur-sm shadow-lg hover:bg-white dark:bg-gray-800/90 dark:hover:bg-gray-700",onClick:()=>{r.current&&r.current.zoomIn()},title:"Zoom in",children:f.jsx(gv,{className:"h-4 w-4"})}),f.jsx(Om,{variant:"outline",size:"icon",className:"bg-white/90 backdrop-blur-sm shadow-lg hover:bg-white dark:bg-gray-800/90 dark:hover:bg-gray-700",onClick:()=>{r.current&&r.current.zoomOut()},title:"Zoom out",children:f.jsx(mv,{className:"h-4 w-4"})}),f.jsx(Om,{variant:"outline",size:"icon",className:"bg-white/90 backdrop-blur-sm shadow-lg hover:bg-white dark:bg-gray-800/90 dark:hover:bg-gray-700",onClick:()=>o(e=>e+1),title:"Refresh map",children:f.jsx(yv,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"absolute bottom-4 left-4 z-[1000] flex flex-col space-y-2",children:[f.jsx("div",{className:"flex items-center space-x-3 bg-card/80 backdrop-blur-sm rounded-lg px-4 py-2 border border-border",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Wv,{size:"sm",className:"text-primary"}),f.jsx("span",{className:"font-medium text-sm",children:"Available AirBear"})]})}),f.jsx("div",{className:"flex items-center space-x-3 bg-card/80 backdrop-blur-sm rounded-lg px-4 py-2 border border-border",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Sv,{className:"h-4 w-4 text-amber-500"}),f.jsx("span",{className:"font-medium text-sm",children:"Bodega Available"})]})}),f.jsx("div",{className:"flex items-center space-x-3 bg-card/80 backdrop-blur-sm rounded-lg px-4 py-2 border border-border",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Nv,{className:"h-4 w-4 text-lime-500"}),f.jsx("span",{className:"font-medium text-sm",children:"Solar Charging"})]})})]})]})})]}),f.jsx(uf.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:g?.map((e,t)=>{const n=v?.filter(t=>t.currentSpotId===e.id)||[],r=n.length>0?Math.round(n.reduce((e,t)=>e+t.batteryLevel,0)/n.length):0;return f.jsx(uf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:f.jsxs(fm,{className:"hover-lift glass-morphism cursor-pointer group",onClick:()=>{c(e),n.length>0&&m(!0)},"data-testid":`card-spot-${e.name.toLowerCase().replace(/\s+/g,"-")}`,children:[f.jsx(pm,{className:"pb-3",children:f.jsxs(mm,{className:"text-lg flex items-center justify-between",children:[f.jsx("span",{className:"truncate",children:e.name}),f.jsx(Wv,{size:"sm",animated:n.length>0,className:n.length>0?"text-primary":"text-muted-foreground"})]})}),f.jsxs(gm,{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Available"}),f.jsxs(Im,{variant:n.length>0?"default":"secondary",className:n.length>0?"bg-green-500":"",children:[n.length," AirBear",1!==n.length?"s":""]})]}),n.length>0&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Battery"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(av,{className:"h-4 w-4 text-green-500"}),f.jsxs("span",{className:"text-sm font-medium",children:[r,"%"]})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Wait Time"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(uv,{className:"h-4 w-4 text-amber-500"}),f.jsx("span",{className:"text-sm font-medium",children:"~2 min"})]})]})]}),f.jsx(Om,{size:"sm",className:"w-full eco-gradient text-white",disabled:0===n.length,"data-testid":`button-book-from-${e.name.toLowerCase().replace(/\s+/g,"-")}`,children:n.length>0?"Book Ride":"No AirBears"})]})]})},e.id)})}),f.jsx(Tv,{open:h,onOpenChange:m,children:f.jsxs(Ov,{className:"glass-morphism max-w-md","data-testid":"dialog-book-ride",children:[f.jsx(Av,{children:f.jsxs(Iv,{className:"flex items-center",children:[f.jsx(Wv,{size:"sm",className:"mr-2"}),"Book Your Ride"]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Pickup Location"}),f.jsx("div",{className:"p-3 bg-muted/20 rounded-lg",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(pv,{className:"h-4 w-4 text-primary mr-2"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:l?.name}),f.jsx("div",{className:"text-xs text-muted-foreground",children:(()=>{const e=v?.filter(e=>e.currentSpotId===l?.id&&e.isAvailable)||[];return`${e.length} AirBear${1!==e.length?"s":""} available here`})()})]})]}),f.jsx("div",{className:"text-right",children:f.jsxs("div",{className:"text-xs text-muted-foreground",children:["Spot #",g?.findIndex(e=>e.id===l?.id)+1]})})]})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Destination"}),f.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:g?.filter(e=>e.id!==l?.id).map(e=>{const t=v?.filter(t=>t.currentSpotId===e.id&&t.isAvailable)||[];return f.jsx("div",{className:"p-3 rounded-lg cursor-pointer transition-colors "+(u?.id===e.id?"bg-primary/20 border border-primary":"bg-muted/10 hover:bg-muted/20"),onClick:()=>d(e),"data-testid":`option-destination-${e.name.toLowerCase().replace(/\s+/g,"-")}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(pv,{className:"h-4 w-4 text-muted-foreground mr-2"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-sm",children:e.name}),f.jsx("div",{className:"text-xs text-muted-foreground",children:t.length>0?`${t.length} AirBear${1!==t.length?"s":""} available`:"No AirBears currently available"})]})]}),f.jsx("div",{className:"text-right",children:f.jsxs("div",{className:"text-xs text-muted-foreground",children:["Spot #",g?.findIndex(t=>t.id===e.id)+1]})})]})},e.id)})})]}),u&&f.jsx("div",{className:"p-4 bg-muted/10 rounded-lg space-y-2",children:(()=>{const e=l?Jv(l.id,u.id):null,t=e?(e=>Math.round(e/15*60))(e):0,n=e?4:0;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{children:"Distance"}),f.jsx("span",{children:e?`${e.toFixed(1)} km`:"N/A"})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{children:"Est. Time"}),f.jsx("span",{children:t?`${t} min`:"N/A"})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{children:"Fare"}),f.jsxs("span",{children:["$",n.toFixed(2)]})]}),f.jsxs("div",{className:"border-t pt-2 flex justify-between font-medium",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["$",n.toFixed(2)]})]})]})})()}),f.jsx(Om,{onClick:()=>{if(!l||!u)return void t({title:"Missing Information",description:"Please select both pickup and destination locations.",variant:"destructive"});const n={userId:e?.id||`guest_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,pickupSpotId:l.id,destinationSpotId:u.id,fare:(Jv(l.id,u.id),4)};j.mutate(n)},disabled:!u||j.isPending,className:"w-full eco-gradient text-white hover-lift","data-testid":"button-confirm-booking",children:j.isPending?f.jsxs("div",{className:"flex items-center",children:[f.jsx(Wv,{size:"sm",className:"mr-2"}),"Booking..."]}):"Confirm Booking"})]})]})})]})})}new class{#K;#F;#h;#G;#Q;#J;#Y;#X;constructor(e={}){this.#K=e.queryCache||new cp,this.#F=e.mutationCache||new ap,this.#h=e.defaultOptions||{},this.#G=new Map,this.#Q=new Map,this.#J=0}mount(){this.#J++,1===this.#J&&(this.#Y=Mf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#K.onFocus())}),this.#X=Bf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#K.onOnline())}))}unmount(){this.#J--,0===this.#J&&(this.#Y?.(),this.#Y=void 0,this.#X?.(),this.#X=void 0)}isFetching(e){return this.#K.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#F.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#K.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#K.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(vf(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#K.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#K.get(r.queryHash),i=s?.state.data,a=function(e,t){return"function"==typeof e?e(t):e}(t,i);if(void 0!==a)return this.#K.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Uf.batch(()=>this.#K.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#K.get(t.queryHash)?.state}removeQueries(e){const t=this.#K;Uf.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=this.#K;return Uf.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Uf.batch(()=>this.#K.findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(mf).catch(mf)}invalidateQueries(e,t={}){return Uf.batch(()=>(this.#K.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Uf.batch(()=>this.#K.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(mf)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(mf)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#K.build(this,t);return n.isStaleByTime(vf(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mf).catch(mf)}fetchInfiniteQuery(e){return e.behavior=np(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mf).catch(mf)}ensureInfiniteQueryData(e){return e.behavior=np(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Bf.isOnline()?this.#F.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#K}getMutationCache(){return this.#F}getDefaultOptions(){return this.#h}setDefaultOptions(e){this.#h=e}setQueryDefaults(e,t){this.#G.set(Sf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#G.values()],n={};return t.forEach(t=>{_f(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){this.#Q.set(Sf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#Q.values()],n={};return t.forEach(t=>{_f(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#h.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kf(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===If&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#h.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#K.clear(),this.#F.clear()}}({defaultOptions:{queries:{queryFn:(({on401:e})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return await Yv(t),await t.json()})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});const eb=p.forwardRef(({className:e,type:t,...n},r)=>f.jsx("input",{type:t,className:hm("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));function tb(e){const t=nb(e),n=p.forwardRef((e,n)=>{const{children:r,...s}=e,i=p.Children.toArray(r),a=i.find(sb);if(a){const e=a.props.children,r=i.map(t=>t===a?p.Children.count(e)>1?p.Children.only(null):p.isValidElement(e)?e.props.children:null:t);return f.jsx(t,{...s,ref:n,children:p.isValidElement(e)?p.cloneElement(e,void 0,r):null})}return f.jsx(t,{...s,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function nb(e){const t=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...e)=>{const t=i(...e);return s(...e),t}:s&&(n[r]=s):"style"===r?n[r]={...s,...i}:"className"===r&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==p.Fragment&&(s.ref=t?vm(t,e):e),p.cloneElement(n,s)}return p.Children.count(n)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}eb.displayName="Input";var rb=Symbol("radix.slottable");function sb(e){return p.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===rb}var ib=p.createContext(void 0);function ab(e){const t=p.useContext(ib);return e||t||"ltr"}var ob="rovingFocusGroup.onEntryFocus",lb={bubbles:!1,cancelable:!0},cb="RovingFocusGroup",[ub,db,hb]=function(e){const t=e+"CollectionProvider",[n,r]=Lm(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=e=>{const{scope:t,children:n}=e,r=m.useRef(null),i=m.useRef(new Map).current;return f.jsx(s,{scope:t,itemMap:i,collectionRef:r,children:n})};a.displayName=t;const o=e+"CollectionSlot",l=tb(o),c=m.forwardRef((e,t)=>{const{scope:n,children:r}=e,s=bm(t,i(o,n).collectionRef);return f.jsx(l,{ref:s,children:r})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=tb(u),p=m.forwardRef((e,t)=>{const{scope:n,children:r,...s}=e,a=m.useRef(null),o=bm(t,a),l=i(u,n);return m.useEffect(()=>(l.itemMap.set(a,{ref:a,...s}),()=>{l.itemMap.delete(a)})),f.jsx(h,{[d]:"",ref:o,children:r})});return p.displayName=u,[{Provider:a,Slot:c,ItemSlot:p},function(t){const n=i(e+"CollectionConsumer",t);return m.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}(cb),[fb,pb]=Lm(cb,[hb]),[mb,gb]=fb(cb),yb=p.forwardRef((e,t)=>f.jsx(ub.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(ub.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(vb,{...e,ref:t})})}));yb.displayName=cb;var vb=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,h=p.useRef(null),m=bm(t,h),g=ab(i),[y,v]=Vm({prop:a,defaultProp:o??null,onChange:l,caller:cb}),[b,w]=p.useState(!1),x=Ym(c),k=db(n),S=p.useRef(!1),[_,j]=p.useState(0);return p.useEffect(()=>{const e=h.current;if(e)return e.addEventListener(ob,x),()=>e.removeEventListener(ob,x)},[x]),f.jsx(mb,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:y,onItemFocus:p.useCallback(e=>v(e),[v]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>j(e=>e+1),[]),onFocusableItemRemove:p.useCallback(()=>j(e=>e-1),[]),children:f.jsx(Jm.div,{tabIndex:b||0===_?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:Dm(e.onMouseDown,()=>{S.current=!0}),onFocus:Dm(e.onFocus,e=>{const t=!S.current;if(e.target===e.currentTarget&&t&&!b){const t=new CustomEvent(ob,lb);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=k().filter(e=>e.focusable);kb([e.find(e=>e.active),e.find(e=>e.id===y),...e].filter(Boolean).map(e=>e.ref.current),u)}}S.current=!1}),onBlur:Dm(e.onBlur,()=>w(!1))})})}),bb="RovingFocusGroupItem",wb=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...o}=e,l=Bm(),c=i||l,u=gb(bb,n),d=u.currentTabStopId===c,h=db(n),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:y}=u;return p.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),f.jsx(ub.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:f.jsx(Jm.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Dm(e.onMouseDown,e=>{r?u.onItemFocus(c):e.preventDefault()}),onFocus:Dm(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Dm(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:xb[r]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();const i=s.indexOf(e.currentTarget);s=u.loop?(r=i+1,(n=s).map((e,t)=>n[(r+t)%n.length])):s.slice(i+1)}setTimeout(()=>kb(s))}var n,r}),children:"function"==typeof a?a({isCurrentTabStop:d,hasTabStop:null!=y}):a})})});wb.displayName=bb;var xb={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kb(e,t=!1){const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var Sb=yb,_b=wb,jb="Tabs",[Eb]=Lm(jb,[pb]),Cb=pb(),[Nb,Tb]=Eb(jb),Pb=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=e,u=ab(o),[d,h]=Vm({prop:r,onChange:s,defaultProp:i??"",caller:jb});return f.jsx(Nb,{scope:n,baseId:Bm(),value:d,onValueChange:h,orientation:a,dir:u,activationMode:l,children:f.jsx(Jm.div,{dir:u,"data-orientation":a,...c,ref:t})})});Pb.displayName=jb;var Rb="TabsList",Ob=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Tb(Rb,n),a=Cb(n);return f.jsx(Sb,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(Jm.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Ob.displayName=Rb;var Ab="TabsTrigger",Ib=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=Tb(Ab,n),o=Cb(n),l=Mb(a.baseId,r),c=$b(a.baseId,r),u=r===a.value;return f.jsx(_b,{asChild:!0,...o,focusable:!s,active:u,children:f.jsx(Jm.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:Dm(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():a.onValueChange(r)}),onKeyDown:Dm(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&a.onValueChange(r)}),onFocus:Dm(e.onFocus,()=>{const e="manual"!==a.activationMode;u||s||!e||a.onValueChange(r)})})})});Ib.displayName=Ab;var Db="TabsContent",Lb=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,o=Tb(Db,n),l=Mb(o.baseId,r),c=$b(o.baseId,r),u=r===o.value,d=p.useRef(u);return p.useEffect(()=>{const e=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(e)},[]),f.jsx(yg,{present:s||u,children:({present:n})=>f.jsx(Jm.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!n,id:c,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:n&&i})})});function Mb(e,t){return`${e}-trigger-${t}`}function $b(e,t){return`${e}-content-${t}`}Lb.displayName=Db;var Fb=Ob,Ub=Ib,Bb=Lb;const zb=Pb,Vb=p.forwardRef(({className:e,...t},n)=>f.jsx(Fb,{ref:n,className:hm("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Vb.displayName=Fb.displayName;const qb=p.forwardRef(({className:e,...t},n)=>f.jsx(Ub,{ref:n,className:hm("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));qb.displayName=Ub.displayName;function Wb(){const{user:e}=si(),{toast:t}=Vv();dp();const[n,r]=p.useState([]),[s,i]=p.useState("all"),[a,o]=p.useState(""),[l,c]=p.useState(!1),[u,d]=p.useState(null),{data:h,isLoading:m}=gp({queryKey:["/api/bodega/items","all"===s?null:s]}),g=h?.filter(e=>e.isEcoFriendly).length??0,y=h?.filter(e=>e.isAvailable&&e.stock>0).length??0,v=(h?.reduce((e,t)=>e+(parseFloat(t.price)||0)*t.stock,0)??0).toFixed(0),b=yp({mutationFn:async e=>(await Xv("POST","/api/orders",e)).json(),onSuccess:()=>{t({title:"Order Placed!",description:"Your order will be ready for pickup during your next ride."}),r([]),c(!1)},onError:e=>{t({title:"Order Failed",description:e.message||"Unable to place order. Please try again.",variant:"destructive"})}}),w=h?.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.description?.toLowerCase().includes(a.toLowerCase()))||[],x=(e,n=1)=>{r(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+n}:t):[...t,{...e,quantity:n}]),d(e.id),setTimeout(()=>d(null),600),t({title:"Added to cart!",description:`${e.name} added to your cart`})},k=(e,t)=>{r(t<=0?t=>t.filter(t=>t.id!==e):n=>n.map(n=>n.id===e?{...n,quantity:t}:n))},S=()=>n.reduce((e,t)=>e+parseFloat(t.price)*t.quantity,0);return m?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(Hv,{size:"lg",text:"Loading bodega..."})}):f.jsx("div",{className:"min-h-screen py-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(uf.div,{className:"text-center mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[f.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-foreground mb-4",children:["Mobile ",f.jsx("span",{className:"text-amber-500",children:"Bodega"})," Experience"]}),f.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Shop local products during your ride with sparkling add-to-cart magic"})]}),f.jsx(uf.div,{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[{label:"Total Items",value:h?.length??0,description:"Fresh local products"},{label:"Available for Pickup",value:y,description:"In-stock and ready"},{label:"Eco Certified",value:g,description:`Inventory value $${v}`}].map(e=>f.jsxs("div",{className:"rounded-2xl border border-white/10 bg-muted/30 p-4 shadow-lg",children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-amber-300",children:e.label}),f.jsx("p",{className:"text-2xl font-bold text-white mt-2",children:e.value}),f.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.label))}),f.jsxs(uf.div,{className:"flex flex-col sm:flex-row gap-4 mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(vv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(eb,{placeholder:"Search products...",value:a,onChange:e=>o(e.target.value),className:"pl-10","data-testid":"input-search"})]}),f.jsxs(Om,{variant:"outline",onClick:()=>c(!0),className:"relative hover-lift","data-testid":"button-show-cart",children:[f.jsx(wv,{className:"h-4 w-4 mr-2"}),"Cart",n.length>0&&f.jsx(Im,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 flex items-center justify-center bg-primary text-xs",children:n.reduce((e,t)=>e+t.quantity,0)})]})]}),f.jsx(uf.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:f.jsx(zb,{value:s,onValueChange:i,className:"mb-8",children:f.jsx(Vb,{className:"grid w-full grid-cols-2 sm:grid-cols-5 bg-muted/50",children:[{id:"all",name:"All",icon:"fas fa-grid-2"},{id:"beverages",name:"Beverages",icon:"fas fa-coffee"},{id:"food",name:"Food",icon:"fas fa-apple-alt"},{id:"snacks",name:"Snacks",icon:"fas fa-cookie-bite"},{id:"accessories",name:"Accessories",icon:"fas fa-shopping-bag"}].map(e=>f.jsxs(qb,{value:e.id,className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground","data-testid":`tab-${e.id}`,children:[f.jsx("i",{className:`${e.icon} mr-2 text-sm`}),f.jsx("span",{className:"hidden sm:inline",children:e.name})]},e.id))})})}),f.jsx(uf.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:f.jsx(Si,{mode:"popLayout",children:w.map((e,t)=>f.jsx(uf.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{delay:.05*t},className:"relative",children:f.jsxs(fm,{className:"glass-morphism hover-lift group h-full","data-testid":`card-product-${e.id}`,children:[f.jsxs(pm,{className:"pb-3",children:[f.jsxs("div",{className:"aspect-square bg-gradient-to-br from-muted/20 to-muted/40 rounded-lg mb-4 overflow-hidden relative group-hover:scale-105 transition-transform",children:[e.imageUrl?f.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("i",{className:"fas fa-image text-4xl text-muted-foreground"})}),e.isEcoFriendly&&f.jsxs(Im,{className:"absolute top-2 left-2 bg-green-500 text-white",children:[f.jsx(fv,{className:"h-3 w-3 mr-1"}),"Eco"]}),e.stock<5&&e.stock>0&&f.jsx(Im,{variant:"destructive",className:"absolute top-2 right-2",children:"Low Stock"})]}),f.jsx(mm,{className:"text-lg line-clamp-2",children:e.name})]}),f.jsxs(gm,{className:"space-y-4",children:[f.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2",children:e.description}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",parseFloat(e.price).toFixed(2)]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(kv,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"4.8"})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center bg-muted/20 rounded-lg",children:[f.jsx(Om,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-primary/10",onClick:()=>{const t=n.find(t=>t.id===e.id);t&&t.quantity>1&&k(e.id,t.quantity-1)},"data-testid":`button-decrease-${e.id}`,children:f.jsx(mv,{className:"h-3 w-3"})}),f.jsx("span",{className:"px-3 py-1 text-sm font-medium",children:n.find(t=>t.id===e.id)?.quantity||0}),f.jsx(Om,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-primary/10",onClick:()=>x(e,1),disabled:!e.isAvailable||0===e.stock,"data-testid":`button-increase-${e.id}`,children:f.jsx(gv,{className:"h-3 w-3"})})]}),f.jsxs(Om,{onClick:()=>x(e),disabled:!e.isAvailable||0===e.stock,className:"eco-gradient text-white hover-lift ripple-effect relative","data-testid":`button-add-to-cart-${e.id}`,children:[f.jsx(xv,{className:"h-4 w-4 mr-2"}),"Add",f.jsx(Si,{children:u===e.id&&f.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:8},(e,t)=>f.jsx(uf.div,{className:"absolute w-1 h-1 bg-amber-400 rounded-full",style:{top:"50%",left:"50%"},initial:{scale:0,x:0,y:0},animate:{scale:[0,1,0],x:30*Math.cos(45*t*Math.PI/180),y:30*Math.sin(45*t*Math.PI/180)},transition:{duration:.6}},t))})})]})]})]})]})},e.id))})}),0===w.length&&f.jsxs(uf.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[f.jsx(Wv,{size:"xl",className:"mx-auto mb-4 opacity-50"}),f.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No products found"}),f.jsx("p",{className:"text-muted-foreground",children:a?"Try adjusting your search terms":"No products available in this category"})]}),f.jsx(Tv,{open:l,onOpenChange:c,children:f.jsxs(Ov,{className:"glass-morphism max-w-md","data-testid":"dialog-cart",children:[f.jsx(Av,{children:f.jsxs(Iv,{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(wv,{className:"mr-2 h-5 w-5"}),"Your Cart"]}),f.jsx(Om,{variant:"ghost",size:"sm",onClick:()=>c(!1),"data-testid":"button-close-cart",children:f.jsx(Cv,{className:"h-4 w-4"})})]})}),f.jsx("div",{className:"space-y-4",children:0===n.length?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(wv,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:"Your cart is empty"})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:n.map(e=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/10 rounded-lg","data-testid":`cart-item-${e.id}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-medium text-sm",children:e.name}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",parseFloat(e.price).toFixed(2)," each"]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Om,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>k(e.id,e.quantity-1),"data-testid":`button-cart-decrease-${e.id}`,children:f.jsx(mv,{className:"h-3 w-3"})}),f.jsx("span",{className:"text-sm font-medium w-8 text-center",children:e.quantity}),f.jsx(Om,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>k(e.id,e.quantity+1),"data-testid":`button-cart-increase-${e.id}`,children:f.jsx(gv,{className:"h-3 w-3"})})]}),f.jsxs("div",{className:"text-sm font-medium ml-3",children:["$",(parseFloat(e.price)*e.quantity).toFixed(2)]})]},e.id))}),f.jsxs("div",{className:"border-t pt-4 space-y-4",children:[f.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{className:"text-primary",children:["$",S().toFixed(2)]})]}),e?f.jsx(Om,{onClick:()=>{if(!e)return void t({title:"Please sign in",description:"You need to be signed in to place an order.",variant:"destructive"});const r={userId:e.id,items:n.map(e=>({itemId:e.id,quantity:e.quantity,price:e.price})),totalAmount:S().toFixed(2)};b.mutate(r)},disabled:b.isPending,className:"w-full eco-gradient text-white hover-lift animate-pulse-glow","data-testid":"button-checkout",children:b.isPending?f.jsxs("div",{className:"flex items-center",children:[f.jsx(Wv,{size:"sm",className:"mr-2"}),"Placing Order..."]}):f.jsxs("div",{className:"flex items-center",children:[f.jsx(Wv,{size:"sm",className:"mr-2"}),"Checkout on Arrival"]})}):f.jsx(ue,{to:"/login",children:f.jsx(Om,{className:"w-full eco-gradient text-white","data-testid":"button-sign-in-to-checkout",children:"Sign In to Checkout"})})]})]})})]})})]})})}p.forwardRef(({className:e,...t},n)=>f.jsx(Bb,{ref:n,className:hm("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t})).displayName=Bb.displayName;var Hb,Kb="https://js.stripe.com",Gb="".concat(Kb,"/").concat("basil","/stripe.js"),Qb=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Jb=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Yb=function(e){return Qb.test(e)||Jb.test(e)},Xb=function(e){var t=document.createElement("script");t.src="".concat(Gb).concat("");var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(t),t},Zb=null,ew=null,tw=null,nw=function(e){return null!==Zb?Zb:(Zb=new Promise(function(t,n){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Kb,'"]')),t=0;t<e.length;t++){var n=e[t];if(Yb(n.src))return n}return null}();if(r&&e);else if(r){if(r&&null!==tw&&null!==ew){var s;r.removeEventListener("load",tw),r.removeEventListener("error",ew),null===(s=r.parentNode)||void 0===s||s.removeChild(r),r=Xb()}}else r=Xb();tw=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),ew=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",tw),r.addEventListener("error",ew)}catch(i){return void n(i)}else t(null)})).catch(function(e){return Zb=null,Promise.reject(e)})};Promise.resolve().then(function(){return Hb||(Hb=nw(null).catch(function(e){return Hb=null,Promise.reject(e)}))}).catch(function(e){});const rw={orderId:"order_123",rideId:"ride_456",items:[{name:"Local Coffee Blend",price:12.99,quantity:1},{name:"Fresh Produce Box",price:24.99,quantity:1}],subtotal:37.98,tax:3.04,total:41.02};function sw(){const{user:e}=si(),{toast:t}=Vv(),[n,r]=p.useState(!1),[s,i]=p.useState(!1),a=yp({mutationFn:async e=>(await Xv("POST","/api/orders",e)).json()});p.useEffect(()=>{"true"===new URLSearchParams(window.location.search).get("success")&&r(!0)},[]);return e?n?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs(uf.div,{initial:{scale:0},animate:{scale:1},className:"text-center space-y-4",children:[f.jsx(Wv,{size:"lg",className:"mx-auto text-emerald-500"}),f.jsx("h2",{className:"text-3xl font-bold",children:"Payment confirmed!"}),f.jsx("p",{className:"text-muted-foreground",children:"Your order is being processed. You will be redirected shortly."}),f.jsx(ue,{to:"/dashboard",children:f.jsx(Om,{className:"eco-gradient text-white",children:"Return to Dashboard"})})]})}):f.jsx("div",{className:"min-h-screen py-12",children:f.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 px-4",children:[f.jsxs(fm,{className:"glass-morphism p-6",children:[f.jsx(pm,{className:"pb-2",children:f.jsx(mm,{children:"Checkout"})}),f.jsxs(gm,{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Order subtotal"}),f.jsxs("p",{className:"text-lg font-semibold",children:["$",rw.subtotal.toFixed(2)]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Tax"}),f.jsxs("p",{className:"text-lg font-semibold",children:["$",rw.tax.toFixed(2)]})]})]}),f.jsxs("div",{className:"border-t border-white/10 pt-4 flex items-center justify-between",children:[f.jsx("p",{className:"text-lg font-semibold",children:"Total"}),f.jsxs("p",{className:"text-2xl font-bold",children:["$",rw.total.toFixed(2)]})]}),f.jsx(Om,{className:"w-full eco-gradient text-white",onClick:async()=>{if(e){if(!s){i(!0);try{const t=await a.mutateAsync({userId:e.id,items:rw.items.map(e=>({itemId:`bodega_${e.name.replace(/\s+/g,"-").toLowerCase()}`,quantity:e.quantity,price:e.price.toFixed(2)})),totalAmount:rw.total.toFixed(2)}),n=rw.items.map(e=>({price_data:{currency:"usd",product_data:{name:e.name},unit_amount:Math.round(100*e.price)},quantity:e.quantity})),r=await(async e=>{const t=await fetch("/api/payments/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json().catch(()=>({message:"Unknown error"}));throw new Error(e.message||"Could not create checkout session")}return t.json()})({lineItems:n,successUrl:`${window.location.origin}/checkout?success=true`,cancelUrl:`${window.location.origin}/checkout?cancelled=true`,userId:e.id,orderId:t.id});if(!r.url)throw new Error("Stripe did not return a redirect URL");window.location.href=r.url}catch(n){t({title:"Checkout failed",description:n.message||"Unable to initiate payment",variant:"destructive"})}finally{i(!1)}}}else t({title:"Sign in required",description:"Please sign in to complete checkout",variant:"destructive"})},disabled:s,children:s?f.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[f.jsx(Wv,{size:"sm",className:"animate-spin"}),f.jsx("span",{children:"Redirecting to Stripe"})]}):"Continue to payment"})]})]}),f.jsx(fm,{className:"glass-morphism p-5 border border-emerald-500/50",children:f.jsxs(gm,{children:[f.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"You will be redirected to Stripe's secure checkout. Close the tab if you decide to cancel."}),f.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.jsx("p",{children:"Billing is handled securely by Stripe."}),f.jsx("p",{children:"Any problems? Reach out via support@airbear.io"})]})]})})]})}):f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(fm,{className:"max-w-md mx-auto glass-morphism",children:f.jsxs(gm,{className:"p-6 text-center",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sign In Required"}),f.jsx("p",{className:"text-muted-foreground mb-4",children:"Please sign in to proceed with checkout"}),f.jsx(Om,{asChild:!0,className:"eco-gradient text-white",children:f.jsx("a",{href:"/login",children:"Sign In"})})]})})})}function iw(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var aw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Sm(`Primitive.${t}`),r=p.forwardRef((e,r)=>{const{asChild:s,...i}=e,a=s?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...i,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),ow="Progress",[lw]=function(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>p.createContext(e));return function(n){const r=n?.[e]||t;return p.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const s=p.createContext(r);s.displayName=t+"Context";const i=n.length;n=[...n,r];const a=t=>{const{scope:n,children:r,...a}=t,o=n?.[e]?.[i]||s,l=p.useMemo(()=>a,Object.values(a));return f.jsx(o.Provider,{value:l,children:r})};return a.displayName=t+"Provider",[a,function(n,a){const o=a?.[e]?.[i]||s,l=p.useContext(o);if(l)return l;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},iw(r,...t)]}(ow),[cw,uw]=lw(ow),dw=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=pw,...a}=e;(s||0===s)&&yw(s);const o=yw(s)?s:100;null!==r&&vw(r,o);const l=vw(r,o)?r:null,c=gw(l)?i(l,o):void 0;return f.jsx(cw,{scope:n,value:l,max:o,children:f.jsx(aw.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":gw(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":mw(l,o),"data-value":l??void 0,"data-max":o,...a,ref:t})})});dw.displayName=ow;var hw="ProgressIndicator",fw=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=uw(hw,n);return f.jsx(aw.div,{"data-state":mw(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});function pw(e,t){return`${Math.round(e/t*100)}%`}function mw(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function gw(e){return"number"==typeof e}function yw(e){return gw(e)&&!isNaN(e)&&e>0}function vw(e,t){return gw(e)&&!isNaN(e)&&e<=t&&e>=0}fw.displayName=hw;var bw=dw,ww=fw;const xw=p.forwardRef(({className:e,value:t,...n},r)=>f.jsx(bw,{ref:r,className:hm("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:f.jsx(ww,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));function kw(){const{user:e}=si(),{toast:t}=Vv(),n=dp(),[r,s]=p.useState("daily"),i=[{id:"daily-1",title:"Take 3 Eco Rides",description:"Complete 3 AirBear rides today to reduce your carbon footprint",type:"daily",points:50,co2Reduction:"2.1 kg",isCompleted:!1,isActive:!0,progress:1,target:3,icon:""},{id:"daily-2",title:"Shop Local",description:"Purchase items from the AirBear bodega",type:"daily",points:25,co2Reduction:"0.5 kg",isCompleted:!0,isActive:!0,progress:1,target:1,icon:""},{id:"weekly-1",title:"Carbon Neutral Week",description:"Complete 15 eco-friendly rides this week",type:"weekly",points:200,co2Reduction:"8.5 kg",isCompleted:!1,isActive:!0,progress:7,target:15,icon:""},{id:"weekly-2",title:"Bodega Explorer",description:"Try 5 different bodega categories",type:"weekly",points:75,co2Reduction:"1.2 kg",isCompleted:!1,isActive:!0,progress:2,target:5,icon:""}],a=yp({mutationFn:async e=>({challengeId:e,completed:!0,points:50}),onSuccess:e=>{t({title:"Challenge Completed!",description:`You earned ${e.points} eco points!`}),n.invalidateQueries({queryKey:["/api/challenges"]})},onError:e=>{t({title:"Error",description:e.message||"Failed to complete challenge",variant:"destructive"})}}),o=i.filter(e=>e.type===r&&e.isActive),l=i.filter(e=>e.isCompleted).length,c=i.filter(e=>e.isCompleted).reduce((e,t)=>e+t.points,0);return e?f.jsx("div",{className:"min-h-screen py-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(uf.div,{className:"text-center mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[f.jsxs("div",{className:"flex justify-center items-center space-x-3 mb-4",children:[f.jsx(_v,{className:"h-8 w-8 text-green-500"}),f.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:["Eco ",f.jsx("span",{className:"text-green-500",children:"Challenges"})]})]}),f.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Complete missions, earn points, and make a real environmental impact"})]}),f.jsxs(uf.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[f.jsxs(fm,{className:"glass-morphism","data-testid":"card-completed-challenges",children:[f.jsx(pm,{className:"pb-3",children:f.jsxs(mm,{className:"text-lg flex items-center",children:[f.jsx(Ev,{className:"mr-2 h-5 w-5 text-amber-500"}),"Completed"]})}),f.jsxs(gm,{children:[f.jsx("div",{className:"text-3xl font-bold text-amber-500 mb-2",children:l}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Challenges finished"})]})]}),f.jsxs(fm,{className:"glass-morphism","data-testid":"card-total-points",children:[f.jsx(pm,{className:"pb-3",children:f.jsxs(mm,{className:"text-lg flex items-center",children:[f.jsx(kv,{className:"mr-2 h-5 w-5 text-purple-500"}),"Total Points"]})}),f.jsxs(gm,{children:[f.jsx("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:c}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Eco points earned"})]})]}),f.jsxs(fm,{className:"glass-morphism","data-testid":"card-co2-saved-challenges",children:[f.jsx(pm,{className:"pb-3",children:f.jsxs(mm,{className:"text-lg flex items-center",children:[f.jsx(fv,{className:"mr-2 h-5 w-5 text-green-500"}),"CO Saved"]})}),f.jsxs(gm,{children:[f.jsx("div",{className:"text-3xl font-bold text-green-500 mb-2",children:"4.2 kg"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"From challenges"})]})]})]}),f.jsx(uf.div,{className:"flex justify-center mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:f.jsx("div",{className:"bg-muted/50 p-1 rounded-lg",children:["daily","weekly","monthly"].map(e=>f.jsxs(Om,{variant:r===e?"default":"ghost",size:"sm",onClick:()=>s(e),className:"mx-1 "+(r===e?"eco-gradient text-white":""),"data-testid":`button-period-${e}`,children:[f.jsx(ov,{className:"mr-2 h-4 w-4"}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})}),f.jsx(uf.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:o.map((e,t)=>f.jsx(uf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:f.jsxs(fm,{className:"glass-morphism hover-lift "+(e.isCompleted?"border-green-500/50":""),"data-testid":`card-challenge-${e.id}`,children:[f.jsxs(pm,{className:"pb-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-2xl",children:e.icon}),e.isCompleted&&f.jsx(cv,{className:"h-5 w-5 text-green-500"})]}),f.jsx(mm,{className:"text-lg",children:e.title})]}),f.jsxs(gm,{className:"space-y-4",children:[f.jsx("p",{className:"text-muted-foreground text-sm",children:e.description}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{children:"Progress"}),f.jsxs("span",{children:[e.progress,"/",e.target]})]}),f.jsx(xw,{value:e.progress/e.target*100,className:"h-2"})]}),f.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(kv,{className:"h-4 w-4 text-amber-500"}),f.jsxs("span",{className:"text-sm font-medium",children:[e.points," points"]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(fv,{className:"h-4 w-4 text-green-500"}),f.jsx("span",{className:"text-sm text-muted-foreground",children:e.co2Reduction})]})]}),!e.isCompleted&&f.jsx(Om,{onClick:()=>a.mutate(e.id),disabled:a.isPending,className:"w-full eco-gradient text-white hover-lift","data-testid":`button-complete-${e.id}`,children:a.isPending?f.jsxs("div",{className:"flex items-center",children:[f.jsx(Wv,{size:"sm",className:"mr-2"}),"Completing..."]}):f.jsxs("div",{className:"flex items-center",children:[f.jsx(Nv,{className:"mr-2 h-4 w-4"}),"Complete Challenge"]})}),e.isCompleted&&f.jsx("div",{className:"text-center py-2",children:f.jsxs(Im,{className:"bg-green-500 text-white",children:[f.jsx(cv,{className:"mr-1 h-3 w-3"}),"Completed!"]})})]})]})},e.id))}),0===o.length&&f.jsxs(uf.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[f.jsx(_v,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),f.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No active challenges"}),f.jsx("p",{className:"text-muted-foreground",children:"Check back later for new eco challenges!"})]}),f.jsx(uf.div,{className:"mt-12 text-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:f.jsx(fm,{className:"glass-morphism max-w-md mx-auto",children:f.jsxs(gm,{className:"p-6",children:[f.jsx(iv,{className:"h-8 w-8 text-amber-500 mx-auto mb-4"}),f.jsx("h3",{className:"font-semibold mb-2",children:"Community Leaderboard"}),f.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Compete with other eco-warriors and climb the rankings!"}),f.jsx(Om,{variant:"outline",className:"hover-lift",children:"View Leaderboard"})]})})})]})}):f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(Hv,{size:"lg",text:"Loading challenges..."})})}function Sw(){const{user:e}=si(),{toast:t}=Vv(),[n,r]=p.useState([]),s=[{id:"free-coffee",name:"Free Coffee",description:"One complimentary coffee from any AirBear bodega",pointsRequired:100,category:"free_item",isAvailable:(e?.user_metadata?.eco_points||e?.app_metadata?.eco_points||0)>=100,isClaimed:n.includes("free-coffee"),icon:"",color:"bg-amber-500"},{id:"discount-ride",name:"50% Off Ride",description:"Half price on your next AirBear ride",pointsRequired:150,category:"discount",isAvailable:(e?.user_metadata?.eco_points||e?.app_metadata?.eco_points||0)>=150,isClaimed:n.includes("discount-ride"),icon:"",color:"bg-green-500"},{id:"eco-tshirt",name:"Eco Warrior T-Shirt",description:"Exclusive AirBear eco-warrior t-shirt",pointsRequired:300,category:"exclusive",isAvailable:(e?.user_metadata?.eco_points||e?.app_metadata?.eco_points||0)>=300,isClaimed:n.includes("eco-tshirt"),icon:"",color:"bg-purple-500"},{id:"priority-access",name:"Priority Access",description:"Skip the queue for one week",pointsRequired:200,category:"experience",isAvailable:(e?.user_metadata?.eco_points||e?.app_metadata?.eco_points||0)>=200,isClaimed:n.includes("priority-access"),icon:"",color:"bg-yellow-500"},{id:"free-bodega",name:"Free Bodega Item",description:"One free item up to $10 from any bodega",pointsRequired:250,category:"free_item",isAvailable:(e?.user_metadata?.eco_points||e?.app_metadata?.eco_points||0)>=250,isClaimed:n.includes("free-bodega"),icon:"",color:"bg-blue-500"},{id:"carbon-neutral",name:"Carbon Neutral Badge",description:"Exclusive digital badge for carbon neutral users",pointsRequired:500,category:"exclusive",isAvailable:(e?.user_metadata?.eco_points||e?.app_metadata?.eco_points||0)>=500,isClaimed:n.includes("carbon-neutral"),icon:"",color:"bg-emerald-500"}],i=e?.user_metadata?.eco_points||e?.app_metadata?.eco_points||0,a=s.filter(e=>e.isAvailable&&!e.isClaimed),o=n.length;return e?f.jsx("div",{className:"min-h-screen py-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(uf.div,{className:"text-center mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[f.jsxs("div",{className:"flex justify-center items-center space-x-3 mb-4",children:[f.jsx(hv,{className:"h-8 w-8 text-purple-500"}),f.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:["Rewards ",f.jsx("span",{className:"text-purple-500",children:"Store"})]})]}),f.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Redeem your eco points for exclusive rewards and discounts"})]}),f.jsxs(uf.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[f.jsxs(fm,{className:"glass-morphism","data-testid":"card-current-points",children:[f.jsx(pm,{className:"pb-3",children:f.jsxs(mm,{className:"text-lg flex items-center",children:[f.jsx(kv,{className:"mr-2 h-5 w-5 text-amber-500"}),"Current Points"]})}),f.jsxs(gm,{children:[f.jsx("div",{className:"text-3xl font-bold text-amber-500 mb-2",children:i}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Eco points available"})]})]}),f.jsxs(fm,{className:"glass-morphism","data-testid":"card-available-rewards",children:[f.jsx(pm,{className:"pb-3",children:f.jsxs(mm,{className:"text-lg flex items-center",children:[f.jsx(hv,{className:"mr-2 h-5 w-5 text-green-500"}),"Available"]})}),f.jsxs(gm,{children:[f.jsx("div",{className:"text-3xl font-bold text-green-500 mb-2",children:a.length}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Rewards you can claim"})]})]}),f.jsxs(fm,{className:"glass-morphism","data-testid":"card-claimed-rewards",children:[f.jsx(pm,{className:"pb-3",children:f.jsxs(mm,{className:"text-lg flex items-center",children:[f.jsx(Ev,{className:"mr-2 h-5 w-5 text-purple-500"}),"Claimed"]})}),f.jsxs(gm,{children:[f.jsx("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:o}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Rewards redeemed"})]})]})]}),f.jsx(uf.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:s.map((e,n)=>f.jsx(uf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},children:f.jsxs(fm,{className:`glass-morphism hover-lift ${e.isClaimed?"border-green-500/50":""} ${e.isAvailable||e.isClaimed?"":"opacity-60"}`,"data-testid":`card-reward-${e.id}`,children:[f.jsxs(pm,{className:"pb-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-3xl",children:e.icon}),e.isClaimed&&f.jsx(cv,{className:"h-5 w-5 text-green-500"}),!e.isAvailable&&!e.isClaimed&&f.jsxs(Im,{variant:"outline",className:"text-xs",children:[e.pointsRequired-i," more points"]})]}),f.jsx(mm,{className:"text-lg",children:e.name})]}),f.jsxs(gm,{className:"space-y-4",children:[f.jsx("p",{className:"text-muted-foreground text-sm",children:e.description}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(kv,{className:"h-4 w-4 text-amber-500"}),f.jsxs("span",{className:"text-sm font-medium",children:[e.pointsRequired," points"]})]}),f.jsx(Im,{variant:"exclusive"===e.category?"default":"secondary",className:"capitalize",children:e.category.replace("_"," ")})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-xs",children:[f.jsx("span",{children:"Your Progress"}),f.jsxs("span",{children:[i,"/",e.pointsRequired]})]}),f.jsx(xw,{value:i/e.pointsRequired*100,className:"h-2"})]}),f.jsx(Om,{onClick:()=>(e=>{e.isAvailable&&!e.isClaimed&&(r(t=>[...t,e.id]),t({title:"Reward Claimed!",description:`${e.name} has been added to your account.`}))})(e),disabled:!e.isAvailable||e.isClaimed,className:"w-full "+(e.isClaimed?"bg-green-500 hover:bg-green-600":"eco-gradient hover-lift"),"data-testid":`button-claim-${e.id}`,children:e.isClaimed?f.jsxs("div",{className:"flex items-center",children:[f.jsx(cv,{className:"mr-2 h-4 w-4"}),"Claimed"]}):e.isAvailable?f.jsxs("div",{className:"flex items-center",children:[f.jsx(hv,{className:"mr-2 h-4 w-4"}),"Claim Reward"]}):f.jsxs("div",{className:"flex items-center",children:[f.jsx(kv,{className:"mr-2 h-4 w-4"}),"Need ",e.pointsRequired-i," more points"]})})]})]})},e.id))}),f.jsx(uf.div,{className:"mt-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:f.jsxs(fm,{className:"glass-morphism",children:[f.jsx(pm,{children:f.jsxs(mm,{className:"flex items-center",children:[f.jsx(iv,{className:"mr-2 h-6 w-6 text-amber-500"}),"Achievement Badges"]})}),f.jsx(gm,{children:f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{name:"First Ride",points:10,earned:i>=10},{name:"Eco Warrior",points:100,earned:i>=100},{name:"Carbon Hero",points:250,earned:i>=250},{name:"Sustainability Champion",points:500,earned:i>=500}].map((e,t)=>f.jsxs("div",{className:"text-center p-4 rounded-lg "+(e.earned?"bg-amber-500/10 border border-amber-500/30":"bg-muted/20"),children:[f.jsx("div",{className:"text-2xl mb-2 "+(e.earned?"animate-pulse":"grayscale opacity-50"),children:e.earned?"":""}),f.jsx("p",{className:"text-sm font-medium "+(e.earned?"text-amber-500":"text-muted-foreground"),children:e.name}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.points," points"]})]},e.name))})})]})}),f.jsx(uf.div,{className:"mt-8 text-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:f.jsx(fm,{className:"glass-morphism max-w-md mx-auto",children:f.jsxs(gm,{className:"p-6",children:[f.jsx(Nv,{className:"h-8 w-8 text-primary mx-auto mb-4"}),f.jsx("h3",{className:"font-semibold mb-2",children:"Need More Points?"}),f.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Earn points by completing rides, shopping at bodegas, and participating in eco challenges!"}),f.jsx(Om,{variant:"outline",className:"hover-lift",children:"View Ways to Earn"})]})})})]})}):f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(Hv,{size:"lg",text:"Loading rewards..."})})}xw.displayName=bw.displayName;var _w="Checkbox",[jw]=Lm(_w),[Ew,Cw]=jw(_w);function Nw(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:o,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:d}=e,[h,m]=Vm({prop:n,defaultProp:s??!1,onChange:l,caller:_w}),[g,y]=p.useState(null),[v,b]=p.useState(null),w=p.useRef(!1),x=!g||(!!a||!!g.closest("form")),k={checked:h,disabled:i,setChecked:m,control:g,setControl:y,name:o,form:a,value:u,hasConsumerStoppedPropagationRef:w,required:c,defaultChecked:!Mw(s)&&s,isFormControl:x,bubbleInput:v,setBubbleInput:b};return f.jsx(Ew,{scope:t,...k,children:Lw(d)?d(k):r})}var Tw="CheckboxTrigger",Pw=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:a,disabled:o,checked:l,required:c,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=Cw(Tw,e),y=bm(s,u),v=p.useRef(l);return p.useEffect(()=>{const e=i?.form;if(e){const t=()=>d(v.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[i,d]),f.jsx(Jm.button,{type:"button",role:"checkbox","aria-checked":Mw(l)?"mixed":l,"aria-required":c,"data-state":$w(l),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:y,onKeyDown:Dm(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:Dm(n,e=>{d(e=>!!Mw(e)||!e),g&&m&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())})})});Pw.displayName=Tw;var Rw=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:o,value:l,onCheckedChange:c,form:u,...d}=e;return f.jsx(Nw,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:o,required:a,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:e})=>f.jsxs(f.Fragment,{children:[f.jsx(Pw,{...d,ref:t,__scopeCheckbox:n}),e&&f.jsx(Dw,{__scopeCheckbox:n})]})})});Rw.displayName=_w;var Ow="CheckboxIndicator",Aw=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=Cw(Ow,n);return f.jsx(yg,{present:r||Mw(i.checked)||!0===i.checked,children:f.jsx(Jm.span,{"data-state":$w(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Aw.displayName=Ow;var Iw="CheckboxBubbleInput",Dw=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:o,disabled:l,name:c,value:u,form:d,bubbleInput:h,setBubbleInput:m}=Cw(Iw,e),g=bm(n,m),y=function(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(i),v=function(e){const[t,n]=p.useState(void 0);return $m(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let s,i;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,i=t.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(r);p.useEffect(()=>{const e=h;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set,r=!s.current;if(y!==i&&n){const t=new Event("click",{bubbles:r});e.indeterminate=Mw(i),n.call(e,!Mw(i)&&i),e.dispatchEvent(t)}},[h,y,i,s]);const b=p.useRef(!Mw(i)&&i);return f.jsx(Jm.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:o,disabled:l,name:c,value:u,form:d,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function Lw(e){return"function"==typeof e}function Mw(e){return"indeterminate"===e}function $w(e){return Mw(e)?"indeterminate":e?"checked":"unchecked"}Dw.displayName=Iw;const Fw=p.forwardRef(({className:e,...t},n)=>f.jsx(Rw,{ref:n,className:hm("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:f.jsx(Aw,{className:hm("flex items-center justify-center text-current"),children:f.jsx(lv,{className:"h-4 w-4"})})}));function Uw(){const{user:e}=si(),[t,n]=p.useState(!1),[r,s]=p.useState(!1),[i,a]=p.useState(!1);return f.jsx("div",{className:"min-h-screen py-8",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs(uf.div,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[f.jsxs("div",{className:"relative inline-block mb-6",children:[f.jsx(uf.div,{className:"text-8xl",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:""}),f.jsx(uf.div,{className:"absolute -top-2 -right-2",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},children:f.jsx(dv,{className:"h-8 w-8 text-amber-500"})})]}),f.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold text-foreground mb-4",children:["CEO-Signed ",f.jsx("span",{className:"text-primary animate-pulse-glow",children:"AirBear"})," T-Shirt"]}),f.jsx("p",{className:"text-xl text-muted-foreground mb-2",children:f.jsx("span",{className:"text-emerald-600 font-bold",children:'"Buy the tee, ride for freeAirBear\'s eco-key!"'})}),f.jsx(Im,{variant:"destructive",className:"text-lg px-4 py-2 animate-pulse",children:"Limited Time  $100 Value"})]}),f.jsxs(uf.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"grid md:grid-cols-2 gap-8 mb-12",children:[f.jsxs(fm,{className:"glass-morphism hover-lift overflow-hidden",children:[f.jsx(pm,{className:"bg-gradient-to-br from-emerald-500 to-lime-500 text-white",children:f.jsxs(mm,{className:"flex items-center text-2xl",children:[f.jsx(bv,{className:"mr-3 h-8 w-8"}),"Exclusive CEO Edition"]})}),f.jsx(gm,{className:"p-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"aspect-square bg-gradient-to-br from-emerald-100 to-lime-100 rounded-lg flex items-center justify-center mb-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-6xl mb-2",children:""}),f.jsx("div",{className:"text-lg font-bold text-emerald-700",children:"AirBear"}),f.jsx("div",{className:"text-sm text-emerald-600",children:"Solar Power in the Air!"})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"font-medium",children:"Material:"}),f.jsx("span",{children:"100% Organic Cotton"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"font-medium",children:"Signature:"}),f.jsx("span",{className:"text-primary",children:"CEO Authenticated"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"font-medium",children:"Benefit:"}),f.jsx("span",{className:"text-emerald-600",children:"1 Free Ride/Day"})]})]})]})})]}),f.jsxs(fm,{className:"glass-morphism hover-lift",children:[f.jsx(pm,{children:f.jsxs(mm,{className:"flex items-center text-2xl",children:[f.jsx(hv,{className:"mr-3 h-8 w-8 text-amber-500"}),"Premium Benefits"]})}),f.jsxs(gm,{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(cv,{className:"h-5 w-5 text-green-500 mt-1"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:"Daily Free AirBear Ride"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"One complimentary ride every 24 hours"})]})]}),f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(cv,{className:"h-5 w-5 text-green-500 mt-1"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:"VIP Priority Booking"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Skip the line with priority access"})]})]}),f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(cv,{className:"h-5 w-5 text-green-500 mt-1"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:"Exclusive AirBear Events"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Access to member-only gatherings"})]})]}),f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(jv,{className:"h-5 w-5 text-amber-500 mt-1"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-amber-700",children:"Non-Transferable"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Benefits tied to your account only"})]})]})]})]})]}),f.jsx(uf.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:f.jsx(fm,{className:"glass-morphism text-center",children:f.jsxs(gm,{className:"p-8",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"$100"}),f.jsx("p",{className:"text-muted-foreground",children:"One-time purchase  Lifetime benefits"})]}),f.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[f.jsx(Fw,{id:"terms",checked:t,onCheckedChange:e=>n(!0===e)}),f.jsxs("label",{htmlFor:"terms",className:"text-sm cursor-pointer",children:["I agree to the"," ",f.jsx("button",{className:"text-primary hover:underline",onClick:()=>s(!0),children:"End User Agreement"})]})]}),i?f.jsxs("div",{className:"text-center",children:[f.jsxs(uf.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center space-x-2 text-green-600 mb-4",children:[f.jsx(cv,{className:"h-6 w-6"}),f.jsx("span",{className:"font-semibold",children:"Promo Activated!"})]}),f.jsx("p",{className:"text-muted-foreground mb-4",children:"Your CEO T-shirt is being prepared. You now have daily free rides!"}),f.jsx(ue,{to:"/map",children:f.jsxs(Om,{className:"eco-gradient text-white hover-lift",children:[f.jsx(Wv,{size:"sm",className:"mr-2"}),"Book Your Free AirBear Ride"]})})]}):f.jsxs(Om,{size:"lg",onClick:()=>{t?a(!0):s(!0)},disabled:!e,className:"eco-gradient text-white hover-lift ripple-effect px-8 py-4 text-lg font-semibold animate-pulse-glow",children:[f.jsx(xv,{className:"mr-3 h-6 w-6"}),"Activate CEO T-Shirt Promo"]}),!e&&f.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:[f.jsx(ue,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})," ","to activate this exclusive offer"]})]})})}),f.jsx(Tv,{open:r,onOpenChange:s,children:f.jsxs(Ov,{className:"glass-morphism max-w-2xl max-h-96 overflow-y-auto",children:[f.jsx(Av,{children:f.jsxs(Iv,{className:"flex items-center",children:[f.jsx(dv,{className:"mr-2 h-6 w-6 text-amber-500"}),"AirBear CEO T-Shirt End User Agreement"]})}),f.jsxs("div",{className:"space-y-4 text-sm",children:[f.jsxs("section",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"1. EXCLUSIVE BENEFITS"}),f.jsx("p",{children:"The CEO-signed AirBear T-shirt grants the holder one (1) complimentary AirBear ride per 24-hour period. This benefit is non-transferable and tied exclusively to the purchaser's account."})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"2. NON-TRANSFERABLE LICENSE"}),f.jsx("p",{children:"This promotional benefit cannot be sold, transferred, gifted, or shared with any other individual. Violation of this term results in immediate termination of benefits."})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"3. RIDE LIMITATIONS"}),f.jsx("p",{children:"Free rides are limited to standard AirBear routes within Binghamton. Premium routes, extended trips, or special event transportation may incur additional charges."})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"4. AUTHENTICITY GUARANTEE"}),f.jsx("p",{children:"Each T-shirt includes an authentic CEO signature and holographic verification. AirBear reserves the right to verify authenticity at any time."})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"font-semibold mb-2",children:"5. ENVIRONMENTAL COMMITMENT"}),f.jsx("p",{children:"By purchasing this item, you commit to supporting AirBear's mission of sustainable transportation and reducing carbon emissions in Binghamton."})]}),f.jsxs("div",{className:"flex space-x-3 mt-6",children:[f.jsx(Om,{variant:"outline",onClick:()=>s(!1),children:"Close"}),f.jsx(Om,{onClick:()=>{n(!0),s(!1)},className:"eco-gradient text-white",children:"Accept Agreement"})]})]})]})})]})})}function Bw({children:e,loadingText:t="Securing the ride..."}){const{user:n,loading:r}=si(),[s,i]=ie();return p.useEffect(()=>{if(!r&&!n){const e=encodeURIComponent(s);i(`/login?redirect=${e}`)}},[r,s,i,n]),r?f.jsx("div",{className:"min-h-[240px] flex items-center justify-center px-4",children:f.jsx(Hv,{size:"lg",text:t})}):n?f.jsx(f.Fragment,{children:e}):null}function zw(){const{user:e,role:t,loading:n,signOut:r}=si();return f.jsxs("div",{className:"min-h-screen bg-slate-950 px-4 py-10 text-white md:px-12",children:[f.jsxs("header",{className:"mx-auto mb-10 flex max-w-6xl items-center justify-between gap-4 rounded-2xl border border-white/5 bg-white/5 px-6 py-4 shadow-2xl shadow-cyan-500/20 backdrop-blur",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-cyan-300",children:"AirBear"}),f.jsx("h1",{className:"text-2xl font-bold",children:"AirBear mobile bodega and solar powered rideshare"})]}),f.jsxs("nav",{className:"flex flex-wrap items-center gap-3 text-sm font-semibold uppercase tracking-[0.3em]",children:[f.jsx(ue,{className:"transition hover:text-cyan-300",href:"/",children:"Home"}),f.jsx(ue,{className:"transition hover:text-cyan-300",href:"/map",children:"Map"}),f.jsx(ue,{className:"transition hover:text-cyan-300",href:"/bodega",children:"Bodega"}),f.jsx(ue,{className:"transition hover:text-cyan-300",href:`/dashboard/${t??"user"}`,children:"Dashboard"}),!e&&f.jsx(ue,{className:"transition hover:text-cyan-300",href:"/login",children:"Login"})]}),f.jsxs("div",{className:"flex items-center gap-3 text-xs tracking-[0.4em] text-cyan-200",children:[f.jsx("span",{children:t?t.toUpperCase():"GUEST"}),e&&f.jsx("button",{onClick:()=>r(),className:"rounded-full border border-white/30 px-3 py-1 text-xs uppercase tracking-[0.4em]",children:"Sign out"})]})]}),f.jsxs("main",{className:"mx-auto max-w-6xl space-y-8",children:[n&&f.jsx("div",{className:"rounded-3xl border border-white/30 bg-white/5 p-4 text-center text-sm text-cyan-200",children:"Syncing session..."}),f.jsxs(he,{children:[f.jsx(ce,{path:"/",component:ii}),f.jsx(ce,{path:"/map",component:Zv}),f.jsx(ce,{path:"/bodega",children:()=>f.jsx(Bw,{children:f.jsx(Wb,{})})}),f.jsx(ce,{path:"/checkout",children:()=>f.jsx(Bw,{children:f.jsx(sw,{})})}),f.jsx(ce,{path:"/challenges",children:()=>f.jsx(Bw,{children:f.jsx(kw,{})})}),f.jsx(ce,{path:"/rewards",children:()=>f.jsx(Bw,{children:f.jsx(Sw,{})})}),f.jsx(ce,{path:"/promo",children:()=>f.jsx(Bw,{children:f.jsx(Uw,{})})}),f.jsx(ce,{path:"/login",component:oi}),f.jsx(ce,{path:"/dashboard/:role",children:()=>f.jsx(Bw,{children:f.jsx(ci,{})})}),f.jsx(ce,{path:"*",component:ii})]})]})]})}Fw.displayName=Rw.displayName;const Vw=p.createContext(void 0),qw=ei.channel("airbear-presence",{config:{presence:{key:"airbear-presence-user"}}});try{qw.subscribe()}catch(Qw){}function Ww(e,t){const n=ei.channel(`airbear-${e}-updates`);n.on("postgres_changes",{event:"*",schema:"public",table:e},t);try{n.subscribe()}catch(Qw){}return()=>{n.unsubscribe(),ei.removeChannel(n)}}function Hw({children:e}){const t=e=>Ww("rides",e),n=e=>Ww("inventory",e),r=e=>Ww("orders",e),s=async(e,t,n)=>{const{data:r,error:s}=await ei.storage.from(e).upload(t,n,{upsert:!0});if(s||!r)throw s??new Error("Failed to upload file");return r.path},i=async(e,t)=>{const{data:n,error:r}=await ei.storage.from(e).download(t);if(r||!n)throw r??new Error("Failed to download file");return URL.createObjectURL(n)},a=async e=>{try{await qw.track({userId:e})}catch(Qw){}},o=async()=>{const e=qw.presenceState();return Object.keys(e)},l=p.useMemo(()=>({client:ei,subscribeToRides:t,subscribeToInventory:n,subscribeToOrders:r,uploadFile:s,downloadFile:i,trackUserPresence:a,getOnlineUsers:o}),[]);return f.jsx(Vw.Provider,{value:l,children:e})}const Kw=document.getElementById("root");if(Kw){P.createRoot(Kw).render(f.jsx(m.StrictMode,{children:f.jsx(Hw,{children:f.jsx(ri,{children:f.jsx(zw,{})})})}))}
//# sourceMappingURL=index-Cxn6hVah.js.map
